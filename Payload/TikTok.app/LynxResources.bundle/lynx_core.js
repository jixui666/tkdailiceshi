(()=>{var Ag=Object.create;var ai=Object.defineProperty,Cg=Object.defineProperties,Ig=Object.getOwnPropertyDescriptor,Rg=Object.getOwnPropertyDescriptors,Og=Object.getOwnPropertyNames,bn=Object.getOwnPropertySymbols,Tg=Object.getPrototypeOf,si=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable;var lu=(r,e,t)=>e in r?ai(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e)=>{for(var t in e||(e={}))si.call(e,t)&&lu(r,t,e[t]);if(bn)for(var t of bn(e))pu.call(e,t)&&lu(r,t,e[t]);return r},Sn=(r,e)=>Cg(r,Rg(e));var fu=(r,e)=>{var t={};for(var n in r)si.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&bn)for(var n of bn(r))e.indexOf(n)<0&&pu.call(r,n)&&(t[n]=r[n]);return t};var d=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var qg=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Og(e))!si.call(r,o)&&o!==t&&ai(r,o,{get:()=>e[o],enumerable:!(n=Ig(e,o))||n.enumerable});return r};var du=(r,e,t)=>(t=r!=null?Ag(Tg(r)):{},qg(e||!r||!r.__esModule?ai(t,"default",{value:r,enumerable:!0}):t,r));var U=d((vN,hu)=>{var An=function(r){return r&&r.Math==Math&&r};hu.exports=An(typeof globalThis=="object"&&globalThis)||An(typeof window=="object"&&window)||An(typeof self=="object"&&self)||An(typeof global=="object"&&global)||Function("return this")()});var w=d((yN,vu)=>{vu.exports=function(r){try{return!!r()}catch(e){return!0}}});var Y=d((mN,yu)=>{var Pg=w();yu.exports=!Pg(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var Cn=d(_u=>{"use strict";var mu={}.propertyIsEnumerable,gu=Object.getOwnPropertyDescriptor,Dg=gu&&!mu.call({1:2},1);_u.f=Dg?function(e){var t=gu(this,e);return!!t&&t.enumerable}:mu});var dt=d((_N,Eu)=>{Eu.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var Rt=d((EN,xu)=>{var wg={}.toString;xu.exports=function(r){return wg.call(r).slice(8,-1)}});var In=d((xN,bu)=>{var Ng=w(),Mg=Rt(),Lg="".split;bu.exports=Ng(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return Mg(r)=="String"?Lg.call(r,""):Object(r)}:Object});var oe=d((bN,Su)=>{Su.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}});var Ne=d((SN,Au)=>{var Ug=In(),Fg=oe();Au.exports=function(r){return Ug(Fg(r))}});var V=d((AN,Cu)=>{Cu.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}});var ze=d((CN,Iu)=>{var Rn=V();Iu.exports=function(r,e){if(!Rn(r))return r;var t,n;if(e&&typeof(t=r.toString)=="function"&&!Rn(n=t.call(r))||typeof(t=r.valueOf)=="function"&&!Rn(n=t.call(r))||!e&&typeof(t=r.toString)=="function"&&!Rn(n=t.call(r)))return n;throw TypeError("Can't convert object to primitive value")}});var Q=d((IN,Ru)=>{var jg={}.hasOwnProperty;Ru.exports=function(r,e){return jg.call(r,e)}});var ci=d((RN,Tu)=>{var $g=U(),Ou=V(),ui=$g.document,kg=Ou(ui)&&Ou(ui.createElement);Tu.exports=function(r){return kg?ui.createElement(r):{}}});var li=d((ON,qu)=>{var Bg=Y(),Gg=w(),Vg=ci();qu.exports=!Bg&&!Gg(function(){return Object.defineProperty(Vg("div"),"a",{get:function(){return 7}}).a!=7})});var Se=d(Du=>{var Wg=Y(),Kg=Cn(),Hg=dt(),Jg=Ne(),Yg=ze(),Qg=Q(),zg=li(),Pu=Object.getOwnPropertyDescriptor;Du.f=Wg?Pu:function(e,t){if(e=Jg(e),t=Yg(t,!0),zg)try{return Pu(e,t)}catch(n){}if(Qg(e,t))return Hg(!Kg.f.call(e,t),e[t])}});var N=d((qN,wu)=>{var Xg=V();wu.exports=function(r){if(!Xg(r))throw TypeError(String(r)+" is not an object");return r}});var K=d(Lu=>{var Zg=Y(),e_=li(),Nu=N(),t_=ze(),Mu=Object.defineProperty;Lu.f=Zg?Mu:function(e,t,n){if(Nu(e),t=t_(t,!0),Nu(n),e_)try{return Mu(e,t,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}});var le=d((DN,Uu)=>{var r_=Y(),n_=K(),o_=dt();Uu.exports=r_?function(r,e,t){return n_.f(r,e,o_(1,t))}:function(r,e,t){return r[e]=t,r}});var On=d((wN,ju)=>{var Fu=U(),i_=le();ju.exports=function(r,e){try{i_(Fu,r,e)}catch(t){Fu[r]=e}return e}});var pi=d((NN,ku)=>{var a_=U(),s_=On(),$u="__core-js_shared__",u_=a_[$u]||s_($u,{});ku.exports=u_});var di=d((MN,Bu)=>{var fi=pi(),c_=Function.toString;typeof fi.inspectSource!="function"&&(fi.inspectSource=function(r){return c_.call(r)});Bu.exports=fi.inspectSource});var hi=d((LN,Vu)=>{var l_=U(),p_=di(),Gu=l_.WeakMap;Vu.exports=typeof Gu=="function"&&/native code/.test(p_(Gu))});var ht=d((UN,Wu)=>{Wu.exports=!1});var Tn=d((FN,Hu)=>{var f_=ht(),Ku=pi();(Hu.exports=function(r,e){return Ku[r]||(Ku[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.6.4",mode:f_?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})});var Ht=d((jN,Ju)=>{var d_=0,h_=Math.random();Ju.exports=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++d_+h_).toString(36)}});var Ir=d(($N,Qu)=>{var v_=Tn(),y_=Ht(),Yu=v_("keys");Qu.exports=function(r){return Yu[r]||(Yu[r]=y_(r))}});var Jt=d((kN,zu)=>{zu.exports={}});var Ae=d((BN,rc)=>{var m_=hi(),g_=U(),__=V(),E_=le(),Xu=Q(),x_=Ir(),b_=Jt(),S_=g_.WeakMap,qn,Rr,Pn,A_=function(r){return Pn(r)?Rr(r):qn(r,{})},C_=function(r){return function(e){var t;if(!__(e)||(t=Rr(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}};m_?(Ot=new S_,Zu=Ot.get,ec=Ot.has,tc=Ot.set,qn=function(r,e){return tc.call(Ot,r,e),e},Rr=function(r){return Zu.call(Ot,r)||{}},Pn=function(r){return ec.call(Ot,r)}):(Yt=x_("state"),b_[Yt]=!0,qn=function(r,e){return E_(r,Yt,e),e},Rr=function(r){return Xu(r,Yt)?r[Yt]:{}},Pn=function(r){return Xu(r,Yt)});var Ot,Zu,ec,tc,Yt;rc.exports={set:qn,get:Rr,has:Pn,enforce:A_,getterFor:C_}});var Me=d((GN,ic)=>{var I_=U(),nc=le(),R_=Q(),O_=On(),T_=di(),oc=Ae(),q_=oc.get,P_=oc.enforce,D_=String(String).split("String");(ic.exports=function(r,e,t,n){var o=n?!!n.unsafe:!1,i=n?!!n.enumerable:!1,a=n?!!n.noTargetGet:!1;if(typeof t=="function"&&(typeof e=="string"&&!R_(t,"name")&&nc(t,"name",e),P_(t).source=D_.join(typeof e=="string"?e:"")),r===I_){i?r[e]=t:O_(e,t);return}else o?!a&&r[e]&&(i=!0):delete r[e];i?r[e]=t:nc(r,e,t)})(Function.prototype,"toString",function(){return typeof this=="function"&&q_(this).source||T_(this)})});var vi=d((VN,ac)=>{var w_=U();ac.exports=w_});var ke=d((WN,uc)=>{var yi=vi(),mi=U(),sc=function(r){return typeof r=="function"?r:void 0};uc.exports=function(r,e){return arguments.length<2?sc(yi[r])||sc(mi[r]):yi[r]&&yi[r][e]||mi[r]&&mi[r][e]}});var Ce=d((KN,cc)=>{var N_=Math.ceil,M_=Math.floor;cc.exports=function(r){return isNaN(r=+r)?0:(r>0?M_:N_)(r)}});var k=d((HN,lc)=>{var L_=Ce(),U_=Math.min;lc.exports=function(r){return r>0?U_(L_(r),9007199254740991):0}});var Tt=d((JN,pc)=>{var F_=Ce(),j_=Math.max,$_=Math.min;pc.exports=function(r,e){var t=F_(r);return t<0?j_(t+e,0):$_(t,e)}});var Or=d((YN,dc)=>{var k_=Ne(),B_=k(),G_=Tt(),fc=function(r){return function(e,t,n){var o=k_(e),i=B_(o.length),a=G_(n,i),u;if(r&&t!=t){for(;i>a;)if(u=o[a++],u!=u)return!0}else for(;i>a;a++)if((r||a in o)&&o[a]===t)return r||a||0;return!r&&-1}};dc.exports={includes:fc(!0),indexOf:fc(!1)}});var _i=d((QN,hc)=>{var gi=Q(),V_=Ne(),W_=Or().indexOf,K_=Jt();hc.exports=function(r,e){var t=V_(r),n=0,o=[],i;for(i in t)!gi(K_,i)&&gi(t,i)&&o.push(i);for(;e.length>n;)gi(t,i=e[n++])&&(~W_(o,i)||o.push(i));return o}});var Dn=d((zN,vc)=>{vc.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var qt=d(yc=>{var H_=_i(),J_=Dn(),Y_=J_.concat("length","prototype");yc.f=Object.getOwnPropertyNames||function(e){return H_(e,Y_)}});var Ei=d(mc=>{mc.f=Object.getOwnPropertySymbols});var wn=d((eM,gc)=>{var Q_=ke(),z_=qt(),X_=Ei(),Z_=N();gc.exports=Q_("Reflect","ownKeys")||function(e){var t=z_.f(Z_(e)),n=X_.f;return n?t.concat(n(e)):t}});var xi=d((tM,_c)=>{var eE=Q(),tE=wn(),rE=Se(),nE=K();_c.exports=function(r,e){for(var t=tE(e),n=nE.f,o=rE.f,i=0;i<t.length;i++){var a=t[i];eE(r,a)||n(r,a,o(e,a))}}});var Nn=d((rM,Ec)=>{var oE=w(),iE=/#|\.prototype\./,Tr=function(r,e){var t=sE[aE(r)];return t==cE?!0:t==uE?!1:typeof e=="function"?oE(e):!!e},aE=Tr.normalize=function(r){return String(r).replace(iE,".").toLowerCase()},sE=Tr.data={},uE=Tr.NATIVE="N",cE=Tr.POLYFILL="P";Ec.exports=Tr});var I=d((nM,xc)=>{var bi=U(),lE=Se().f,pE=le(),fE=Me(),dE=On(),hE=xi(),vE=Nn();xc.exports=function(r,e){var t=r.target,n=r.global,o=r.stat,i,a,u,s,c,p;if(n?a=bi:o?a=bi[t]||dE(t,{}):a=(bi[t]||{}).prototype,a)for(u in e){if(c=e[u],r.noTargetGet?(p=lE(a,u),s=p&&p.value):s=a[u],i=vE(n?u:t+(o?".":"#")+u,r.forced),!i&&s!==void 0){if(typeof c==typeof s)continue;hE(c,s)}(r.sham||s&&s.sham)&&pE(c,"sham",!0),fE(a,u,c,r)}}});var Mn=d((oM,bc)=>{var yE=w();bc.exports=!!Object.getOwnPropertySymbols&&!yE(function(){return!String(Symbol())})});var Si=d((iM,Sc)=>{var mE=Mn();Sc.exports=mE&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Pt=d((aM,Ac)=>{var gE=Rt();Ac.exports=Array.isArray||function(e){return gE(e)=="Array"}});var ie=d((sM,Cc)=>{var _E=oe();Cc.exports=function(r){return Object(_E(r))}});var Ln=d((uM,Ic)=>{var EE=_i(),xE=Dn();Ic.exports=Object.keys||function(e){return EE(e,xE)}});var Oc=d((cM,Rc)=>{var bE=Y(),SE=K(),AE=N(),CE=Ln();Rc.exports=bE?Object.defineProperties:function(e,t){AE(e);for(var n=CE(t),o=n.length,i=0,a;o>i;)SE.f(e,a=n[i++],t[a]);return e}});var qc=d((lM,Tc)=>{var IE=ke();Tc.exports=IE("document","documentElement")});var Dt=d((pM,Lc)=>{var RE=N(),OE=Oc(),Pc=Dn(),TE=Jt(),qE=qc(),PE=ci(),DE=Ir(),Dc=">",wc="<",Ii="prototype",Ri="script",Nc=DE("IE_PROTO"),Ai=function(){},Mc=function(r){return wc+Ri+Dc+r+wc+"/"+Ri+Dc},wE=function(r){r.write(Mc("")),r.close();var e=r.parentWindow.Object;return r=null,e},NE=function(){var r=PE("iframe"),e="java"+Ri+":",t;return r.style.display="none",qE.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(Mc("document.F=Object")),t.close(),t.F},Ci,Un=function(){try{Ci=document.domain&&new ActiveXObject("htmlfile")}catch(e){}Un=Ci?wE(Ci):NE();for(var r=Pc.length;r--;)delete Un[Ii][Pc[r]];return Un()};TE[Nc]=!0;Lc.exports=Object.create||function(e,t){var n;return e!==null?(Ai[Ii]=RE(e),n=new Ai,Ai[Ii]=null,n[Nc]=e):n=Un(),t===void 0?n:OE(n,t)}});var $c=d((fM,jc)=>{var ME=Ne(),Uc=qt().f,LE={}.toString,Fc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],UE=function(r){try{return Uc(r)}catch(e){return Fc.slice()}};jc.exports.f=function(e){return Fc&&LE.call(e)=="[object Window]"?UE(e):Uc(ME(e))}});var F=d((dM,Bc)=>{var FE=U(),jE=Tn(),kc=Q(),$E=Ht(),kE=Mn(),BE=Si(),Fn=jE("wks"),qr=FE.Symbol,GE=BE?qr:qr&&qr.withoutSetter||$E;Bc.exports=function(r){return kc(Fn,r)||(kE&&kc(qr,r)?Fn[r]=qr[r]:Fn[r]=GE("Symbol."+r)),Fn[r]}});var Oi=d(Gc=>{var VE=F();Gc.f=VE});var ye=d((vM,Wc)=>{var Vc=vi(),WE=Q(),KE=Oi(),HE=K().f;Wc.exports=function(r){var e=Vc.Symbol||(Vc.Symbol={});WE(e,r)||HE(e,r,{value:KE.f(r)})}});var vt=d((yM,Hc)=>{var JE=K().f,YE=Q(),QE=F(),Kc=QE("toStringTag");Hc.exports=function(r,e,t){r&&!YE(r=t?r:r.prototype,Kc)&&JE(r,Kc,{configurable:!0,value:e})}});var Be=d((mM,Jc)=>{Jc.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}});var Qt=d((gM,Yc)=>{var zE=Be();Yc.exports=function(r,e,t){if(zE(r),e===void 0)return r;switch(t){case 0:return function(){return r.call(e)};case 1:return function(n){return r.call(e,n)};case 2:return function(n,o){return r.call(e,n,o)};case 3:return function(n,o,i){return r.call(e,n,o,i)}}return function(){return r.apply(e,arguments)}}});var zt=d((_M,zc)=>{var XE=V(),Qc=Pt(),ZE=F(),ex=ZE("species");zc.exports=function(r,e){var t;return Qc(r)&&(t=r.constructor,typeof t=="function"&&(t===Array||Qc(t.prototype))?t=void 0:XE(t)&&(t=t[ex],t===null&&(t=void 0))),new(t===void 0?Array:t)(e===0?0:e)}});var me=d((EM,Xc)=>{var tx=Qt(),rx=In(),nx=ie(),ox=k(),ix=zt(),ax=[].push,wt=function(r){var e=r==1,t=r==2,n=r==3,o=r==4,i=r==6,a=r==5||i;return function(u,s,c,p){for(var f=nx(u),l=rx(f),v=tx(s,c,3),y=ox(l.length),h=0,m=p||ix,g=e?m(u,y):t?m(u,0):void 0,S,E;y>h;h++)if((a||h in l)&&(S=l[h],E=v(S,h,f),r)){if(e)g[h]=E;else if(E)switch(r){case 3:return!0;case 5:return S;case 6:return h;case 2:ax.call(g,S)}else if(o)return!1}return i?-1:n||o?o:g}};Xc.exports={forEach:wt(0),map:wt(1),filter:wt(2),some:wt(3),every:wt(4),find:wt(5),findIndex:wt(6)}});var ml=d(()=>{"use strict";var Zt=I(),nl=U(),sx=ke(),ux=ht(),Xt=Y(),Nt=Mn(),cx=Si(),ki=w(),z=Q(),lx=Pt(),px=V(),Ni=N(),fx=ie(),jn=Ne(),Bi=ze(),Mi=dt(),Dr=Dt(),ol=Ln(),dx=qt(),il=$c(),Li=Ei(),al=Se(),sl=K(),ul=Cn(),hx=le(),Ti=Me(),wr=Tn(),vx=Ir(),cl=Jt(),Zc=Ht(),ll=F(),yx=Oi(),mx=ye(),gx=vt(),pl=Ae(),$n=me().forEach,pe=vx("hidden"),kn="Symbol",Xe="prototype",el=ll("toPrimitive"),_x=pl.set,tl=pl.getterFor(kn),Ie=Object[Xe],fe=nl.Symbol,Pr=sx("JSON","stringify"),fl=al.f,yt=sl.f,dl=il.f,Ex=ul.f,Ze=wr("symbols"),Nr=wr("op-symbols"),qi=wr("string-to-symbol-registry"),Pi=wr("symbol-to-string-registry"),xx=wr("wks"),Di=nl.QObject,Ui=!Di||!Di[Xe]||!Di[Xe].findChild,Fi=Xt&&ki(function(){return Dr(yt({},"a",{get:function(){return yt(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var n=fl(Ie,e);n&&delete Ie[e],yt(r,e,t),n&&r!==Ie&&yt(Ie,e,n)}:yt,wi=function(r,e){var t=Ze[r]=Dr(fe[Xe]);return _x(t,{type:kn,tag:r,description:e}),Xt||(t.description=e),t},ji=cx?function(r){return typeof r=="symbol"}:function(r){return Object(r)instanceof fe},Bn=function(e,t,n){e===Ie&&Bn(Nr,t,n),Ni(e);var o=Bi(t,!0);return Ni(n),z(Ze,o)?(n.enumerable?(z(e,pe)&&e[pe][o]&&(e[pe][o]=!1),n=Dr(n,{enumerable:Mi(0,!1)})):(z(e,pe)||yt(e,pe,Mi(1,{})),e[pe][o]=!0),Fi(e,o,n)):yt(e,o,n)},hl=function(e,t){Ni(e);var n=jn(t),o=ol(n).concat(Gi(n));return $n(o,function(i){(!Xt||$i.call(n,i))&&Bn(e,i,n[i])}),e},bx=function(e,t){return t===void 0?Dr(e):hl(Dr(e),t)},$i=function(e){var t=Bi(e,!0),n=Ex.call(this,t);return this===Ie&&z(Ze,t)&&!z(Nr,t)?!1:n||!z(this,t)||!z(Ze,t)||z(this,pe)&&this[pe][t]?n:!0},vl=function(e,t){var n=jn(e),o=Bi(t,!0);if(!(n===Ie&&z(Ze,o)&&!z(Nr,o))){var i=fl(n,o);return i&&z(Ze,o)&&!(z(n,pe)&&n[pe][o])&&(i.enumerable=!0),i}},yl=function(e){var t=dl(jn(e)),n=[];return $n(t,function(o){!z(Ze,o)&&!z(cl,o)&&n.push(o)}),n},Gi=function(e){var t=e===Ie,n=dl(t?Nr:jn(e)),o=[];return $n(n,function(i){z(Ze,i)&&(!t||z(Ie,i))&&o.push(Ze[i])}),o};Nt||(fe=function(){if(this instanceof fe)throw TypeError("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),t=Zc(e),n=function(o){this===Ie&&n.call(Nr,o),z(this,pe)&&z(this[pe],t)&&(this[pe][t]=!1),Fi(this,t,Mi(1,o))};return Xt&&Ui&&Fi(Ie,t,{configurable:!0,set:n}),wi(t,e)},Ti(fe[Xe],"toString",function(){return tl(this).tag}),Ti(fe,"withoutSetter",function(r){return wi(Zc(r),r)}),ul.f=$i,sl.f=Bn,al.f=vl,dx.f=il.f=yl,Li.f=Gi,yx.f=function(r){return wi(ll(r),r)},Xt&&(yt(fe[Xe],"description",{configurable:!0,get:function(){return tl(this).description}}),ux||Ti(Ie,"propertyIsEnumerable",$i,{unsafe:!0})));Zt({global:!0,wrap:!0,forced:!Nt,sham:!Nt},{Symbol:fe});$n(ol(xx),function(r){mx(r)});Zt({target:kn,stat:!0,forced:!Nt},{for:function(r){var e=String(r);if(z(qi,e))return qi[e];var t=fe(e);return qi[e]=t,Pi[t]=e,t},keyFor:function(e){if(!ji(e))throw TypeError(e+" is not a symbol");if(z(Pi,e))return Pi[e]},useSetter:function(){Ui=!0},useSimple:function(){Ui=!1}});Zt({target:"Object",stat:!0,forced:!Nt,sham:!Xt},{create:bx,defineProperty:Bn,defineProperties:hl,getOwnPropertyDescriptor:vl});Zt({target:"Object",stat:!0,forced:!Nt},{getOwnPropertyNames:yl,getOwnPropertySymbols:Gi});Zt({target:"Object",stat:!0,forced:ki(function(){Li.f(1)})},{getOwnPropertySymbols:function(e){return Li.f(fx(e))}});Pr&&(rl=!Nt||ki(function(){var r=fe();return Pr([r])!="[null]"||Pr({a:r})!="{}"||Pr(Object(r))!="{}"}),Zt({target:"JSON",stat:!0,forced:rl},{stringify:function(e,t,n){for(var o=[e],i=1,a;arguments.length>i;)o.push(arguments[i++]);if(a=t,!(!px(t)&&e===void 0||ji(e)))return lx(t)||(t=function(u,s){if(typeof a=="function"&&(s=a.call(this,u,s)),!ji(s))return s}),o[1]=t,Pr.apply(null,o)}}));var rl;fe[Xe][el]||hx(fe[Xe],el,fe[Xe].valueOf);gx(fe,kn);cl[pe]=!0});var xl=d(()=>{"use strict";var Sx=I(),Ax=Y(),Cx=U(),Ix=Q(),Rx=V(),Ox=K().f,Tx=xi(),et=Cx.Symbol;Ax&&typeof et=="function"&&(!("description"in et.prototype)||et().description!==void 0)&&(Vi={},er=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),t=this instanceof er?new et(e):e===void 0?et():et(e);return e===""&&(Vi[t]=!0),t},Tx(er,et),Gn=er.prototype=et.prototype,Gn.constructor=er,gl=Gn.toString,_l=String(et("test"))=="Symbol(test)",El=/^Symbol\((.*)\)[^)]+$/,Ox(Gn,"description",{configurable:!0,get:function(){var e=Rx(this)?this.valueOf():this,t=gl.call(e);if(Ix(Vi,e))return"";var n=_l?t.slice(7,-1):t.replace(El,"$1");return n===""?void 0:n}}),Sx({global:!0,forced:!0},{Symbol:er}));var Vi,er,Gn,gl,_l,El});var bl=d(()=>{var qx=ye();qx("asyncIterator")});var Sl=d(()=>{var Px=ye();Px("hasInstance")});var Al=d(()=>{var Dx=ye();Dx("isConcatSpreadable")});var Cl=d(()=>{var wx=ye();wx("match")});var Il=d(()=>{var Nx=ye();Nx("matchAll")});var Rl=d(()=>{var Mx=ye();Mx("replace")});var Ol=d(()=>{var Lx=ye();Lx("search")});var Tl=d(()=>{var Ux=ye();Ux("species")});var ql=d(()=>{var Fx=ye();Fx("split")});var Pl=d(()=>{var jx=ye();jx("toPrimitive")});var Dl=d(()=>{var $x=ye();$x("toStringTag")});var tr=d((HM,wl)=>{"use strict";var kx=ze(),Bx=K(),Gx=dt();wl.exports=function(r,e,t){var n=kx(e);n in r?Bx.f(r,n,Gx(0,t)):r[n]=t}});var Wi=d((JM,Nl)=>{var Vx=ke();Nl.exports=Vx("navigator","userAgent")||""});var Hi=d((YM,Fl)=>{var Wx=U(),Ki=Wi(),Ml=Wx.process,Ll=Ml&&Ml.versions,Ul=Ll&&Ll.v8,rt,Vn;Ul?(rt=Ul.split("."),Vn=rt[0]+rt[1]):Ki&&(rt=Ki.match(/Edge\/(\d+)/),(!rt||rt[1]>=74)&&(rt=Ki.match(/Chrome\/(\d+)/),rt&&(Vn=rt[1])));Fl.exports=Vn&&+Vn});var rr=d((QM,jl)=>{var Kx=w(),Hx=F(),Jx=Hi(),Yx=Hx("species");jl.exports=function(r){return Jx>=51||!Kx(function(){var e=[],t=e.constructor={};return t[Yx]=function(){return{foo:1}},e[r](Boolean).foo!==1})}});var Vl=d(()=>{"use strict";var Qx=I(),zx=w(),Xx=Pt(),Zx=V(),eb=ie(),tb=k(),$l=tr(),rb=zt(),nb=rr(),ob=F(),ib=Hi(),Gl=ob("isConcatSpreadable"),kl=9007199254740991,Bl="Maximum allowed index exceeded",ab=ib>=51||!zx(function(){var r=[];return r[Gl]=!1,r.concat()[0]!==r}),sb=nb("concat"),ub=function(r){if(!Zx(r))return!1;var e=r[Gl];return e!==void 0?!!e:Xx(r)},cb=!ab||!sb;Qx({target:"Array",proto:!0,forced:cb},{concat:function(e){var t=eb(this),n=rb(t,0),o=0,i,a,u,s,c;for(i=-1,u=arguments.length;i<u;i++)if(c=i===-1?t:arguments[i],ub(c)){if(s=tb(c.length),o+s>kl)throw TypeError(Bl);for(a=0;a<s;a++,o++)a in c&&$l(n,o,c[a])}else{if(o>=kl)throw TypeError(Bl);$l(n,o++,c)}return n.length=o,n}})});var Mt=d((ZM,Kl)=>{var lb=Y(),pb=w(),Wn=Q(),fb=Object.defineProperty,Ji={},Wl=function(r){throw r};Kl.exports=function(r,e){if(Wn(Ji,r))return Ji[r];e||(e={});var t=[][r],n=Wn(e,"ACCESSORS")?e.ACCESSORS:!1,o=Wn(e,0)?e[0]:Wl,i=Wn(e,1)?e[1]:void 0;return Ji[r]=!!t&&!pb(function(){if(n&&!lb)return!0;var a={length:-1};n?fb(a,1,{enumerable:!0,get:Wl}):a[1]=1,t.call(a,o,i)})}});var Hl=d(()=>{"use strict";var db=I(),hb=me().filter,vb=rr(),yb=Mt(),mb=vb("filter"),gb=yb("filter");db({target:"Array",proto:!0,forced:!mb||!gb},{filter:function(e){return hb(this,e,arguments.length>1?arguments[1]:void 0)}})});var Yi=d((r0,Yl)=>{"use strict";var _b=Pt(),Eb=k(),xb=Qt(),Jl=function(r,e,t,n,o,i,a,u){for(var s=o,c=0,p=a?xb(a,u,3):!1,f;c<n;){if(c in t){if(f=p?p(t[c],c,e):t[c],i>0&&_b(f))s=Jl(r,e,f,Eb(f.length),s,i-1)-1;else{if(s>=9007199254740991)throw TypeError("Exceed the acceptable array length");r[s]=f}s++}c++}return s};Yl.exports=Jl});var Ql=d(()=>{"use strict";var bb=I(),Sb=Yi(),Ab=ie(),Cb=k(),Ib=Ce(),Rb=zt();bb({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Ab(this),n=Cb(t.length),o=Rb(t,0);return o.length=Sb(o,t,t,n,0,e===void 0?1:Ib(e)),o}})});var zl=d(()=>{"use strict";var Ob=I(),Tb=Yi(),qb=ie(),Pb=k(),Db=Be(),wb=zt();Ob({target:"Array",proto:!0},{flatMap:function(e){var t=qb(this),n=Pb(t.length),o;return Db(e),o=wb(t,0),o.length=Tb(o,t,t,n,0,1,e,arguments.length>1?arguments[1]:void 0),o}})});var Mr=d((s0,Xl)=>{var Nb=F(),Mb=Dt(),Lb=K(),Qi=Nb("unscopables"),zi=Array.prototype;zi[Qi]==null&&Lb.f(zi,Qi,{configurable:!0,value:Mb(null)});Xl.exports=function(r){zi[Qi][r]=!0}});var Zl=d(()=>{"use strict";var Ub=I(),Fb=Or().includes,jb=Mr(),$b=Mt(),kb=$b("indexOf",{ACCESSORS:!0,1:0});Ub({target:"Array",proto:!0,forced:!kb},{includes:function(e){return Fb(this,e,arguments.length>1?arguments[1]:void 0)}});jb("includes")});var nr=d((l0,ep)=>{ep.exports={}});var Xi=d((p0,tp)=>{var Bb=w();tp.exports=!Bb(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})});var nt=d((f0,np)=>{var Gb=Q(),Vb=ie(),Wb=Ir(),Kb=Xi(),rp=Wb("IE_PROTO"),Hb=Object.prototype;np.exports=Kb?Object.getPrototypeOf:function(r){return r=Vb(r),Gb(r,rp)?r[rp]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?Hb:null}});var ta=d((d0,sp)=>{"use strict";var op=nt(),Jb=le(),Yb=Q(),Qb=F(),zb=ht(),ip=Qb("iterator"),ap=!1,Xb=function(){return this},or,Zi,ea;[].keys&&(ea=[].keys(),"next"in ea?(Zi=op(op(ea)),Zi!==Object.prototype&&(or=Zi)):ap=!0);or==null&&(or={});!zb&&!Yb(or,ip)&&Jb(or,ip,Xb);sp.exports={IteratorPrototype:or,BUGGY_SAFARI_ITERATORS:ap}});var ra=d((h0,up)=>{"use strict";var Zb=ta().IteratorPrototype,eS=Dt(),tS=dt(),rS=vt(),nS=nr(),oS=function(){return this};up.exports=function(r,e,t){var n=e+" Iterator";return r.prototype=eS(Zb,{next:tS(1,t)}),rS(r,n,!1,!0),nS[n]=oS,r}});var na=d((v0,cp)=>{var iS=V();cp.exports=function(r){if(!iS(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype");return r}});var Lt=d((y0,lp)=>{var aS=N(),sS=na();lp.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(e,[]),r=e instanceof Array}catch(n){}return function(o,i){return aS(o),sS(i),r?t.call(o,i):o.__proto__=i,o}}():void 0)});var aa=d((m0,_p)=>{"use strict";var uS=I(),cS=ra(),pp=nt(),fp=Lt(),lS=vt(),dp=le(),pS=Me(),fS=F(),oa=ht(),hp=nr(),gp=ta(),ia=gp.IteratorPrototype,Kn=gp.BUGGY_SAFARI_ITERATORS,Lr=fS("iterator"),vp="keys",Hn="values",yp="entries",mp=function(){return this};_p.exports=function(r,e,t,n,o,i,a){cS(t,e,n);var u=function(g){if(g===o&&l)return l;if(!Kn&&g in p)return p[g];switch(g){case vp:return function(){return new t(this,g)};case Hn:return function(){return new t(this,g)};case yp:return function(){return new t(this,g)}}return function(){return new t(this)}},s=e+" Iterator",c=!1,p=r.prototype,f=p[Lr]||p["@@iterator"]||o&&p[o],l=!Kn&&f||u(o),v=e=="Array"&&p.entries||f,y,h,m;if(v&&(y=pp(v.call(new r)),ia!==Object.prototype&&y.next&&(!oa&&pp(y)!==ia&&(fp?fp(y,ia):typeof y[Lr]!="function"&&dp(y,Lr,mp)),lS(y,s,!0,!0),oa&&(hp[s]=mp))),o==Hn&&f&&f.name!==Hn&&(c=!0,l=function(){return f.call(this)}),(!oa||a)&&p[Lr]!==l&&dp(p,Lr,l),hp[e]=l,o)if(h={values:u(Hn),keys:i?l:u(vp),entries:u(yp)},a)for(m in h)(Kn||c||!(m in p))&&pS(p,m,h[m]);else uS({target:e,proto:!0,forced:Kn||c},h);return h}});var ua=d((g0,Sp)=>{"use strict";var dS=Ne(),sa=Mr(),Ep=nr(),xp=Ae(),hS=aa(),bp="Array Iterator",vS=xp.set,yS=xp.getterFor(bp);Sp.exports=hS(Array,"Array",function(r,e){vS(this,{type:bp,target:dS(r),index:0,kind:e})},function(){var r=yS(this),e=r.target,t=r.kind,n=r.index++;return!e||n>=e.length?(r.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");Ep.Arguments=Ep.Array;sa("keys");sa("values");sa("entries")});var Ap=d(()=>{"use strict";var mS=I(),gS=me().map,_S=rr(),ES=Mt(),xS=_S("map"),bS=ES("map");mS({target:"Array",proto:!0,forced:!xS||!bS},{map:function(e){return gS(this,e,arguments.length>1?arguments[1]:void 0)}})});var Ip=d(()=>{"use strict";var SS=I(),AS=Pt(),CS=[].reverse,Cp=[1,2];SS({target:"Array",proto:!0,forced:String(Cp)===String(Cp.reverse())},{reverse:function(){return AS(this)&&(this.length=this.length),CS.call(this)}})});var Tp=d(()=>{"use strict";var IS=I(),RS=V(),Rp=Pt(),Op=Tt(),OS=k(),TS=Ne(),qS=tr(),PS=F(),DS=rr(),wS=Mt(),NS=DS("slice"),MS=wS("slice",{ACCESSORS:!0,0:0,1:2}),LS=PS("species"),US=[].slice,FS=Math.max;IS({target:"Array",proto:!0,forced:!NS||!MS},{slice:function(e,t){var n=TS(this),o=OS(n.length),i=Op(e,o),a=Op(t===void 0?o:t,o),u,s,c;if(Rp(n)&&(u=n.constructor,typeof u=="function"&&(u===Array||Rp(u.prototype))?u=void 0:RS(u)&&(u=u[LS],u===null&&(u=void 0)),u===Array||u===void 0))return US.call(n,i,a);for(s=new(u===void 0?Array:u)(FS(a-i,0)),c=0;i<a;i++,c++)i in n&&qS(s,c,n[i]);return s.length=c,s}})});var ca=d((C0,qp)=>{"use strict";var jS=w();qp.exports=function(r,e){var t=[][r];return!!t&&jS(function(){t.call(null,e||function(){throw 1},1)})}});var Np=d(()=>{"use strict";var $S=I(),kS=Be(),Pp=ie(),wp=w(),BS=ca(),la=[],Dp=la.sort,GS=wp(function(){la.sort(void 0)}),VS=wp(function(){la.sort(null)}),WS=BS("sort"),KS=GS||!VS||!WS;$S({target:"Array",proto:!0,forced:KS},{sort:function(e){return e===void 0?Dp.call(Pp(this)):Dp.call(Pp(this),kS(e))}})});var ir=d((O0,Lp)=>{"use strict";var HS=ke(),JS=K(),YS=F(),QS=Y(),Mp=YS("species");Lp.exports=function(r){var e=HS(r),t=JS.f;QS&&e&&!e[Mp]&&t(e,Mp,{configurable:!0,get:function(){return this}})}});var Up=d(()=>{var zS=ir();zS("Array")});var Fp=d(()=>{"use strict";var XS=I(),ZS=Tt(),eA=Ce(),tA=k(),rA=ie(),nA=zt(),oA=tr(),iA=rr(),aA=Mt(),sA=iA("splice"),uA=aA("splice",{ACCESSORS:!0,0:0,1:2}),cA=Math.max,lA=Math.min,pA=9007199254740991,fA="Maximum allowed length exceeded";XS({target:"Array",proto:!0,forced:!sA||!uA},{splice:function(e,t){var n=rA(this),o=tA(n.length),i=ZS(e,o),a=arguments.length,u,s,c,p,f,l;if(a===0?u=s=0:a===1?(u=0,s=o-i):(u=a-2,s=lA(cA(eA(t),0),o-i)),o+u-s>pA)throw TypeError(fA);for(c=nA(n,s),p=0;p<s;p++)f=i+p,f in n&&oA(c,p,n[f]);if(c.length=s,u<s){for(p=i;p<o-s;p++)f=p+s,l=p+u,f in n?n[l]=n[f]:delete n[l];for(p=o;p>o-s+u;p--)delete n[p-1]}else if(u>s)for(p=o-s;p>i;p--)f=p+s-1,l=p+u-1,f in n?n[l]=n[f]:delete n[l];for(p=0;p<u;p++)n[p+i]=arguments[p+2];return n.length=o-s+u,c}})});var jp=d(()=>{var dA=Mr();dA("flat")});var $p=d(()=>{var hA=Mr();hA("flatMap")});var pa=d((U0,kp)=>{kp.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"});var Ur=d((F0,Bp)=>{var vA=Me();Bp.exports=function(r,e,t){for(var n in e)vA(r,n,e[n],t);return r}});var ar=d((j0,Gp)=>{Gp.exports=function(r,e,t){if(!(r instanceof e))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation");return r}});var fa=d(($0,Vp)=>{var yA=Ce(),mA=k();Vp.exports=function(r){if(r===void 0)return 0;var e=yA(r),t=mA(e);if(e!==t)throw RangeError("Wrong length or index");return t}});var Kp=d((k0,Wp)=>{var da=1/0,gA=Math.abs,ot=Math.pow,_A=Math.floor,EA=Math.log,xA=Math.LN2,bA=function(r,e,t){var n=new Array(t),o=t*8-e-1,i=(1<<o)-1,a=i>>1,u=e===23?ot(2,-24)-ot(2,-77):0,s=r<0||r===0&&1/r<0?1:0,c=0,p,f,l;for(r=gA(r),r!=r||r===da?(f=r!=r?1:0,p=i):(p=_A(EA(r)/xA),r*(l=ot(2,-p))<1&&(p--,l*=2),p+a>=1?r+=u/l:r+=u*ot(2,1-a),r*l>=2&&(p++,l/=2),p+a>=i?(f=0,p=i):p+a>=1?(f=(r*l-1)*ot(2,e),p=p+a):(f=r*ot(2,a-1)*ot(2,e),p=0));e>=8;n[c++]=f&255,f/=256,e-=8);for(p=p<<e|f,o+=e;o>0;n[c++]=p&255,p/=256,o-=8);return n[--c]|=s*128,n},SA=function(r,e){var t=r.length,n=t*8-e-1,o=(1<<n)-1,i=o>>1,a=n-7,u=t-1,s=r[u--],c=s&127,p;for(s>>=7;a>0;c=c*256+r[u],u--,a-=8);for(p=c&(1<<-a)-1,c>>=-a,a+=e;a>0;p=p*256+r[u],u--,a-=8);if(c===0)c=1-i;else{if(c===o)return p?NaN:s?-da:da;p=p+ot(2,e),c=c-i}return(s?-1:1)*p*ot(2,c-e)};Wp.exports={pack:bA,unpack:SA}});var ha=d((B0,Jp)=>{"use strict";var AA=ie(),Hp=Tt(),CA=k();Jp.exports=function(e){for(var t=AA(this),n=CA(t.length),o=arguments.length,i=Hp(o>1?arguments[1]:void 0,n),a=o>2?arguments[2]:void 0,u=a===void 0?n:Hp(a,n);u>i;)t[i++]=e;return t}});var ro=d((G0,pf)=>{"use strict";var Ea=U(),va=Y(),IA=pa(),RA=le(),Yp=Ur(),ya=w(),Jn=ar(),OA=Ce(),TA=k(),Xn=fa(),af=Kp(),qA=nt(),Qp=Lt(),PA=qt().f,DA=K().f,wA=ha(),sf=vt(),uf=Ae(),sr=uf.get,zp=uf.set,Zn="ArrayBuffer",eo="DataView",jr="prototype",NA="Wrong length",cf="Wrong index",Le=Ea[Zn],ge=Le,Ue=Ea[eo],Yn=Ue&&Ue[jr],Xp=Object.prototype,to=Ea.RangeError,lf=af.pack,Zp=af.unpack,ef=function(r){return[r&255]},tf=function(r){return[r&255,r>>8&255]},rf=function(r){return[r&255,r>>8&255,r>>16&255,r>>24&255]},nf=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},MA=function(r){return lf(r,23,4)},LA=function(r){return lf(r,52,8)},Qn=function(r,e){DA(r[jr],e,{get:function(){return sr(this)[e]}})},mt=function(r,e,t,n){var o=Xn(t),i=sr(r);if(o+e>i.byteLength)throw to(cf);var a=sr(i.buffer).bytes,u=o+i.byteOffset,s=a.slice(u,u+e);return n?s:s.reverse()},gt=function(r,e,t,n,o,i){var a=Xn(t),u=sr(r);if(a+e>u.byteLength)throw to(cf);for(var s=sr(u.buffer).bytes,c=a+u.byteOffset,p=n(+o),f=0;f<e;f++)s[c+f]=p[i?f:e-f-1]};if(!IA)ge=function(e){Jn(this,ge,Zn);var t=Xn(e);zp(this,{bytes:wA.call(new Array(t),0),byteLength:t}),va||(this.byteLength=t)},Ue=function(e,t,n){Jn(this,Ue,eo),Jn(e,ge,eo);var o=sr(e).byteLength,i=OA(t);if(i<0||i>o)throw to("Wrong offset");if(n=n===void 0?o-i:TA(n),i+n>o)throw to(NA);zp(this,{buffer:e,byteLength:n,byteOffset:i}),va||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},va&&(Qn(ge,"byteLength"),Qn(Ue,"buffer"),Qn(Ue,"byteLength"),Qn(Ue,"byteOffset")),Yp(Ue[jr],{getInt8:function(e){return mt(this,1,e)[0]<<24>>24},getUint8:function(e){return mt(this,1,e)[0]},getInt16:function(e){var t=mt(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=mt(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return nf(mt(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return nf(mt(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Zp(mt(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Zp(mt(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){gt(this,1,e,ef,t)},setUint8:function(e,t){gt(this,1,e,ef,t)},setInt16:function(e,t){gt(this,2,e,tf,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){gt(this,2,e,tf,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){gt(this,4,e,rf,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){gt(this,4,e,rf,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){gt(this,4,e,MA,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){gt(this,8,e,LA,t,arguments.length>2?arguments[2]:void 0)}});else{if(!ya(function(){Le(1)})||!ya(function(){new Le(-1)})||ya(function(){return new Le,new Le(1.5),new Le(NaN),Le.name!=Zn})){for(ge=function(e){return Jn(this,ge),new Le(Xn(e))},of=ge[jr]=Le[jr],ma=PA(Le),ga=0;ma.length>ga;)(zn=ma[ga++])in ge||RA(ge,zn,Le[zn]);of.constructor=ge}Qp&&qA(Yn)!==Xp&&Qp(Yn,Xp),Fr=new Ue(new ge(2)),_a=Yn.setInt8,Fr.setInt8(0,2147483648),Fr.setInt8(1,2147483649),(Fr.getInt8(0)||!Fr.getInt8(1))&&Yp(Yn,{setInt8:function(e,t){_a.call(this,e,t<<24>>24)},setUint8:function(e,t){_a.call(this,e,t<<24>>24)}},{unsafe:!0})}var of,ma,ga,zn,Fr,_a;sf(ge,Zn);sf(Ue,eo);pf.exports={ArrayBuffer:ge,DataView:Ue}});var df=d(()=>{"use strict";var UA=I(),FA=U(),jA=ro(),$A=ir(),xa="ArrayBuffer",ff=jA[xa],kA=FA[xa];UA({global:!0,forced:kA!==ff},{ArrayBuffer:ff});$A(xa)});var Ut=d((K0,vf)=>{var hf=N(),BA=Be(),GA=F(),VA=GA("species");vf.exports=function(r,e){var t=hf(r).constructor,n;return t===void 0||(n=hf(t)[VA])==null?e:BA(n)}});var xf=d(()=>{"use strict";var WA=I(),KA=w(),Ef=ro(),yf=N(),mf=Tt(),HA=k(),JA=Ut(),ba=Ef.ArrayBuffer,gf=Ef.DataView,_f=ba.prototype.slice,YA=KA(function(){return!new ba(2).slice(1,void 0).byteLength});WA({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:YA},{slice:function(e,t){if(_f!==void 0&&t===void 0)return _f.call(yf(this),e);for(var n=yf(this).byteLength,o=mf(e,n),i=mf(t===void 0?n:t,n),a=new(JA(this,ba))(HA(i-o)),u=new gf(this),s=new gf(a),c=0;o<i;)s.setUint8(c++,u.getUint8(o++));return a}})});var bf=d(()=>{"use strict";var QA=I(),zA=w(),XA=ie(),ZA=ze(),eC=zA(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});QA({target:"Date",proto:!0,forced:eC},{toJSON:function(e){var t=XA(this),n=ZA(t);return typeof n=="number"&&!isFinite(n)?null:t.toISOString()}})});var Af=d((z0,Sf)=>{"use strict";var tC=N(),rC=ze();Sf.exports=function(r){if(r!=="string"&&r!=="number"&&r!=="default")throw TypeError("Incorrect hint");return rC(tC(this),r!=="number")}});var Rf=d(()=>{var nC=le(),oC=Af(),iC=F(),Cf=iC("toPrimitive"),If=Date.prototype;Cf in If||nC(If,Cf,oC)});var Pf=d(()=>{"use strict";var Of=V(),aC=K(),sC=nt(),uC=F(),Tf=uC("hasInstance"),qf=Function.prototype;Tf in qf||aC.f(qf,Tf,{value:function(r){if(typeof this!="function"||!Of(r))return!1;if(!Of(this.prototype))return r instanceof this;for(;r=sC(r);)if(this.prototype===r)return!0;return!1}})});var Df=d(()=>{var cC=I(),lC=U();cC({global:!0},{globalThis:lC})});var Mf=d(()=>{var pC=I(),fC=ke(),dC=w(),no=fC("JSON","stringify"),hC=/[\uD800-\uDFFF]/g,wf=/^[\uD800-\uDBFF]$/,Nf=/^[\uDC00-\uDFFF]$/,vC=function(r,e,t){var n=t.charAt(e-1),o=t.charAt(e+1);return wf.test(r)&&!Nf.test(o)||Nf.test(r)&&!wf.test(n)?"\\u"+r.charCodeAt(0).toString(16):r},yC=dC(function(){return no("\uDF06\uD834")!=='"\\udf06\\ud834"'||no("\uDEAD")!=='"\\udead"'});no&&pC({target:"JSON",stat:!0,forced:yC},{stringify:function(e,t,n){var o=no.apply(null,arguments);return typeof o=="string"?o.replace(hC,vC):o}})});var Lf=d(()=>{var mC=U(),gC=vt();gC(mC.JSON,"JSON",!0)});var Sa=d((uL,Uf)=>{var _C=w();Uf.exports=!_C(function(){return Object.isExtensible(Object.preventExtensions({}))})});var $r=d((cL,Ff)=>{var EC=Jt(),xC=V(),Aa=Q(),bC=K().f,SC=Ht(),AC=Sa(),Ft=SC("meta"),CC=0,Ca=Object.isExtensible||function(){return!0},Ia=function(r){bC(r,Ft,{value:{objectID:"O"+ ++CC,weakData:{}}})},IC=function(r,e){if(!xC(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!Aa(r,Ft)){if(!Ca(r))return"F";if(!e)return"E";Ia(r)}return r[Ft].objectID},RC=function(r,e){if(!Aa(r,Ft)){if(!Ca(r))return!0;if(!e)return!1;Ia(r)}return r[Ft].weakData},OC=function(r){return AC&&TC.REQUIRED&&Ca(r)&&!Aa(r,Ft)&&Ia(r),r},TC=Ff.exports={REQUIRED:!1,fastKey:IC,getWeakData:RC,onFreeze:OC};EC[Ft]=!0});var Ra=d((lL,jf)=>{var qC=F(),PC=nr(),DC=qC("iterator"),wC=Array.prototype;jf.exports=function(r){return r!==void 0&&(PC.Array===r||wC[DC]===r)}});var oo=d((pL,kf)=>{var NC=F(),MC=NC("toStringTag"),$f={};$f[MC]="z";kf.exports=String($f)==="[object z]"});var kr=d((fL,Bf)=>{var LC=oo(),io=Rt(),UC=F(),FC=UC("toStringTag"),jC=io(function(){return arguments}())=="Arguments",$C=function(r,e){try{return r[e]}catch(t){}};Bf.exports=LC?io:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=$C(e=Object(r),FC))=="string"?t:jC?io(e):(n=io(e))=="Object"&&typeof e.callee=="function"?"Arguments":n}});var Oa=d((dL,Gf)=>{var kC=kr(),BC=nr(),GC=F(),VC=GC("iterator");Gf.exports=function(r){if(r!=null)return r[VC]||r["@@iterator"]||BC[kC(r)]}});var Kf=d((hL,Wf)=>{var Vf=N();Wf.exports=function(r,e,t,n){try{return n?e(Vf(t)[0],t[1]):e(t)}catch(i){var o=r.return;throw o!==void 0&&Vf(o.call(r)),i}}});var Gr=d((vL,Hf)=>{var WC=N(),KC=Ra(),HC=k(),JC=Qt(),YC=Oa(),QC=Kf(),Br=function(r,e){this.stopped=r,this.result=e},zC=Hf.exports=function(r,e,t,n,o){var i=JC(e,t,n?2:1),a,u,s,c,p,f,l;if(o)a=r;else{if(u=YC(r),typeof u!="function")throw TypeError("Target is not iterable");if(KC(u)){for(s=0,c=HC(r.length);c>s;s++)if(p=n?i(WC(l=r[s])[0],l[1]):i(r[s]),p&&p instanceof Br)return p;return new Br(!1)}a=u.call(r)}for(f=a.next;!(l=f.call(a)).done;)if(p=QC(a,i,l.value,n),typeof p=="object"&&p&&p instanceof Br)return p;return new Br(!1)};zC.stop=function(r){return new Br(!0,r)}});var qa=d((yL,zf)=>{var XC=F(),Yf=XC("iterator"),Qf=!1;try{Jf=0,Ta={next:function(){return{done:!!Jf++}},return:function(){Qf=!0}},Ta[Yf]=function(){return this},Array.from(Ta,function(){throw 2})}catch(r){}var Jf,Ta;zf.exports=function(r,e){if(!e&&!Qf)return!1;var t=!1;try{var n={};n[Yf]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch(o){}return t}});var ao=d((mL,Zf)=>{var ZC=V(),Xf=Lt();Zf.exports=function(r,e,t){var n,o;return Xf&&typeof(n=e.constructor)=="function"&&n!==t&&ZC(o=n.prototype)&&o!==t.prototype&&Xf(r,o),r}});var Vr=d((gL,td)=>{"use strict";var eI=I(),tI=U(),ed=Nn(),rI=Me(),nI=$r(),oI=Gr(),iI=ar(),Pa=V(),Da=w(),aI=qa(),sI=vt(),uI=ao();td.exports=function(r,e,t){var n=r.indexOf("Map")!==-1,o=r.indexOf("Weak")!==-1,i=n?"set":"add",a=tI[r],u=a&&a.prototype,s=a,c={},p=function(m){var g=u[m];rI(u,m,m=="add"?function(E){return g.call(this,E===0?0:E),this}:m=="delete"?function(S){return o&&!Pa(S)?!1:g.call(this,S===0?0:S)}:m=="get"?function(E){return o&&!Pa(E)?void 0:g.call(this,E===0?0:E)}:m=="has"?function(E){return o&&!Pa(E)?!1:g.call(this,E===0?0:E)}:function(E,O){return g.call(this,E===0?0:E,O),this})};if(ed(r,typeof a!="function"||!(o||u.forEach&&!Da(function(){new a().entries().next()}))))s=t.getConstructor(e,r,n,i),nI.REQUIRED=!0;else if(ed(r,!0)){var f=new s,l=f[i](o?{}:-0,1)!=f,v=Da(function(){f.has(1)}),y=aI(function(m){new a(m)}),h=!o&&Da(function(){for(var m=new a,g=5;g--;)m[i](g,g);return!m.has(-0)});y||(s=e(function(m,g){iI(m,s,r);var S=uI(new a,m,s);return g!=null&&oI(g,S[i],S,n),S}),s.prototype=u,u.constructor=s),(v||h)&&(p("delete"),p("has"),n&&p("get")),(h||l)&&p(i),o&&u.clear&&delete u.clear}return c[r]=s,eI({global:!0,forced:s!=a},c),sI(s,r),o||t.setStrong(s,r,n),s}});var Na=d((_L,sd)=>{"use strict";var cI=K().f,lI=Dt(),rd=Ur(),pI=Qt(),fI=ar(),dI=Gr(),hI=aa(),vI=ir(),Wr=Y(),nd=$r().fastKey,ad=Ae(),od=ad.set,wa=ad.getterFor;sd.exports={getConstructor:function(r,e,t,n){var o=r(function(s,c){fI(s,o,e),od(s,{type:e,index:lI(null),first:void 0,last:void 0,size:0}),Wr||(s.size=0),c!=null&&dI(c,s[n],s,t)}),i=wa(e),a=function(s,c,p){var f=i(s),l=u(s,c),v,y;return l?l.value=p:(f.last=l={index:y=nd(c,!0),key:c,value:p,previous:v=f.last,next:void 0,removed:!1},f.first||(f.first=l),v&&(v.next=l),Wr?f.size++:s.size++,y!=="F"&&(f.index[y]=l)),s},u=function(s,c){var p=i(s),f=nd(c),l;if(f!=="F")return p.index[f];for(l=p.first;l;l=l.next)if(l.key==c)return l};return rd(o.prototype,{clear:function(){for(var c=this,p=i(c),f=p.index,l=p.first;l;)l.removed=!0,l.previous&&(l.previous=l.previous.next=void 0),delete f[l.index],l=l.next;p.first=p.last=void 0,Wr?p.size=0:c.size=0},delete:function(s){var c=this,p=i(c),f=u(c,s);if(f){var l=f.next,v=f.previous;delete p.index[f.index],f.removed=!0,v&&(v.next=l),l&&(l.previous=v),p.first==f&&(p.first=l),p.last==f&&(p.last=v),Wr?p.size--:c.size--}return!!f},forEach:function(c){for(var p=i(this),f=pI(c,arguments.length>1?arguments[1]:void 0,3),l;l=l?l.next:p.first;)for(f(l.value,l.key,this);l&&l.removed;)l=l.previous},has:function(c){return!!u(this,c)}}),rd(o.prototype,t?{get:function(c){var p=u(this,c);return p&&p.value},set:function(c,p){return a(this,c===0?0:c,p)}}:{add:function(c){return a(this,c=c===0?0:c,c)}}),Wr&&cI(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(r,e,t){var n=e+" Iterator",o=wa(e),i=wa(n);hI(r,e,function(a,u){od(this,{type:n,target:a,state:o(a),kind:u,last:void 0})},function(){for(var a=i(this),u=a.kind,s=a.last;s&&s.removed;)s=s.previous;return!a.target||!(a.last=s=s?s.next:a.state.first)?(a.target=void 0,{value:void 0,done:!0}):u=="keys"?{value:s.key,done:!1}:u=="values"?{value:s.value,done:!1}:{value:[s.key,s.value],done:!1}},t?"entries":"values",!t,!0),vI(e)}}});var cd=d((EL,ud)=>{"use strict";var yI=Vr(),mI=Na();ud.exports=yI("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},mI)});var ld=d(()=>{var gI=vt();gI(Math,"Math",!0)});var so=d((SL,pd)=>{pd.exports="	\n\v\f\r                　\u2028\u2029\uFEFF"});var Kr=d((AL,fd)=>{var _I=oe(),EI=so(),uo="["+EI+"]",xI=RegExp("^"+uo+uo+"*"),bI=RegExp(uo+uo+"*$"),Ma=function(r){return function(e){var t=String(_I(e));return r&1&&(t=t.replace(xI,"")),r&2&&(t=t.replace(bI,"")),t}};fd.exports={start:Ma(1),end:Ma(2),trim:Ma(3)}});var hd=d((CL,dd)=>{var SI=U(),AI=Kr().trim,CI=so(),La=SI.parseFloat,II=1/La(CI+"-0")!==-1/0;dd.exports=II?function(e){var t=AI(String(e)),n=La(t);return n===0&&t.charAt(0)=="-"?-0:n}:La});var yd=d(()=>{var RI=I(),vd=hd();RI({target:"Number",stat:!0,forced:Number.parseFloat!=vd},{parseFloat:vd})});var Ua=d((OL,gd)=>{var OI=Y(),TI=Ln(),qI=Ne(),PI=Cn().f,md=function(r){return function(e){for(var t=qI(e),n=TI(t),o=n.length,i=0,a=[],u;o>i;)u=n[i++],(!OI||PI.call(t,u))&&a.push(r?[u,t[u]]:t[u]);return a}};gd.exports={entries:md(!0),values:md(!1)}});var _d=d(()=>{var DI=I(),wI=Ua().entries;DI({target:"Object",stat:!0},{entries:function(e){return wI(e)}})});var Ed=d(()=>{var NI=I(),MI=Gr(),LI=tr();NI({target:"Object",stat:!0},{fromEntries:function(e){var t={};return MI(e,function(n,o){LI(t,n,o)},void 0,!0),t}})});var xd=d(()=>{var UI=I(),FI=Y(),jI=wn(),$I=Ne(),kI=Se(),BI=tr();UI({target:"Object",stat:!0,sham:!FI},{getOwnPropertyDescriptors:function(e){for(var t=$I(e),n=kI.f,o=jI(t),i={},a=0,u,s;o.length>a;)s=n(t,u=o[a++]),s!==void 0&&BI(i,u,s);return i}})});var Sd=d((ML,bd)=>{"use strict";var GI=oo(),VI=kr();bd.exports=GI?{}.toString:function(){return"[object "+VI(this)+"]"}});var Ad=d(()=>{var WI=oo(),KI=Me(),HI=Sd();WI||KI(Object.prototype,"toString",HI,{unsafe:!0})});var Cd=d(()=>{var JI=I(),YI=Ua().values;JI({target:"Object",stat:!0},{values:function(e){return YI(e)}})});var Id=d(()=>{var QI=I(),zI=ke(),XI=Be(),ZI=N(),eR=w(),Fa=zI("Reflect","apply"),tR=Function.apply,rR=!eR(function(){Fa(function(){})});QI({target:"Reflect",stat:!0,forced:rR},{apply:function(e,t,n){return XI(e),ZI(n),Fa?Fa(e,t,n):tR.call(e,t,n)}})});var Td=d((BL,Od)=>{"use strict";var nR=Be(),oR=V(),Rd=[].slice,ja={},iR=function(r,e,t){if(!(e in ja)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";ja[e]=Function("C,a","return new C("+n.join(",")+")")}return ja[e](r,t)};Od.exports=Function.bind||function(e){var t=nR(this),n=Rd.call(arguments,1),o=function(){var a=n.concat(Rd.call(arguments));return this instanceof o?iR(t,a.length,a):t.apply(e,a)};return oR(t.prototype)&&(o.prototype=t.prototype),o}});var Ld=d(()=>{var aR=I(),sR=ke(),qd=Be(),uR=N(),Pd=V(),cR=Dt(),lR=Td(),wd=w(),$a=sR("Reflect","construct"),Nd=wd(function(){function r(){}return!($a(function(){},[],r)instanceof r)}),Md=!wd(function(){$a(function(){})}),Dd=Nd||Md;aR({target:"Reflect",stat:!0,forced:Dd,sham:Dd},{construct:function(e,t){qd(e),uR(t);var n=arguments.length<3?e:qd(arguments[2]);if(Md&&!Nd)return $a(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(lR.apply(e,o))}var i=n.prototype,a=cR(Pd(i)?i:Object.prototype),u=Function.apply.call(e,a,t);return Pd(u)?u:a}})});var jd=d(()=>{var pR=I(),fR=Y(),Ud=N(),dR=ze(),Fd=K(),hR=w(),vR=hR(function(){Reflect.defineProperty(Fd.f({},1,{value:1}),1,{value:2})});pR({target:"Reflect",stat:!0,forced:vR,sham:!fR},{defineProperty:function(e,t,n){Ud(e);var o=dR(t,!0);Ud(n);try{return Fd.f(e,o,n),!0}catch(i){return!1}}})});var $d=d(()=>{var yR=I(),mR=N(),gR=Se().f;yR({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=gR(mR(e),t);return n&&!n.configurable?!1:delete e[t]}})});var Bd=d(()=>{var _R=I(),ER=V(),xR=N(),bR=Q(),SR=Se(),AR=nt();function kd(r,e){var t=arguments.length<3?r:arguments[2],n,o;if(xR(r)===t)return r[e];if(n=SR.f(r,e))return bR(n,"value")?n.value:n.get===void 0?void 0:n.get.call(t);if(ER(o=AR(r)))return kd(o,e,t)}_R({target:"Reflect",stat:!0},{get:kd})});var Gd=d(()=>{var CR=I(),IR=Y(),RR=N(),OR=Se();CR({target:"Reflect",stat:!0,sham:!IR},{getOwnPropertyDescriptor:function(e,t){return OR.f(RR(e),t)}})});var Vd=d(()=>{var TR=I(),qR=N(),PR=nt(),DR=Xi();TR({target:"Reflect",stat:!0,sham:!DR},{getPrototypeOf:function(e){return PR(qR(e))}})});var Wd=d(()=>{var wR=I();wR({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})});var Hd=d(()=>{var NR=I(),MR=N(),Kd=Object.isExtensible;NR({target:"Reflect",stat:!0},{isExtensible:function(e){return MR(e),Kd?Kd(e):!0}})});var Jd=d(()=>{var LR=I(),UR=wn();LR({target:"Reflect",stat:!0},{ownKeys:UR})});var Yd=d(()=>{var FR=I(),jR=ke(),$R=N(),kR=Sa();FR({target:"Reflect",stat:!0,sham:!kR},{preventExtensions:function(e){$R(e);try{var t=jR("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})});var th=d(()=>{var BR=I(),GR=N(),Qd=V(),VR=Q(),WR=w(),ka=K(),zd=Se(),Zd=nt(),Xd=dt();function eh(r,e,t){var n=arguments.length<4?r:arguments[3],o=zd.f(GR(r),e),i,a;if(!o){if(Qd(a=Zd(r)))return eh(a,e,t,n);o=Xd(0)}if(VR(o,"value")){if(o.writable===!1||!Qd(n))return!1;if(i=zd.f(n,e)){if(i.get||i.set||i.writable===!1)return!1;i.value=t,ka.f(n,e,i)}else ka.f(n,e,Xd(0,t));return!0}return o.set===void 0?!1:(o.set.call(n,t),!0)}var KR=WR(function(){var r=ka.f({},"a",{configurable:!0});return Reflect.set(Zd(r),"a",1,r)!==!1});BR({target:"Reflect",stat:!0,forced:KR},{set:eh})});var nh=d(()=>{var HR=I(),JR=N(),YR=na(),rh=Lt();rh&&HR({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){JR(e),YR(t);try{return rh(e,t),!0}catch(n){return!1}}})});var Hr=d((dU,oh)=>{var QR=V(),zR=Rt(),XR=F(),ZR=XR("match");oh.exports=function(r){var e;return QR(r)&&((e=r[ZR])!==void 0?!!e:zR(r)=="RegExp")}});var Jr=d((hU,ih)=>{"use strict";var eO=N();ih.exports=function(){var r=eO(this),e="";return r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.sticky&&(e+="y"),e}});var co=d(Ba=>{"use strict";var ah=w();function sh(r,e){return RegExp(r,e)}Ba.UNSUPPORTED_Y=ah(function(){var r=sh("a","y");return r.lastIndex=2,r.exec("abcd")!=null});Ba.BROKEN_CARET=ah(function(){var r=sh("^r","gy");return r.lastIndex=2,r.exec("str")!=null})});var lh=d(()=>{var tO=Y(),ch=U(),rO=Nn(),nO=ao(),oO=K().f,iO=qt().f,aO=Hr(),sO=Jr(),uO=co(),cO=Me(),lO=w(),pO=Ae().set,fO=ir(),dO=F(),hO=dO("match"),Ve=ch.RegExp,Ga=Ve.prototype,Yr=/a/g,Va=/a/g,Ha=new Ve(Yr)!==Yr,Ja=uO.UNSUPPORTED_Y,vO=tO&&rO("RegExp",!Ha||Ja||lO(function(){return Va[hO]=!1,Ve(Yr)!=Yr||Ve(Va)==Va||Ve(Yr,"i")!="/a/i"}));if(vO){for(Ge=function(e,t){var n=this instanceof Ge,o=aO(e),i=t===void 0,a;if(!n&&o&&e.constructor===Ge&&i)return e;Ha?o&&!i&&(e=e.source):e instanceof Ge&&(i&&(t=sO.call(e)),e=e.source),Ja&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var u=nO(Ha?new Ve(e,t):Ve(e,t),n?this:Ga,Ge);return Ja&&a&&pO(u,{sticky:a}),u},uh=function(r){r in Ge||oO(Ge,r,{configurable:!0,get:function(){return Ve[r]},set:function(e){Ve[r]=e}})},Wa=iO(Ve),Ka=0;Wa.length>Ka;)uh(Wa[Ka++]);Ga.constructor=Ge,Ge.prototype=Ga,cO(ch,"RegExp",Ge)}var Ge,uh,Wa,Ka;fO("RegExp")});var Qr=d((gU,hh)=>{"use strict";var yO=Jr(),ph=co(),lo=RegExp.prototype.exec,mO=String.prototype.replace,fh=lo,Ya=function(){var r=/a/,e=/b*/g;return lo.call(r,"a"),lo.call(e,"a"),r.lastIndex!==0||e.lastIndex!==0}(),dh=ph.UNSUPPORTED_Y||ph.BROKEN_CARET,Qa=/()??/.exec("")[1]!==void 0,gO=Ya||Qa||dh;gO&&(fh=function(e){var t=this,n,o,i,a,u=dh&&t.sticky,s=yO.call(t),c=t.source,p=0,f=e;return u&&(s=s.replace("y",""),s.indexOf("g")===-1&&(s+="g"),f=String(e).slice(t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&e[t.lastIndex-1]!=="\n")&&(c="(?: "+c+")",f=" "+f,p++),o=new RegExp("^(?:"+c+")",s)),Qa&&(o=new RegExp("^"+c+"$(?!\\s)",s)),Ya&&(n=t.lastIndex),i=lo.call(u?o:t,f),u?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=t.lastIndex,t.lastIndex+=i[0].length):t.lastIndex=0:Ya&&i&&(t.lastIndex=t.global?i.index+i[0].length:n),Qa&&i&&i.length>1&&mO.call(i[0],o,function(){for(a=1;a<arguments.length-2;a++)arguments[a]===void 0&&(i[a]=void 0)}),i});hh.exports=fh});var po=d(()=>{"use strict";var _O=I(),vh=Qr();_O({target:"RegExp",proto:!0,forced:/./.exec!==vh},{exec:vh})});var yh=d(()=>{var EO=Y(),xO=co().UNSUPPORTED_Y,bO=K().f,SO=Ae().get,AO=RegExp.prototype;EO&&xO&&bO(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==AO){if(this instanceof RegExp)return!!SO(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})});var mh=d(()=>{"use strict";po();var CO=I(),IO=V(),RO=function(){var r=!1,e=/[ac]/;return e.exec=function(){return r=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&r}(),OO=/./.test;CO({target:"RegExp",proto:!0,forced:!RO},{test:function(r){if(typeof this.exec!="function")return OO.call(this,r);var e=this.exec(r);if(e!==null&&!IO(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})});var Eh=d(()=>{"use strict";var TO=Me(),qO=N(),PO=w(),DO=Jr(),za="toString",gh=RegExp.prototype,_h=gh[za],wO=PO(function(){return _h.call({source:"a",flags:"b"})!="/a/b"}),NO=_h.name!=za;(wO||NO)&&TO(RegExp.prototype,za,function(){var e=qO(this),t=String(e.source),n=e.flags,o=String(n===void 0&&e instanceof RegExp&&!("flags"in gh)?DO.call(e):n);return"/"+t+"/"+o},{unsafe:!0})});var bh=d((RU,xh)=>{"use strict";var MO=Vr(),LO=Na();xh.exports=MO("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},LO)});var fo=d((OU,Sh)=>{var UO=Hr();Sh.exports=function(r){if(UO(r))throw TypeError("The method doesn't accept regular expressions");return r}});var ho=d((TU,Ah)=>{var FO=F(),jO=FO("match");Ah.exports=function(r){var e=/./;try{"/./"[r](e)}catch(t){try{return e[jO]=!1,"/./"[r](e)}catch(n){}}return!1}});var Oh=d(()=>{"use strict";var $O=I(),kO=Se().f,Ch=k(),BO=fo(),GO=oe(),VO=ho(),WO=ht(),Ih="".endsWith,KO=Math.min,Rh=VO("endsWith"),HO=!WO&&!Rh&&!!function(){var r=kO(String.prototype,"endsWith");return r&&!r.writable}();$O({target:"String",proto:!0,forced:!HO&&!Rh},{endsWith:function(e){var t=String(GO(this));BO(e);var n=arguments.length>1?arguments[1]:void 0,o=Ch(t.length),i=n===void 0?o:KO(Ch(n),o),a=String(e);return Ih?Ih.call(t,a,i):t.slice(i-a.length,i)===a}})});var Th=d(()=>{"use strict";var JO=I(),YO=fo(),QO=oe(),zO=ho();JO({target:"String",proto:!0,forced:!zO("includes")},{includes:function(e){return!!~String(QO(this)).indexOf(YO(e),arguments.length>1?arguments[1]:void 0)}})});var zr=d((NU,Nh)=>{"use strict";po();var qh=Me(),vo=w(),Xa=F(),XO=Qr(),ZO=le(),eT=Xa("species"),tT=!vo(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"}),Ph=function(){return"a".replace(/./,"$0")==="$0"}(),Dh=Xa("replace"),wh=function(){return/./[Dh]?/./[Dh]("a","$0")==="":!1}(),rT=!vo(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"});Nh.exports=function(r,e,t,n){var o=Xa(r),i=!vo(function(){var f={};return f[o]=function(){return 7},""[r](f)!=7}),a=i&&!vo(function(){var f=!1,l=/a/;return r==="split"&&(l={},l.constructor={},l.constructor[eT]=function(){return l},l.flags="",l[o]=/./[o]),l.exec=function(){return f=!0,null},l[o](""),!f});if(!i||!a||r==="replace"&&!(tT&&Ph&&!wh)||r==="split"&&!rT){var u=/./[o],s=t(o,""[r],function(f,l,v,y,h){return l.exec===XO?i&&!h?{done:!0,value:u.call(l,v,y)}:{done:!0,value:f.call(v,l,y)}:{done:!1}},{REPLACE_KEEPS_$0:Ph,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:wh}),c=s[0],p=s[1];qh(String.prototype,r,c),qh(RegExp.prototype,o,e==2?function(f,l){return p.call(f,this,l)}:function(f){return p.call(f,this)})}n&&ZO(RegExp.prototype[o],"sham",!0)}});var Uh=d((MU,Lh)=>{var nT=Ce(),oT=oe(),Mh=function(r){return function(e,t){var n=String(oT(e)),o=nT(t),i=n.length,a,u;return o<0||o>=i?r?"":void 0:(a=n.charCodeAt(o),a<55296||a>56319||o+1===i||(u=n.charCodeAt(o+1))<56320||u>57343?r?n.charAt(o):a:r?n.slice(o,o+2):(a-55296<<10)+(u-56320)+65536)}};Lh.exports={codeAt:Mh(!1),charAt:Mh(!0)}});var Xr=d((LU,Fh)=>{"use strict";var iT=Uh().charAt;Fh.exports=function(r,e,t){return e+(t?iT(r,e).length:1)}});var Zr=d((UU,jh)=>{var aT=Rt(),sT=Qr();jh.exports=function(r,e){var t=r.exec;if(typeof t=="function"){var n=t.call(r,e);if(typeof n!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return n}if(aT(r)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return sT.call(r,e)}});var kh=d(()=>{"use strict";var uT=zr(),cT=N(),lT=k(),pT=oe(),fT=Xr(),$h=Zr();uT("match",1,function(r,e,t){return[function(o){var i=pT(this),a=o==null?void 0:o[r];return a!==void 0?a.call(o,i):new RegExp(o)[r](String(i))},function(n){var o=t(e,n,this);if(o.done)return o.value;var i=cT(n),a=String(this);if(!i.global)return $h(i,a);var u=i.unicode;i.lastIndex=0;for(var s=[],c=0,p;(p=$h(i,a))!==null;){var f=String(p[0]);s[c]=f,f===""&&(i.lastIndex=fT(a,lT(i.lastIndex),u)),c++}return c===0?null:s}]})});var Jh=d(()=>{"use strict";var dT=I(),hT=ra(),Bh=oe(),Gh=k(),vT=Be(),yT=N(),mT=Rt(),gT=Hr(),Vh=Jr(),_T=le(),ET=w(),xT=F(),bT=Ut(),ST=Xr(),Wh=Ae(),es=ht(),yo=xT("matchAll"),Kh="RegExp String",Hh=Kh+" Iterator",AT=Wh.set,CT=Wh.getterFor(Hh),en=RegExp.prototype,IT=en.exec,ts="".matchAll,Za=!!ts&&!ET(function(){"a".matchAll(/./)}),RT=function(r,e){var t=r.exec,n;if(typeof t=="function"){if(n=t.call(r,e),typeof n!="object")throw TypeError("Incorrect exec result");return n}return IT.call(r,e)},OT=hT(function(e,t,n,o){AT(this,{type:Hh,regexp:e,string:t,global:n,unicode:o,done:!1})},Kh,function(){var e=CT(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,o=RT(t,n);return o===null?{value:void 0,done:e.done=!0}:e.global?(String(o[0])==""&&(t.lastIndex=ST(n,Gh(t.lastIndex),e.unicode)),{value:o,done:!1}):(e.done=!0,{value:o,done:!1})}),rs=function(r){var e=yT(this),t=String(r),n,o,i,a,u,s;return n=bT(e,RegExp),o=e.flags,o===void 0&&e instanceof RegExp&&!("flags"in en)&&(o=Vh.call(e)),i=o===void 0?"":String(o),a=new n(n===RegExp?e.source:e,i),u=!!~i.indexOf("g"),s=!!~i.indexOf("u"),a.lastIndex=Gh(e.lastIndex),new OT(a,t,u,s)};dT({target:"String",proto:!0,forced:Za},{matchAll:function(e){var t=Bh(this),n,o,i,a;if(e!=null){if(gT(e)&&(n=String(Bh("flags"in en?e.flags:Vh.call(e))),!~n.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(Za)return ts.apply(t,arguments);if(i=e[yo],i===void 0&&es&&mT(e)=="RegExp"&&(i=rs),i!=null)return vT(i).call(e,t)}else if(Za)return ts.apply(t,arguments);return o=String(t),a=new RegExp(e,"g"),es?rs.call(a,o):a[yo](o)}});es||yo in en||_T(en,yo,rs)});var Qh=d((BU,Yh)=>{"use strict";var TT=Ce(),qT=oe();Yh.exports="".repeat||function(e){var t=String(qT(this)),n="",o=TT(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))o&1&&(n+=t);return n}});var ns=d((GU,Xh)=>{var PT=k(),DT=Qh(),wT=oe(),NT=Math.ceil,zh=function(r){return function(e,t,n){var o=String(wT(e)),i=o.length,a=n===void 0?" ":String(n),u=PT(t),s,c;return u<=i||a==""?o:(s=u-i,c=DT.call(a,NT(s/a.length)),c.length>s&&(c=c.slice(0,s)),r?o+c:c+o)}};Xh.exports={start:zh(!1),end:zh(!0)}});var os=d((VU,Zh)=>{var MT=Wi();Zh.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(MT)});var ev=d(()=>{"use strict";var LT=I(),UT=ns().end,FT=os();LT({target:"String",proto:!0,forced:FT},{padEnd:function(e){return UT(this,e,arguments.length>1?arguments[1]:void 0)}})});var tv=d(()=>{"use strict";var jT=I(),$T=ns().start,kT=os();jT({target:"String",proto:!0,forced:kT},{padStart:function(e){return $T(this,e,arguments.length>1?arguments[1]:void 0)}})});var rv=d(()=>{"use strict";var BT=zr(),GT=N(),VT=ie(),WT=k(),KT=Ce(),HT=oe(),JT=Xr(),YT=Zr(),QT=Math.max,zT=Math.min,XT=Math.floor,ZT=/\$([$&'`]|\d\d?|<[^>]*>)/g,eq=/\$([$&'`]|\d\d?)/g,tq=function(r){return r===void 0?r:String(r)};BT("replace",2,function(r,e,t,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(c,p){var f=HT(this),l=c==null?void 0:c[r];return l!==void 0?l.call(c,f,p):e.call(String(f),c,p)},function(s,c){if(!o&&i||typeof c=="string"&&c.indexOf(a)===-1){var p=t(e,s,this,c);if(p.done)return p.value}var f=GT(s),l=String(this),v=typeof c=="function";v||(c=String(c));var y=f.global;if(y){var h=f.unicode;f.lastIndex=0}for(var m=[];;){var g=YT(f,l);if(g===null||(m.push(g),!y))break;var S=String(g[0]);S===""&&(f.lastIndex=JT(l,WT(f.lastIndex),h))}for(var E="",O=0,C=0;C<m.length;C++){g=m[C];for(var $=String(g[0]),P=QT(zT(KT(g.index),l.length),0),M=[],G=1;G<g.length;G++)M.push(tq(g[G]));var X=g.groups;if(v){var Ct=[$].concat(M,P,l);X!==void 0&&Ct.push(X);var Qe=String(c.apply(void 0,Ct))}else Qe=u($,l,P,M,X,c);P>=O&&(E+=l.slice(O,P)+Qe,O=P+$.length)}return E+l.slice(O)}];function u(s,c,p,f,l,v){var y=p+s.length,h=f.length,m=eq;return l!==void 0&&(l=VT(l),m=ZT),e.call(v,m,function(g,S){var E;switch(S.charAt(0)){case"$":return"$";case"&":return s;case"`":return c.slice(0,p);case"'":return c.slice(y);case"<":E=l[S.slice(1,-1)];break;default:var O=+S;if(O===0)return g;if(O>h){var C=XT(O/10);return C===0?g:C<=h?f[C-1]===void 0?S.charAt(1):f[C-1]+S.charAt(1):g}E=f[O-1]}return E===void 0?"":E})}})});var ov=d((zU,nv)=>{nv.exports=Object.is||function(e,t){return e===t?e!==0||1/e===1/t:e!=e&&t!=t}});var av=d(()=>{"use strict";var rq=zr(),nq=N(),oq=oe(),iv=ov(),iq=Zr();rq("search",1,function(r,e,t){return[function(o){var i=oq(this),a=o==null?void 0:o[r];return a!==void 0?a.call(o,i):new RegExp(o)[r](String(i))},function(n){var o=t(e,n,this);if(o.done)return o.value;var i=nq(n),a=String(this),u=i.lastIndex;iv(u,0)||(i.lastIndex=0);var s=iq(i,a);return iv(i.lastIndex,u)||(i.lastIndex=u),s===null?-1:s.index}]})});var cv=d(()=>{"use strict";var aq=zr(),sq=Hr(),uq=N(),sv=oe(),cq=Ut(),lq=Xr(),pq=k(),uv=Zr(),fq=Qr(),dq=w(),hq=[].push,vq=Math.min,is=4294967295,ur=!dq(function(){return!RegExp(is,"y")});aq("split",2,function(r,e,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(o,i){var a=String(sv(this)),u=i===void 0?is:i>>>0;if(u===0)return[];if(o===void 0)return[a];if(!sq(o))return e.call(a,o,u);for(var s=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),p=0,f=new RegExp(o.source,c+"g"),l,v,y;(l=fq.call(f,a))&&(v=f.lastIndex,!(v>p&&(s.push(a.slice(p,l.index)),l.length>1&&l.index<a.length&&hq.apply(s,l.slice(1)),y=l[0].length,p=v,s.length>=u)));)f.lastIndex===l.index&&f.lastIndex++;return p===a.length?(y||!f.test(""))&&s.push(""):s.push(a.slice(p)),s.length>u?s.slice(0,u):s}:"0".split(void 0,0).length?n=function(o,i){return o===void 0&&i===0?[]:e.call(this,o,i)}:n=e,[function(i,a){var u=sv(this),s=i==null?void 0:i[r];return s!==void 0?s.call(i,u,a):n.call(String(u),i,a)},function(o,i){var a=t(n,o,this,i,n!==e);if(a.done)return a.value;var u=uq(o),s=String(this),c=cq(u,RegExp),p=u.unicode,f=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(ur?"y":"g"),l=new c(ur?u:"^(?:"+u.source+")",f),v=i===void 0?is:i>>>0;if(v===0)return[];if(s.length===0)return uv(l,s)===null?[s]:[];for(var y=0,h=0,m=[];h<s.length;){l.lastIndex=ur?h:0;var g=uv(l,ur?s:s.slice(h)),S;if(g===null||(S=vq(pq(l.lastIndex+(ur?0:h)),s.length))===y)h=lq(s,h,p);else{if(m.push(s.slice(y,h)),m.length===v)return m;for(var E=1;E<=g.length-1;E++)if(m.push(g[E]),m.length===v)return m;h=y=S}}return m.push(s.slice(y)),m}]},!ur)});var fv=d(()=>{"use strict";var yq=I(),mq=Se().f,gq=k(),_q=fo(),Eq=oe(),xq=ho(),bq=ht(),lv="".startsWith,Sq=Math.min,pv=xq("startsWith"),Aq=!bq&&!pv&&!!function(){var r=mq(String.prototype,"startsWith");return r&&!r.writable}();yq({target:"String",proto:!0,forced:!Aq&&!pv},{startsWith:function(e){var t=String(Eq(this));_q(e);var n=gq(Sq(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return lv?lv.call(t,o,n):t.slice(n,n+o.length)===o}})});var mo=d((oF,vv)=>{var Cq=w(),dv=so(),hv="​᠎";vv.exports=function(r){return Cq(function(){return!!dv[r]()||hv[r]()!=hv||dv[r].name!==r})}});var yv=d(()=>{"use strict";var Iq=I(),Rq=Kr().trim,Oq=mo();Iq({target:"String",proto:!0,forced:Oq("trim")},{trim:function(){return Rq(this)}})});var _v=d(()=>{"use strict";var Tq=I(),qq=Kr().end,Pq=mo(),gv=Pq("trimEnd"),mv=gv?function(){return qq(this)}:"".trimEnd;Tq({target:"String",proto:!0,forced:gv},{trimEnd:mv,trimRight:mv})});var bv=d(()=>{"use strict";var Dq=I(),wq=Kr().start,Nq=mo(),xv=Nq("trimStart"),Ev=xv?function(){return wq(this)}:"".trimStart;Dq({target:"String",proto:!0,forced:xv},{trimStart:Ev,trimLeft:Ev})});var B=d((pF,Pv)=>{"use strict";var Mq=pa(),cs=Y(),de=U(),Rv=V(),cr=Q(),ls=kr(),Lq=le(),as=Me(),Uq=K().f,ps=nt(),lr=Lt(),Fq=F(),jq=Ht(),tn=de.Int8Array,ss=tn&&tn.prototype,Sv=de.Uint8ClampedArray,Av=Sv&&Sv.prototype,it=tn&&ps(tn),Fe=ss&&ps(ss),Ov=Object.prototype,Cv=Ov.isPrototypeOf,Iv=Fq("toStringTag"),us=jq("TYPED_ARRAY_TAG"),at=Mq&&!!lr&&ls(de.opera)!=="Opera",Tv=!1,_e,je={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$q=function(e){var t=ls(e);return t==="DataView"||cr(je,t)},qv=function(r){return Rv(r)&&cr(je,ls(r))},kq=function(r){if(qv(r))return r;throw TypeError("Target is not a typed array")},Bq=function(r){if(lr){if(Cv.call(it,r))return r}else for(var e in je)if(cr(je,_e)){var t=de[e];if(t&&(r===t||Cv.call(t,r)))return r}throw TypeError("Target is not a typed array constructor")},Gq=function(r,e,t){if(cs){if(t)for(var n in je){var o=de[n];o&&cr(o.prototype,r)&&delete o.prototype[r]}(!Fe[r]||t)&&as(Fe,r,t?e:at&&ss[r]||e)}},Vq=function(r,e,t){var n,o;if(cs){if(lr){if(t)for(n in je)o=de[n],o&&cr(o,r)&&delete o[r];if(!it[r]||t)try{return as(it,r,t?e:at&&tn[r]||e)}catch(i){}else return}for(n in je)o=de[n],o&&(!o[r]||t)&&as(o,r,e)}};for(_e in je)de[_e]||(at=!1);if((!at||typeof it!="function"||it===Function.prototype)&&(it=function(){throw TypeError("Incorrect invocation")},at))for(_e in je)de[_e]&&lr(de[_e],it);if((!at||!Fe||Fe===Ov)&&(Fe=it.prototype,at))for(_e in je)de[_e]&&lr(de[_e].prototype,Fe);at&&ps(Av)!==Fe&&lr(Av,Fe);if(cs&&!cr(Fe,Iv)){Tv=!0,Uq(Fe,Iv,{get:function(){return Rv(this)?this[us]:void 0}});for(_e in je)de[_e]&&Lq(de[_e],us,_e)}Pv.exports={NATIVE_ARRAY_BUFFER_VIEWS:at,TYPED_ARRAY_TAG:Tv&&us,aTypedArray:kq,aTypedArrayConstructor:Bq,exportTypedArrayMethod:Gq,exportTypedArrayStaticMethod:Vq,isView:$q,isTypedArray:qv,TypedArray:it,TypedArrayPrototype:Fe}});var go=d((fF,wv)=>{var Dv=U(),fs=w(),Wq=qa(),Kq=B().NATIVE_ARRAY_BUFFER_VIEWS,Hq=Dv.ArrayBuffer,jt=Dv.Int8Array;wv.exports=!Kq||!fs(function(){jt(1)})||!fs(function(){new jt(-1)})||!Wq(function(r){new jt,new jt(null),new jt(1.5),new jt(r)},!0)||fs(function(){return new jt(new Hq(2),1,void 0).length!==1})});var Mv=d((dF,Nv)=>{var Jq=Ce();Nv.exports=function(r){var e=Jq(r);if(e<0)throw RangeError("The argument can't be less than 0");return e}});var Uv=d((hF,Lv)=>{var Yq=Mv();Lv.exports=function(r,e){var t=Yq(r);if(t%e)throw RangeError("Wrong offset");return t}});var ds=d((vF,Fv)=>{var Qq=ie(),zq=k(),Xq=Oa(),Zq=Ra(),eP=Qt(),tP=B().aTypedArrayConstructor;Fv.exports=function(e){var t=Qq(e),n=arguments.length,o=n>1?arguments[1]:void 0,i=o!==void 0,a=Xq(t),u,s,c,p,f,l;if(a!=null&&!Zq(a))for(f=a.call(t),l=f.next,t=[];!(p=l.call(f)).done;)t.push(p.value);for(i&&n>2&&(o=eP(o,arguments[2],2)),s=zq(t.length),c=new(tP(this))(s),u=0;s>u;u++)c[u]=i?o(t[u],u):t[u];return c}});var We=d((yF,Es)=>{"use strict";var jv=I(),Yv=U(),rP=Y(),nP=go(),pr=B(),Qv=ro(),$v=ar(),oP=dt(),rn=le(),iP=k(),kv=fa(),hs=Uv(),zv=ze(),nn=Q(),aP=kr(),ms=V(),sP=Dt(),_o=Lt(),uP=qt().f,Bv=ds(),cP=me().forEach,lP=ir(),Xv=K(),Zv=Se(),ey=Ae(),pP=ao(),gs=ey.get,fP=ey.set,xs=Xv.f,dP=Zv.f,hP=Math.round,vs=Yv.RangeError,ty=Qv.ArrayBuffer,vP=Qv.DataView,Eo=pr.NATIVE_ARRAY_BUFFER_VIEWS,Gv=pr.TYPED_ARRAY_TAG,Vv=pr.TypedArray,on=pr.TypedArrayPrototype,yP=pr.aTypedArrayConstructor,_s=pr.isTypedArray,xo="BYTES_PER_ELEMENT",ys="Wrong length",Wv=function(r,e){for(var t=0,n=e.length,o=new(yP(r))(n);n>t;)o[t]=e[t++];return o},bo=function(r,e){xs(r,e,{get:function(){return gs(this)[e]}})},Kv=function(r){var e;return r instanceof ty||(e=aP(r))=="ArrayBuffer"||e=="SharedArrayBuffer"},ry=function(r,e){return _s(r)&&typeof e!="symbol"&&e in r&&String(+e)==String(e)},Hv=function(e,t){return ry(e,t=zv(t,!0))?oP(2,e[t]):dP(e,t)},Jv=function(e,t,n){return ry(e,t=zv(t,!0))&&ms(n)&&nn(n,"value")&&!nn(n,"get")&&!nn(n,"set")&&!n.configurable&&(!nn(n,"writable")||n.writable)&&(!nn(n,"enumerable")||n.enumerable)?(e[t]=n.value,e):xs(e,t,n)};rP?(Eo||(Zv.f=Hv,Xv.f=Jv,bo(on,"buffer"),bo(on,"byteOffset"),bo(on,"byteLength"),bo(on,"length")),jv({target:"Object",stat:!0,forced:!Eo},{getOwnPropertyDescriptor:Hv,defineProperty:Jv}),Es.exports=function(r,e,t){var n=r.match(/\d+$/)[0]/8,o=r+(t?"Clamped":"")+"Array",i="get"+r,a="set"+r,u=Yv[o],s=u,c=s&&s.prototype,p={},f=function(y,h){var m=gs(y);return m.view[i](h*n+m.byteOffset,!0)},l=function(y,h,m){var g=gs(y);t&&(m=(m=hP(m))<0?0:m>255?255:m&255),g.view[a](h*n+g.byteOffset,m,!0)},v=function(y,h){xs(y,h,{get:function(){return f(this,h)},set:function(m){return l(this,h,m)},enumerable:!0})};Eo?nP&&(s=e(function(y,h,m,g){return $v(y,s,o),pP(function(){return ms(h)?Kv(h)?g!==void 0?new u(h,hs(m,n),g):m!==void 0?new u(h,hs(m,n)):new u(h):_s(h)?Wv(s,h):Bv.call(s,h):new u(kv(h))}(),y,s)}),_o&&_o(s,Vv),cP(uP(u),function(y){y in s||rn(s,y,u[y])}),s.prototype=c):(s=e(function(y,h,m,g){$v(y,s,o);var S=0,E=0,O,C,$;if(!ms(h))$=kv(h),C=$*n,O=new ty(C);else if(Kv(h)){O=h,E=hs(m,n);var P=h.byteLength;if(g===void 0){if(P%n||(C=P-E,C<0))throw vs(ys)}else if(C=iP(g)*n,C+E>P)throw vs(ys);$=C/n}else return _s(h)?Wv(s,h):Bv.call(s,h);for(fP(y,{buffer:O,byteOffset:E,byteLength:C,length:$,view:new vP(O)});S<$;)v(y,S++)}),_o&&_o(s,Vv),c=s.prototype=sP(on)),c.constructor!==s&&rn(c,"constructor",s),Gv&&rn(c,Gv,o),p[o]=s,jv({global:!0,forced:s!=u,sham:!Eo},p),xo in s||rn(s,xo,n),xo in c||rn(c,xo,n),lP(o)}):Es.exports=function(){}});var ny=d(()=>{var mP=We();mP("Float32",function(r){return function(t,n,o){return r(this,t,n,o)}})});var oy=d(()=>{var gP=We();gP("Float64",function(r){return function(t,n,o){return r(this,t,n,o)}})});var iy=d(()=>{var _P=We();_P("Int8",function(r){return function(t,n,o){return r(this,t,n,o)}})});var ay=d(()=>{var EP=We();EP("Int16",function(r){return function(t,n,o){return r(this,t,n,o)}})});var sy=d(()=>{var xP=We();xP("Int32",function(r){return function(t,n,o){return r(this,t,n,o)}})});var uy=d(()=>{var bP=We();bP("Uint8",function(r){return function(t,n,o){return r(this,t,n,o)}})});var cy=d(()=>{var SP=We();SP("Uint8",function(r){return function(t,n,o){return r(this,t,n,o)}},!0)});var ly=d(()=>{var AP=We();AP("Uint16",function(r){return function(t,n,o){return r(this,t,n,o)}})});var py=d(()=>{var CP=We();CP("Uint32",function(r){return function(t,n,o){return r(this,t,n,o)}})});var dy=d((MF,fy)=>{"use strict";var IP=ie(),bs=Tt(),RP=k(),OP=Math.min;fy.exports=[].copyWithin||function(e,t){var n=IP(this),o=RP(n.length),i=bs(e,o),a=bs(t,o),u=arguments.length>2?arguments[2]:void 0,s=OP((u===void 0?o:bs(u,o))-a,o-i),c=1;for(a<i&&i<a+s&&(c=-1,a+=s-1,i+=s-1);s-- >0;)a in n?n[i]=n[a]:delete n[i],i+=c,a+=c;return n}});var vy=d(()=>{"use strict";var hy=B(),TP=dy(),qP=hy.aTypedArray,PP=hy.exportTypedArrayMethod;PP("copyWithin",function(e,t){return TP.call(qP(this),e,t,arguments.length>2?arguments[2]:void 0)})});var my=d(()=>{"use strict";var yy=B(),DP=me().every,wP=yy.aTypedArray,NP=yy.exportTypedArrayMethod;NP("every",function(e){return DP(wP(this),e,arguments.length>1?arguments[1]:void 0)})});var _y=d(()=>{"use strict";var gy=B(),MP=ha(),LP=gy.aTypedArray,UP=gy.exportTypedArrayMethod;UP("fill",function(e){return MP.apply(LP(this),arguments)})});var Ey=d(()=>{"use strict";var Ss=B(),FP=me().filter,jP=Ut(),$P=Ss.aTypedArray,kP=Ss.aTypedArrayConstructor,BP=Ss.exportTypedArrayMethod;BP("filter",function(e){for(var t=FP($P(this),e,arguments.length>1?arguments[1]:void 0),n=jP(this,this.constructor),o=0,i=t.length,a=new(kP(n))(i);i>o;)a[o]=t[o++];return a})});var by=d(()=>{"use strict";var xy=B(),GP=me().find,VP=xy.aTypedArray,WP=xy.exportTypedArrayMethod;WP("find",function(e){return GP(VP(this),e,arguments.length>1?arguments[1]:void 0)})});var Ay=d(()=>{"use strict";var Sy=B(),KP=me().findIndex,HP=Sy.aTypedArray,JP=Sy.exportTypedArrayMethod;JP("findIndex",function(e){return KP(HP(this),e,arguments.length>1?arguments[1]:void 0)})});var Iy=d(()=>{"use strict";var Cy=B(),YP=me().forEach,QP=Cy.aTypedArray,zP=Cy.exportTypedArrayMethod;zP("forEach",function(e){YP(QP(this),e,arguments.length>1?arguments[1]:void 0)})});var Ry=d(()=>{"use strict";var XP=go(),ZP=B().exportTypedArrayStaticMethod,eD=ds();ZP("from",eD,XP)});var Ty=d(()=>{"use strict";var Oy=B(),tD=Or().includes,rD=Oy.aTypedArray,nD=Oy.exportTypedArrayMethod;nD("includes",function(e){return tD(rD(this),e,arguments.length>1?arguments[1]:void 0)})});var Py=d(()=>{"use strict";var qy=B(),oD=Or().indexOf,iD=qy.aTypedArray,aD=qy.exportTypedArrayMethod;aD("indexOf",function(e){return oD(iD(this),e,arguments.length>1?arguments[1]:void 0)})});var Uy=d(()=>{"use strict";var sD=U(),wy=B(),Cs=ua(),uD=F(),Ny=uD("iterator"),Dy=sD.Uint8Array,cD=Cs.values,lD=Cs.keys,pD=Cs.entries,Is=wy.aTypedArray,So=wy.exportTypedArrayMethod,As=Dy&&Dy.prototype[Ny],My=!!As&&(As.name=="values"||As.name==null),Ly=function(){return cD.call(Is(this))};So("entries",function(){return pD.call(Is(this))});So("keys",function(){return lD.call(Is(this))});So("values",Ly,!My);So(Ny,Ly,!My)});var jy=d(()=>{"use strict";var Fy=B(),fD=Fy.aTypedArray,dD=Fy.exportTypedArrayMethod,hD=[].join;dD("join",function(e){return hD.apply(fD(this),arguments)})});var By=d((aj,ky)=>{"use strict";var vD=Ne(),yD=Ce(),mD=k(),gD=ca(),_D=Mt(),ED=Math.min,Rs=[].lastIndexOf,$y=!!Rs&&1/[1].lastIndexOf(1,-0)<0,xD=gD("lastIndexOf"),bD=_D("indexOf",{ACCESSORS:!0,1:0}),SD=$y||!xD||!bD;ky.exports=SD?function(e){if($y)return Rs.apply(this,arguments)||0;var t=vD(this),n=mD(t.length),o=n-1;for(arguments.length>1&&(o=ED(o,yD(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:Rs});var Vy=d(()=>{"use strict";var Gy=B(),AD=By(),CD=Gy.aTypedArray,ID=Gy.exportTypedArrayMethod;ID("lastIndexOf",function(e){return AD.apply(CD(this),arguments)})});var Wy=d(()=>{"use strict";var Os=B(),RD=me().map,OD=Ut(),TD=Os.aTypedArray,qD=Os.aTypedArrayConstructor,PD=Os.exportTypedArrayMethod;PD("map",function(e){return RD(TD(this),e,arguments.length>1?arguments[1]:void 0,function(t,n){return new(qD(OD(t,t.constructor)))(n)})})});var Hy=d(()=>{"use strict";var Ky=B(),DD=go(),wD=Ky.aTypedArrayConstructor,ND=Ky.exportTypedArrayStaticMethod;ND("of",function(){for(var e=0,t=arguments.length,n=new(wD(this))(t);t>e;)n[e]=arguments[e++];return n},DD)});var Ts=d((dj,Yy)=>{var MD=Be(),LD=ie(),UD=In(),FD=k(),Jy=function(r){return function(e,t,n,o){MD(t);var i=LD(e),a=UD(i),u=FD(i.length),s=r?u-1:0,c=r?-1:1;if(n<2)for(;;){if(s in a){o=a[s],s+=c;break}if(s+=c,r?s<0:u<=s)throw TypeError("Reduce of empty array with no initial value")}for(;r?s>=0:u>s;s+=c)s in a&&(o=t(o,a[s],s,i));return o}};Yy.exports={left:Jy(!1),right:Jy(!0)}});var zy=d(()=>{"use strict";var Qy=B(),jD=Ts().left,$D=Qy.aTypedArray,kD=Qy.exportTypedArrayMethod;kD("reduce",function(e){return jD($D(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})});var Zy=d(()=>{"use strict";var Xy=B(),BD=Ts().right,GD=Xy.aTypedArray,VD=Xy.exportTypedArrayMethod;VD("reduceRight",function(e){return BD(GD(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})});var tm=d(()=>{"use strict";var em=B(),WD=em.aTypedArray,KD=em.exportTypedArrayMethod,HD=Math.floor;KD("reverse",function(){for(var e=this,t=WD(e).length,n=HD(t/2),o=0,i;o<n;)i=e[o],e[o++]=e[--t],e[t]=i;return e})});var rm=d(()=>{"use strict";var qs=B(),JD=Ut(),YD=w(),QD=qs.aTypedArray,zD=qs.aTypedArrayConstructor,XD=qs.exportTypedArrayMethod,ZD=[].slice,ew=YD(function(){new Int8Array(1).slice()});XD("slice",function(e,t){for(var n=ZD.call(QD(this),e,t),o=JD(this,this.constructor),i=0,a=n.length,u=new(zD(o))(a);a>i;)u[i]=n[i++];return u},ew)});var om=d(()=>{"use strict";var nm=B(),tw=me().some,rw=nm.aTypedArray,nw=nm.exportTypedArrayMethod;nw("some",function(e){return tw(rw(this),e,arguments.length>1?arguments[1]:void 0)})});var am=d(()=>{"use strict";var im=B(),ow=im.aTypedArray,iw=im.exportTypedArrayMethod,aw=[].sort;iw("sort",function(e){return aw.call(ow(this),e)})});var um=d(()=>{"use strict";var sw=B().exportTypedArrayMethod,uw=w(),cw=U(),sm=cw.Uint8Array,lw=sm&&sm.prototype||{},Ao=[].toString,pw=[].join;uw(function(){Ao.call({})})&&(Ao=function(){return pw.call(this)});var fw=lw.toString!=Ao;sw("toString",Ao,fw)});var ws=d((Oj,hm)=>{"use strict";var cm=Ur(),Co=$r().getWeakData,dw=N(),Ps=V(),hw=ar(),vw=Gr(),pm=me(),lm=Q(),fm=Ae(),yw=fm.set,mw=fm.getterFor,gw=pm.find,_w=pm.findIndex,Ew=0,Io=function(r){return r.frozen||(r.frozen=new dm)},dm=function(){this.entries=[]},Ds=function(r,e){return gw(r.entries,function(t){return t[0]===e})};dm.prototype={get:function(r){var e=Ds(this,r);if(e)return e[1]},has:function(r){return!!Ds(this,r)},set:function(r,e){var t=Ds(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=_w(this.entries,function(t){return t[0]===r});return~e&&this.entries.splice(e,1),!!~e}};hm.exports={getConstructor:function(r,e,t,n){var o=r(function(u,s){hw(u,o,e),yw(u,{type:e,id:Ew++,frozen:void 0}),s!=null&&vw(s,u[n],u,t)}),i=mw(e),a=function(u,s,c){var p=i(u),f=Co(dw(s),!0);return f===!0?Io(p).set(s,c):f[p.id]=c,u};return cm(o.prototype,{delete:function(u){var s=i(this);if(!Ps(u))return!1;var c=Co(u);return c===!0?Io(s).delete(u):c&&lm(c,s.id)&&delete c[s.id]},has:function(s){var c=i(this);if(!Ps(s))return!1;var p=Co(s);return p===!0?Io(c).has(s):p&&lm(p,c.id)}}),cm(o.prototype,t?{get:function(s){var c=i(this);if(Ps(s)){var p=Co(s);return p===!0?Io(c).get(s):p?p[c.id]:void 0}},set:function(s,c){return a(this,s,c)}}:{add:function(s){return a(this,s,!0)}}),o}}});var _m=d((Tj,gm)=>{"use strict";var vm=U(),xw=Ur(),bw=$r(),Sw=Vr(),ym=ws(),Ro=V(),Oo=Ae().enforce,Aw=hi(),Cw=!vm.ActiveXObject&&"ActiveXObject"in vm,To=Object.isExtensible,an,mm=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Iw=gm.exports=Sw("WeakMap",mm,ym);Aw&&Cw&&(an=ym.getConstructor(mm,"WeakMap",!0),bw.REQUIRED=!0,fr=Iw.prototype,Ns=fr.delete,sn=fr.has,Ms=fr.get,Ls=fr.set,xw(fr,{delete:function(r){if(Ro(r)&&!To(r)){var e=Oo(this);return e.frozen||(e.frozen=new an),Ns.call(this,r)||e.frozen.delete(r)}return Ns.call(this,r)},has:function(e){if(Ro(e)&&!To(e)){var t=Oo(this);return t.frozen||(t.frozen=new an),sn.call(this,e)||t.frozen.has(e)}return sn.call(this,e)},get:function(e){if(Ro(e)&&!To(e)){var t=Oo(this);return t.frozen||(t.frozen=new an),sn.call(this,e)?Ms.call(this,e):t.frozen.get(e)}return Ms.call(this,e)},set:function(e,t){if(Ro(e)&&!To(e)){var n=Oo(this);n.frozen||(n.frozen=new an),sn.call(this,e)?Ls.call(this,e,t):n.frozen.set(e,t)}else Ls.call(this,e,t);return this}}));var fr,Ns,sn,Ms,Ls});var Em=d(()=>{"use strict";var Rw=Vr(),Ow=ws();Rw("WeakSet",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Ow)});var bm=d((Dj,xm)=>{"use strict";function qo(){}var dr=null,hr={};function Tw(r){try{return r.then}catch(e){return dr=e,hr}}function qw(r,e){try{return r(e)}catch(t){return dr=t,hr}}function Pw(r,e,t){try{r(e,t)}catch(n){return dr=n,hr}}function Dw(r){if(!r)return"";let e=r.indexOf("\n");return e===-1?r:r.substring(e+1)}xm.exports=r=>{var e=r.setTimeout;function t(f){if(this.__createStack=Dw(new Error("Promise creation stack").stack),typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("Promise constructor's argument is not a function");this._deferredState=0,this._state=0,this._value=null,this._deferreds=null,f!==qo&&p(f,this)}t._onHandle=null,t._onReject=null,t._noop=qo,t.prototype.then=function(f,l){if(this.constructor!==t)return n(this,f,l);var v=new t(qo);return o(this,new c(f,l,v)),v};function n(f,l,v){return new f.constructor(function(y,h){var m=new t(qo);m.then(y,h),o(f,new c(l,v,m))})}function o(f,l){for(;f._state===3;)f=f._value;if(t._onHandle&&t._onHandle(f),f._state===0){if(f._deferredState===0){f._deferredState=1,f._deferreds=l;return}if(f._deferredState===1){f._deferredState=2,f._deferreds=[f._deferreds,l];return}f._deferreds.push(l);return}i(f,l)}function i(f,l){e(function(){var v=f._state===1?l.onFulfilled:l.onRejected;if(v===null){f._state===1?a(l.promise,f._value):u(l.promise,f._value);return}var y=qw(v,f._value);y===hr?u(l.promise,dr):a(l.promise,y)})}function a(f,l){if(l===f)return u(f,new TypeError("A promise cannot be resolved with itself."));if(l&&(typeof l=="object"||typeof l=="function")){var v=Tw(l);if(v===hr)return u(f,dr);if(v===f.then&&l instanceof t){f._state=3,f._value=l,s(f);return}else if(typeof v=="function"){p(v.bind(l),f);return}}f._state=1,f._value=l,s(f)}function u(f,l){f._state=2,f._value=l,t._onReject&&t._onReject(f,l),s(f)}function s(f){if(f._deferredState===1&&(o(f,f._deferreds),f._deferreds=null),f._deferredState===2){for(var l=0;l<f._deferreds.length;l++)o(f,f._deferreds[l]);f._deferreds=null}}function c(f,l,v){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof l=="function"?l:null,this.promise=v}function p(f,l){var v=!1,y=Pw(f,function(h){v||(v=!0,a(l,h))},function(h){v||(v=!0,u(l,h))});!v&&y===hr&&(v=!0,u(l,dr))}return t}});var Am=d((wj,Sm)=>{"use strict";Sm.exports=r=>{var e=u(!0),t=u(!1),n=u(null),o=u(void 0),i=u(0),a=u("");function u(c){var p=new r(r._noop);return p._state=1,p._value=c,p}r.resolve=function(c){if(c instanceof r)return c;if(c===null)return n;if(c===void 0)return o;if(c===!0)return e;if(c===!1)return t;if(c===0)return i;if(c==="")return a;if(typeof c=="object"||typeof c=="function")try{var p=c.then;if(typeof p=="function")return new r(p.bind(c))}catch(f){return new r(function(l,v){v(f)})}return u(c)};var s=function(c){return typeof Array.from=="function"?(s=Array.from,Array.from(c)):(s=function(p){return Array.prototype.slice.call(p)},Array.prototype.slice.call(c))};return r.all=function(c){var p=s(c);return new r(function(f,l){if(p.length===0)return f([]);var v=p.length;function y(m,g){if(g&&(typeof g=="object"||typeof g=="function"))if(g instanceof r&&g.then===r.prototype.then){for(;g._state===3;)g=g._value;if(g._state===1)return y(m,g._value);g._state===2&&l(g._value),g.then(function(O){y(m,O)},l);return}else{var S=g.then;if(typeof S=="function"){var E=new r(S.bind(g));E.then(function(O){y(m,O)},l);return}}p[m]=g,--v===0&&f(p)}for(var h=0;h<p.length;h++)y(h,p[h])})},r.reject=function(c){return new r(function(p,f){f(c)})},r.race=function(c){return new r(function(p,f){s(c).forEach(function(l){r.resolve(l).then(p,f)})})},r.prototype.catch=function(c){return this.then(null,c)},r.prototype.done=function(c,p){var f=arguments.length?this.then.apply(this,arguments):this;f.then(null,function(l){setTimeout(function(){throw l},0)})},r.prototype.finally=function(c){return this.then(function(p){return r.resolve(c()).then(function(){return p})},function(p){return r.resolve(c()).then(function(){throw p})})},r}});var Im=d((Nj,Cm)=>{"use strict";Cm.exports=(r,e,t)=>{var n=[ReferenceError,TypeError,RangeError],o=!1;function i(){o=!1,r._onHandle=null,r._onReject=null}function a(c){c=c||{},o&&i(),o=!0;var p=0,f=0,l={};r._onHandle=function(h){h._state===2&&l[h._rejectionId]&&(l[h._rejectionId].logged?y(h._rejectionId):t&&t(l[h._rejectionId].timeout),delete l[h._rejectionId])},r._onReject=function(h,m){h._deferredState===0&&(h._rejectionId=p++,l[h._rejectionId]={displayId:null,error:m,timeout:e(v.bind(null,h),s(m,n)?100:2e3),logged:!1})};function v(h){let m=h._rejectionId;if(c.allRejections||s(l[m].error,c.whitelist||n))if(l[m].displayId=f++,c.onUnhandled){if(l[m].logged=!0,l[m].error&&!(l[m].error instanceof Error)){let g=new Error(JSON.stringify(l[m].error));g.stack=h.__createStack,l[m].error=g}c.onUnhandled(l[m].displayId,l[m].error)}else l[m].logged=!0,u(l[m].displayId,l[m].error)}function y(h){l[h].logged&&(c.onHandled?c.onHandled(l[h].displayId,l[h].error):l[h].onUnhandled)}return r}function u(c,p){var f=(p&&(p.stack||p))+"";f.split("\n").forEach(function(l){})}function s(c,p){return p.some(function(f){return c instanceof f})}return{enable:a,disable:i}}});var Om=d((Mj,Rm)=>{"use strict";var ww=bm(),Nw=Am(),Mw=Im(),Lw=new Function("return this")();Lw.getPromise=Rm.exports.getPromise=r=>{var e=r.setTimeout,t=r.onUnhandled,n=r.clearTimeout,o=a=>e(a,0),i=ww({setTimeout:o});return i=Nw(i),i=Mw(i,o,n).enable({allRejections:!0,onUnhandled:t}),i}});var qm=d((Lj,Us)=>{var Tm=function(r){"use strict";var e=Object.prototype,t=e.hasOwnProperty,n,o=typeof Symbol=="function"?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(x,_,A){return Object.defineProperty(x,_,{value:A,enumerable:!0,configurable:!0,writable:!0}),x[_]}try{s({},"")}catch(x){s=function(_,A,T){return _[A]=T}}function c(x,_,A,T){var R=_&&_.prototype instanceof m?_:m,J=Object.create(R.prototype),se=new D(T||[]);return J._invoke=G(x,A,se),J}r.wrap=c;function p(x,_,A){try{return{type:"normal",arg:x.call(_,A)}}catch(T){return{type:"throw",arg:T}}}var f="suspendedStart",l="suspendedYield",v="executing",y="completed",h={};function m(){}function g(){}function S(){}var E={};E[i]=function(){return this};var O=Object.getPrototypeOf,C=O&&O(O(ve([])));C&&C!==e&&t.call(C,i)&&(E=C);var $=S.prototype=m.prototype=Object.create(E);g.prototype=$.constructor=S,S.constructor=g,g.displayName=s(S,u,"GeneratorFunction");function P(x){["next","throw","return"].forEach(function(_){s(x,_,function(A){return this._invoke(_,A)})})}r.isGeneratorFunction=function(x){var _=typeof x=="function"&&x.constructor;return _?_===g||(_.displayName||_.name)==="GeneratorFunction":!1},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,S):(x.__proto__=S,s(x,u,"GeneratorFunction")),x.prototype=Object.create($),x},r.awrap=function(x){return{__await:x}};function M(x,_){function A(J,se,ue,be){var ce=p(x[J],x,se);if(ce.type==="throw")be(ce.arg);else{var ii=ce.arg,Cr=ii.value;return Cr&&typeof Cr=="object"&&t.call(Cr,"__await")?_.resolve(Cr.__await).then(function(It){A("next",It,ue,be)},function(It){A("throw",It,ue,be)}):_.resolve(Cr).then(function(It){ii.value=It,ue(ii)},function(It){return A("throw",It,ue,be)})}}var T;function R(J,se){function ue(){return new _(function(be,ce){A(J,se,be,ce)})}return T=T?T.then(ue,ue):ue()}this._invoke=R}P(M.prototype),M.prototype[a]=function(){return this},r.AsyncIterator=M,r.async=function(x,_,A,T,R){R===void 0&&(R=Promise);var J=new M(c(x,_,A,T),R);return r.isGeneratorFunction(_)?J:J.next().then(function(se){return se.done?se.value:J.next()})};function G(x,_,A){var T=f;return function(J,se){if(T===v)throw new Error("Generator is already running");if(T===y){if(J==="throw")throw se;return Kt()}for(A.method=J,A.arg=se;;){var ue=A.delegate;if(ue){var be=X(ue,A);if(be){if(be===h)continue;return be}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(T===f)throw T=y,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);T=v;var ce=p(x,_,A);if(ce.type==="normal"){if(T=A.done?y:l,ce.arg===h)continue;return{value:ce.arg,done:A.done}}else ce.type==="throw"&&(T=y,A.method="throw",A.arg=ce.arg)}}}function X(x,_){var A=x.iterator[_.method];if(A===n){if(_.delegate=null,_.method==="throw"){if(x.iterator.return&&(_.method="return",_.arg=n,X(x,_),_.method==="throw"))return h;_.method="throw",_.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var T=p(A,x.iterator,_.arg);if(T.type==="throw")return _.method="throw",_.arg=T.arg,_.delegate=null,h;var R=T.arg;if(!R)return _.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,h;if(R.done)_[x.resultName]=R.value,_.next=x.nextLoc,_.method!=="return"&&(_.method="next",_.arg=n);else return R;return _.delegate=null,h}P($),s($,u,"Generator"),$[i]=function(){return this},$.toString=function(){return"[object Generator]"};function Ct(x){var _={tryLoc:x[0]};1 in x&&(_.catchLoc=x[1]),2 in x&&(_.finallyLoc=x[2],_.afterLoc=x[3]),this.tryEntries.push(_)}function Qe(x){var _=x.completion||{};_.type="normal",delete _.arg,x.completion=_}function D(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(Ct,this),this.reset(!0)}r.keys=function(x){var _=[];for(var A in x)_.push(A);return _.reverse(),function T(){for(;_.length;){var R=_.pop();if(R in x)return T.value=R,T.done=!1,T}return T.done=!0,T}};function ve(x){if(x){var _=x[i];if(_)return _.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var A=-1,T=function R(){for(;++A<x.length;)if(t.call(x,A))return R.value=x[A],R.done=!1,R;return R.value=n,R.done=!0,R};return T.next=T}}return{next:Kt}}r.values=ve;function Kt(){return{value:n,done:!0}}return D.prototype={constructor:D,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Qe),!x)for(var _ in this)_.charAt(0)==="t"&&t.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=n)},stop:function(){this.done=!0;var x=this.tryEntries[0],_=x.completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var _=this;function A(be,ce){return J.type="throw",J.arg=x,_.next=be,ce&&(_.method="next",_.arg=n),!!ce}for(var T=this.tryEntries.length-1;T>=0;--T){var R=this.tryEntries[T],J=R.completion;if(R.tryLoc==="root")return A("end");if(R.tryLoc<=this.prev){var se=t.call(R,"catchLoc"),ue=t.call(R,"finallyLoc");if(se&&ue){if(this.prev<R.catchLoc)return A(R.catchLoc,!0);if(this.prev<R.finallyLoc)return A(R.finallyLoc)}else if(se){if(this.prev<R.catchLoc)return A(R.catchLoc,!0)}else if(ue){if(this.prev<R.finallyLoc)return A(R.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,_){for(var A=this.tryEntries.length-1;A>=0;--A){var T=this.tryEntries[A];if(T.tryLoc<=this.prev&&t.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var R=T;break}}R&&(x==="break"||x==="continue")&&R.tryLoc<=_&&_<=R.finallyLoc&&(R=null);var J=R?R.completion:{};return J.type=x,J.arg=_,R?(this.method="next",this.next=R.finallyLoc,h):this.complete(J)},complete:function(x,_){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&_&&(this.next=_),h},finish:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var A=this.tryEntries[_];if(A.finallyLoc===x)return this.complete(A.completion,A.afterLoc),Qe(A),h}},catch:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var A=this.tryEntries[_];if(A.tryLoc===x){var T=A.completion;if(T.type==="throw"){var R=T.arg;Qe(A)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(x,_,A){return this.delegate={iterator:ve(x),resultName:_,nextLoc:A},this.method==="next"&&(this.arg=n),h}},r}(typeof Us=="object"?Us.exports:{});try{regeneratorRuntime=Tm}catch(r){Function("r","regeneratorRuntime = r")(Tm)}});ml();xl();bl();Sl();Al();Cl();Il();Rl();Ol();Tl();ql();Pl();Dl();Vl();Hl();Ql();zl();Zl();ua();Ap();Ip();Tp();Np();Up();Fp();jp();$p();df();xf();bf();Rf();Pf();Df();Mf();Lf();cd();ld();yd();_d();Ed();xd();Ad();Cd();Id();Ld();jd();$d();Bd();Gd();Vd();Wd();Hd();Jd();Yd();th();nh();lh();po();yh();mh();Eh();bh();Oh();Th();kh();Jh();ev();tv();rv();av();cv();fv();yv();_v();bv();ny();oy();iy();ay();sy();uy();cy();ly();py();vy();my();_y();Ey();by();Ay();Iy();Ry();Ty();Py();Uy();jy();Vy();Wy();Hy();zy();Zy();tm();rm();om();am();um();_m();Em();var cW=du(Om()),lW=du(qm());var Uw=function(){return this||(0,eval)("this")}(),Re=Uw;function $t(r,e){return Object.prototype.hasOwnProperty.call(r||{},e)}function L(r){let e=typeof r;return e!=="object"?e:Array.isArray(r)?"array":r==null?"null":r instanceof Date?"date":r instanceof RegExp?"regExp":"object"}function he(r){return typeof r=="string"}function q(r){return L(r)==="object"}function Z(r){return L(r)==="function"}function _t(r){return L(r)==="array"}function Et(r){return r===null}function un(r){return r===void 0}function Po(r){return un(r)||Et(r)}function Do(r){switch(Object.prototype.toString.call(r)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return Fw(r,Error)}}function Fw(r,e){try{return r instanceof e}catch(t){return!1}}function Pm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let e=16*Math.random()|0;return(r==="x"?e:3&e|8).toString(16)})}function st(){}function Dm(r,e){if(Array.isArray(r)){let t=r.length;for(let n=t-1;n>=0;n--)e(r[n])}else throw new Error("forEachRight ERROR: first params must be array.")}function wo(r){return nativeConsole}var jw=function(){return this||(0,eval)("this")}(),Gj=wo("groupId:".concat(jw.groupId||"-1")),Fs=nativeConsole;var wm=r=>{let e={};return q(r)&&Object.keys(r).forEach(t=>{e[t]=r[t]}),e},vr=(r,e,t=!1)=>{let n={};return q(r)&&Object.keys(r).forEach(o=>{n[o]=r[o]}),q(e)&&Object.keys(e).forEach(o=>{(!Et(e[o])||!t)&&(n[o]=e[o])}),n};var Ee=Fs;var No;(function(r){r[r.Error=1]="Error",r[r.Warn=2]="Warn"})(No||(No={}));var Mo=class extends Error{constructor(e,t){super(e),t&&(this.stack=t)}},Lo=class extends Mo{constructor(){super(...arguments),this.kind="INTERNAL_ERROR"}},js=class extends Mo{constructor(){super(...arguments),this.kind="USER_ERROR"}};var Ke=class extends js{constructor(){super(...arguments),this.name="USER_RUNTIME_ERROR"}},xt=class extends Lo{constructor(){super(...arguments),this.name="INTERNAL_RUNTIME_ERROR"}};var Uo=class extends Lo{constructor(){super(...arguments),this.name="INVOKE_ERROR"}},Oe=class extends Error{constructor(e){super("APP-SERVICE-Engine: ".concat(e)),this.type="AppServiceEngineKnownError"}};var Te="__Card__",xe="app-service.js",Nm="LynxGetSourceMapReleaseError",yr={filename:"lynx_core",slot:"4c2d5a3bd73362bfdf6b6870edaef67669b66abf",release:"3.0.2-rc.3"};var Fo=class{constructor(){this.observersFunc=[]}registerObserver(e){if(this.observersFunc.includes(e))return Ee.log("Subject: Observer has been attached already.");this.observersFunc.push(e)}removeObserver(e){let t=this.observersFunc.indexOf(e);if(t===-1)return Ee.log("Subject: Nonexistent observer.");this.observersFunc.splice(t,1)}notifyDataChange(e){this.observersFunc.forEach(t=>{if(typeof t=="function")try{t(e)}catch(n){Ee.log("SharedData change and notifyDataChange error info:"+n)}})}};Re.multiApps={};Re.currentAppId="";Re.globComponentRegistPath="";Re.sharedData={};Re.globDynamicComponentEntry=Te;Re.shareDataSubject=new Fo;Re.TaroLynx={};Re.bundleSupportLoadScript=!0;var{loadScript:l1}=Re,b=Re;var mr;(function(r){r[r.TypescriptBundleSupportLoadScript=30]="TypescriptBundleSupportLoadScript",r[r.TypescriptHeliumCreateCanvasWait=69]="TypescriptHeliumCreateCanvasWait"})(mr||(mr={}));var $s;function ee(r){$s===void 0&&($s=typeof Ee.alog=="function"),$s&&Ee.alog("[LynxJSSDK]"+r)}var $w=/\d+/,bt=class r{constructor(e){this.major=0,this.minor=0,this.revision=0,this.build=0,e=String(e),[this.major=0,this.minor=0,this.revision=0,this.build=0]=e.split(".").map(t=>{let n=$w.exec(t);return n&&n.length>0?+n[0]:0})}gt(e){return typeof e=="string"&&(e=new r(e)),this.major>e.major?!0:this.major<e.major?!1:this.minor>e.minor?!0:this.minor<e.minor?!1:this.revision>e.revision?!0:this.revision<e.revision?!1:this.build>e.build?!0:(this.build<e.build,!1)}eq(e){return typeof e=="string"&&(e=new r(e)),this.major===e.major&&this.minor===e.minor&&this.revision===e.revision&&this.build===e.build}lt(e){return this.eq(e)?!1:!this.gt(e)}gte(e){return this.eq(e)||this.gt(e)}lte(e){return this.eq(e)||this.lt(e)}},ut=bt,Mm=new bt("2.4"),Lm=new bt("2.7"),Um=new bt("2.9"),Fm=new bt("2.12"),jm=new bt("2.14");function qe(r,e,t){let{originError:n,errorCode:o,errorLevel:i,runType:a=yr}=t!=null?t:{};Ee.error("The following error occurred in the JSRuntime:"),Ee.error("".concat(r==null?void 0:r.message,"\n").concat(r==null?void 0:r.stack)),r.cause=q(r.cause)?JSON.stringify(r.cause):r.cause;try{e.reportException(r,Sn(W({},a),{buildVersion:"3.0.2-rc.3",versionCode:"3.0.2-rc.3",errorCode:o,errorLevel:i}))}catch(u){Ee.error("reportError err:\n",u)}}function ks(r,e,t=yr,n,o){return qe(r,e,{runType:t,originError:n,__sourcemap__release__:o.__sourcemap__release__})}function te(r,e,t,n=yr){return Z(t)?$m("USER_ERROR",r,t,e,n):st}function $m(r="INTERNAL_ERROR",e,t,n,o){return function(...a){try{return t.apply(this,a)}catch(u){let s="".concat(e," \n").concat(u.message);t.name!=="onError"&&typeof n.onError=="function"&&n.onError("Card ".concat(t.name," exec error:").concat(s,"\n").concat(u.stack),u);let c=r==="INTERNAL_ERROR"?new xt(s,u.stack):new Ke(s,u.stack);Ee.log("wrapError-".concat(e),c),qe(c,n._nativeApp,{runType:o,__sourcemap__release__:n.__sourcemap__release__,getSourceMapRelease:n.getSourceMapRelease})}}}function km(r,e,t,n=yr){return Z(t)?$m("INTERNAL_ERROR",r,t,e,n):st}var cn=class{constructor(e,t){this.getApp=e,this.getNativeApp=t,this.setSourceMapRelease=n=>{if(Do(n)&&n.name===H.kGetSourceMapReleaseErrorName&&he(n.message)&&he(n.stack)){this.getNativeApp().__SetSourceMapRelease({name:n.name,message:n.message,stack:n.stack});return}ee("setSourceMapRelease failed with error: ".concat(JSON.stringify(n)))},this.getSourceMapRelease=n=>{if(!this.getNativeApp().__GetSourceMapRelease(n))return this.getNativeApp().__GetSourceMapRelease(H.kDefaultSourceMapURL)},this.getApp=e,this.getNativeApp=t}rebind(e){this.getApp=e}};var St=class{constructor(e){this._internal_callNativeModule=e,this._events=new Map}getEventsSize(e){var t;return(t=this._events.get(e))==null?void 0:t.length}setCallNativeModule(e){this._internal_callNativeModule=e}addListener(e,t,n){let o=this._events.get(e);e=="keyboardstatuschanged"&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!0]),o?o.push({listener:t,context:n}):this._events.set(e,[{listener:t,context:n}])}removeListener(e,t){if(typeof t!="function")throw new Error("removeListener only takes instances of Function");let n=this._events.get(e),o=0;Array.isArray(n)&&n.some(a=>{if(t===a.listener)return!0;o++})&&n.splice(o,1),e=="keyboardstatuschanged"&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!1])}emit(e,t){let n=this._events.get(e);Array.isArray(n)&&n.forEach(o=>{let{listener:i,context:a}=o;typeof i=="function"&&i.apply(a||this,t)})}removeAllListeners(e){if(typeof e=="string"){this._events.delete(e);return}this._events=new Map}trigger(e,t){let n=this._events.get(e);Array.isArray(n)&&(typeof t=="string"&&(t=JSON.parse(t)),n.forEach(o=>{let{listener:i,context:a}=o;typeof i=="function"&&i.call(a||this,t)}))}toggle(e,...t){this.emit(e,t)}};function Bs(){return new St}var jo=class{constructor(){this._beforePublishEvent=new Gs}},Gs=class extends St{add(e,t,n){return super.addListener(e,t,n),this}remove(e,t){return super.removeListener(e,t),this}};var kt=St;var $o=class{constructor(e){this._textInfoModule=void 0,this.getTextInfo=(t,n)=>(this._textInfoModule===void 0&&(this._textInfoModule=this._nativeModules.LynxTextInfoModule),this._textInfoModule&&this._textInfoModule.getTextInfo?this._textInfoModule.getTextInfo(t,n):{width:t.length}),this._nativeModules=e}};var ko=class{constructor(e){this.resumeExposure=()=>{this._exposureModule.resumeExposure()},this.stopExposure=t=>{this._exposureModule.stopExposure(t)},this.setObserverFrameRate=t=>{this._exposureModule.setObserverFrameRate(t)},this._nativeModules=e,this._exposureModule=this._nativeModules.LynxExposureModule}};var Vs=class{constructor(e,t){this._selector=e,this._callback=t}invokeCallback(e){this._callback(e)}},Ws=class{constructor(e,t,n){this._id=e,this._intersectionObserverModule=t,this._manager=n,this._observationTargets=[],this._defaultMargins={left:0,right:0,top:0,bottom:0}}relativeTo(e,t){return this._intersectionObserverModule.relativeTo(this._id,e,t||this._defaultMargins),this}relativeToViewport(e){return this._intersectionObserverModule.relativeToViewport(this._id,e||this._defaultMargins),this}relativeToScreen(e){return this._intersectionObserverModule.relativeToScreen(this._id,e||this._defaultMargins),this}observe(e,t){this._observationTargets.push(new Vs(e,t)),this._intersectionObserverModule.observe(this._id,e,this._observationTargets.length-1)}disconnect(){this._intersectionObserverModule.disconnect(this._id),this._manager.removeObserver(this._id)}invokeCallback(e,t){e<this._observationTargets.length&&this._observationTargets[e].invokeCallback(t)}},Bo=class{constructor(e){this._nativeModules=e,this._observerId=0,this._observers={},this._defaultOptions={thresholds:[0],initialRatio:0,observeAll:!1}}createIntersectionObserver(e,t){let n=this._nativeModules.IntersectionObserverModule,o=new Ws(this._observerId,n,this);return this._observers[this._observerId]=o,n.createIntersectionObserver(this._observerId,e,t||this._defaultOptions),this._observerId++,o}getObserver(e){return this._observers[e]}removeObserver(e){this._observers[e]=null}};var gr={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"},ln=class{constructor(e,t){this._emitter=e,this._generatePipelineOptions=t.generatePipelineOptions,this._onPipelineStart=t.onPipelineStart,this._markTiming=t.markPipelineTiming,this._profileStart=t.profileStart,this._profileEnd=t.profileEnd,this._profileMark=t.profileMark,this._profileFlowId=t.profileFlowId,this._isProfileRecording=t.isProfileRecording,this._bindPipelineIdWithTimingFlag=t.bindPipelineIdWithTimingFlag}profileStart(e,t){this._profileStart(e,t)}profileEnd(){this._profileEnd()}profileMark(e,t){this._profileMark(e,t)}profileFlowId(){return this._profileFlowId()}isProfileRecording(){return this._isProfileRecording()}addTimingListener(e){this._emitter.addListener(gr.onSetup,e.onSetup,e),this._emitter.addListener(gr.onUpdate,e.onUpdate,e)}removeTimingListener(e){this._emitter.removeListener(gr.onSetup,e.onSetup),this._emitter.removeListener(gr.onUpdate,e.onUpdate)}removeAllTimingListener(){this._emitter.removeAllListeners(gr.onSetup),this._emitter.removeAllListeners(gr.onUpdate)}_initializeAndStartPipeline(){let e=this._generatePipelineOptions();return e&&this._onPipelineStart(e.pipelineID),e}_checkAndBindTimingFlag(e,t){if(!e)return;let n="__lynx_timing_flag";t[n]&&(this._bindPipelineIdWithTimingFlag(e.pipelineID,t[n]),this._markTiming(e.pipelineID,"update_set_state_trigger"),e.needTimestamps=!0)}};var Ks=ln;var Bm=b.LynxJSBI;var He=class r{static create(e){return new r(e)}constructor(e){this._cachedFunctions={};for(let t in e)Object.defineProperty(this,t,{get(){if(this._cachedFunctions[t])return this._cachedFunctions[t];let n=e[t];return typeof n=="function"&&(this._cachedFunctions[t]=n),n}})}};var Go;function kw(){return!0}function Gm(r,e,t){if(kw()){let{getPromise:n}=b;return typeof n=="function"?n({setTimeout:r,onUnhandled:e,clearTimeout:t}):b.Promise}else return b.Promise}var _r=class r{constructor(){this._bodyData=null}setBody(e){if(e instanceof r)this._bodyData=e._bodyData.clone;else{let t={bodyData:e,isArrayBuffer:!1};e instanceof ArrayBuffer?t.isArrayBuffer=!0:e instanceof DataView?(t.isArrayBuffer=!0,t.bodyData=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):ArrayBuffer.isView(e)?(t.isArrayBuffer=!0,t.bodyData=e.buffer):globalThis.URLSearchParams&&e instanceof URLSearchParams&&(t.bodyData=e.toString()),this._bodyData=globalThis.CreateBodyNative(t)}}arrayBuffer(){return Promise.resolve(this._bodyData.arrayBuffer)}text(){return Promise.resolve(this._bodyData.text)}json(){return Promise.resolve(this._bodyData.json)}get bodyUsed(){return this._bodyData.bodyUsed}};var Vm;var Bt=class r{constructor(e){if(this._headers_map=new Map,this[Vm]="Headers",e===null||typeof e=="number")throw new TypeError("Headers init with null/number");if(e instanceof r)for(let[t,n]of e)this.append(t,n);else Array.isArray(e)?e.forEach(([t,n])=>{this.append(t,Array.isArray(n)?n.join(" "):n)}):e&&Object.getOwnPropertyNames(e).forEach(t=>{let n=e[t];this.append(t,Array.isArray(n)?n.join(" "):n)})}[(Vm=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(let[e,t]of this._headers_map)yield e}*values(){for(let[e,t]of this._headers_map)yield t}*entries(){for(let e of this._headers_map)yield e}has(e){return this._headers_map.has(e)}get(e){var t;return(t=this._headers_map.get(e))!=null?t:null}set(e,t){this._headers_map.set(e,String(t))}append(e,t){let n=this.has(e)?"".concat(this.get(e),", ").concat(t):t;this.set(e,n)}delete(e){this.has(e)&&this._headers_map.delete(e)}forEach(e,t){for(let[n,o]of this.entries())e.call(t,o,n,this)}};var Gt=class r extends kt{get aborted(){return this._aborted}get reason(){return this._reason}constructor(){super(),this._aborted=!1}get[Symbol.toStringTag](){return"[object AbortSignal]"}dispatchEvent(e){e.type==="abort"&&(this._aborted=!0,this._reason=e.reason,typeof this.onabort=="function"&&this.onabort.call(this,e)),super.emit(e.type,e)}addEventListener(e,t){super.addListener(e,t)}static __create(){return new r}},Vo=class{get signal(){return this._signal}constructor(){this._signal=Gt.__create()}abort(e){let t=e;t===void 0&&(t=new Error("This operation was aborted"),t.name="AbortError");let n={type:"abort",reason:t};this.signal.dispatchEvent(n)}get[Symbol.toStringTag](){return"[object AbortController]"}};function Js(r){return class Hs extends _r{get url(){return this._url}get headers(){return this._headers}get method(){return this._method}get signal(){return this._signal}get lynxExtension(){return this._lynxExtension}constructor(t,n){if(super(),n=n||{},t instanceof Hs){if(t.bodyUsed)throw new TypeError("Already read");this._url=t.url,n.headers||(this._headers=new Bt(t.headers)),this._method=t.method,this._signal=t.signal}else this._url=String(t);if((n.headers||!this.headers)&&(this._headers=new Bt(n.headers)),this._method=n.method||this.method||"GET",this._method=this._method.toUpperCase(),(this.method==="GET"||this.method==="HEAD")&&n.body)throw new TypeError("Body not allowed for GET or HEAD requests");typeof n.signal<"u"&&(this._signal=n.signal),this._signal=this._signal||Gt.__create(),this._lynxExtension=n.lynxExtension||{},this._headers.get("Content-Type")||(typeof n.body=="string"?this._headers.set("Content-Type","text/plain;charset=UTF-8"):globalThis.URLSearchParams&&n.body instanceof URLSearchParams?this._headers.set("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"):n.body instanceof ArrayBuffer||this._headers.set("Content-Type","text/plain;charset=UTF-8")),this.setBody(n.body)}clone(){let t=new Hs(this,{method:this.method});return t.setBody(this),t}}}function Ys(r){return class Wm extends _r{get url(){return this._url}get status(){return this._status}get statusText(){return this._statusText}get ok(){return this._ok}get headers(){return this._headers}get lynxExtension(){return this._lynxExtension}constructor(t,n){if(super(),n=n||{},this._status=n.status===void 0?200:n.status,this._status<200||this._status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this._ok=this._status>=200&&this._status<300,this._statusText=n.statusText===void 0?"":""+n.statusText,this._headers=new Headers(n.headers),this._url=n.url||"",this._lynxExtension=n.lynxExtension||{},this.setBody(t)}clone(){let t=new Wm(null,{status:this._status,statusText:this._statusText,headers:new Headers(this._headers),url:this._url});return t.setBody(this),t}}}function Km(r){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(r)}var Wo=class{constructor(e,t){this._searchParamsInstance=null;let n=null;if(!t||Km(e))this._url=e,this._url.endsWith("/")||(this._url+="/");else{if(typeof t=="string"){if(n=t,!Km(n))throw new TypeError("Invalid base URL: ".concat(n))}else n=t.toString();n.endsWith("/")&&(n=n.slice(0,n.length-1)),e.startsWith("/")||(e="/".concat(e)),n.endsWith(e)&&(e=""),this._url="".concat(n).concat(e)}}get href(){return this.toString()}get searchParams(){return this._searchParamsInstance==null&&(this._searchParamsInstance=new URLSearchParams),this._searchParamsInstance}toJSON(){return this.toString()}toString(){if(this._searchParamsInstance===null)return this._url;let e=this._searchParamsInstance.toString(),t=this._url.indexOf("?")>-1?"&":"?";return this._url+t+e}};function Hm(r){"use strict";var f;let e="__URLSearchParams__";function t(l){l=l||"",l instanceof URLSearchParams&&(l=l.toString()),this[e]=u(l)}let n=t.prototype;n.append=function(l,v){s(this[e],l,v)},n.delete=function(l){delete this[e][l]},n.get=function(l){var v=this[e];return this.has(l)?v[l][0]:null},n.getAll=function(l){var v=this[e];return this.has(l)?v[l].slice(0):[]},n.has=function(l){return p(this[e],l)},n.set=function(v,y){this[e][v]=[""+y]},n.toString=function(){var l=this[e],v=[],y,h,m,g;for(h in l)for(m=o(h),y=0,g=l[h];y<g.length;y++)v.push(m+"="+o(g[y]));return v.join("&")},n.polyfill=!0,n[Symbol.toStringTag]="URLSearchParams",n.forEach=function(l,v){var y=u(this.toString());Object.getOwnPropertyNames(y).forEach(function(h){y[h].forEach(function(m){l.call(v,m,h,this)},this)},this)},n.sort=function(){var l=u(this.toString()),v=[],y,h,m;for(y in l)v.push(y);for(v.sort(),h=0;h<v.length;h++)this.delete(v[h]);for(h=0;h<v.length;h++){var g=v[h],S=l[g];for(m=0;m<S.length;m++)this.append(g,S[m])}},n.keys=function(){var l=[];return this.forEach(function(v,y){l.push(y)}),a(l)},n.values=function(){var l=[];return this.forEach(function(v){l.push(v)}),a(l)},n.entries=function(){var l=[];return this.forEach(function(v,y){l.push([y,v])}),a(l)},n[Symbol.iterator]=n.entries,Object.defineProperty(n,"size",{get:function(){var l=u(this.toString());if(n===this)throw new TypeError("Illegal invocation at URLSearchParams.invokeGetter");return Object.keys(l).reduce(function(v,y){return v+l[y].length},0)}});function o(l){var v={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'\(\)~]|%20|%00/g,function(y){return v[y]})}function i(l){return l.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(v){return decodeURIComponent(v)})}function a(l){var v={next:function(){var y=l.shift();return{done:y===void 0,value:y}}};return iterable&&(v[Symbol.iterator]=function(){return v}),v}function u(l){var v={};if(typeof l=="object")if(c(l))for(var y=0;y<l.length;y++){var h=l[y];if(c(h)&&h.length===2)s(v,h[0],h[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var m in l)l.hasOwnProperty(m)&&s(v,m,l[m]);else{l.indexOf("?")===0&&(l=l.slice(1));for(var g=l.split("&"),S=0;S<g.length;S++){var E=g[S],O=E.indexOf("=");-1<O?s(v,i(E.slice(0,O)),i(E.slice(O+1))):E&&s(v,i(E),"")}}return v}function s(l,v,y){var h=typeof y=="string"?y:y!=null&&typeof y.toString=="function"?y.toString():JSON.stringify(y);p(l,v)?l[v].push(h):l[v]=[h]}function c(l){return!!l&&Object.prototype.toString.call(l)==="[object Array]"}function p(l,v){return Object.prototype.hasOwnProperty.call(l,v)}r.URLSearchParams=(f=r.URLSearchParams)!=null?f:t}var H=class _BaseApp{constructor(r,e){this.dataTypeSet=new Set(["string","number","array","object","boolean","null","function"]),this.setSourceMapRelease=t=>{this.Reporter.setSourceMapRelease(t)},this.getSourceMapRelease=t=>this.Reporter.getSourceMapRelease(t),this.setupGetTextInfoApi=()=>{this._apiList.getTextInfo=(t,n)=>this._textInfoManager.getTextInfo(t,n)},this.setupExposureApi=()=>{this._apiList.resumeExposure=()=>{this._exposureManager.resumeExposure()},this._apiList.stopExposure=t=>{this._exposureManager.stopExposure(t||{sendEvent:!0})},this._apiList.setObserverFrameRate=t=>{this._exposureManager.setObserverFrameRate(t||{forPageRect:20,forExposureCheck:20})}},this.requestAnimationFrame=t=>this._nativeApp.requestAnimationFrame(t),this.cancelAnimationFrame=t=>this._nativeApp.cancelAnimationFrame(t),this.initBase(r),e?e.transferSingletonData(this,this.__internal__callNativeModule.bind(this)):this.initExtra(r),this.setTimeout=this.nativeApp.setTimeout,this.setInterval=this.nativeApp.setInterval,this.clearInterval=this.nativeApp.clearInterval,this.clearTimeout=this.nativeApp.clearTimeout}initExtra(r){let{lynx:e}=r;this.modules={},this._lazyCallableModules=new Map,this._nativeApp=He.create(this._nativeApp),this.sharedConsole=wo("runtimeId:".concat(this.nativeAppId)),this.dynamicComponentExports={},this.loadedDynamicComponentsSet=new Set,this._lazyCallableModules=new Map,this.Reporter=new cn(()=>this,()=>this.nativeApp),this.GlobalEventEmitter=new kt(this.__internal__callNativeModule.bind(this)),this._intersectionObserverManager=new Bo(this.NativeModules),this._exposureManager=new ko(this.NativeModules),this.setupExposureApi(),this._aopManager=new jo,this.beforePublishEvent=this._aopManager._beforePublishEvent,this.performance=new Ks(this.GlobalEventEmitter,this.nativeApp);let t=this.setupPromise(this.nativeApp.setTimeout,this.nativeApp.clearTimeout);this.lynx=this.createLynx(e,t),this.setupJSModule(),this.setupIntersectionApi(),this.setupFetchAPI(t)}initBase(r){let{nativeApp:e,params:t}=r;this.nativeAppId=e.id,this._params=t,this._nativeApp=e,this.NativeModules=e.nativeModuleProxy,this.LynxUIMethodModule=e.nativeModuleProxy.LynxUIMethodModule,this.LynxTestModule=e.nativeModuleProxy.LynxTestModule,this.LynxResourceModule=e.nativeModuleProxy.LynxResourceModule,this.LynxAccessibilityModule=e.nativeModuleProxy.LynxAccessibilityModule,this._apiList={},this._textInfoManager=new $o(this.NativeModules),this.setupGetTextInfoApi()}set __sourcemap__release__(r){let e=new Error;e.name="LynxGetSourceMapReleaseError",e.message=r,e.stack="at <anonymous> (".concat(_BaseApp.kDefaultSourceMapURL,":1:1)"),this.setSourceMapRelease(e)}destroy(){this._nativeApp=null,this._params=null,this._lazyCallableModules=null,this.GlobalEventEmitter=null}registerModule(r,e){this._lazyCallableModules[r]=e}getJSModule(r){return this._lazyCallableModules[r]}setupJSModule(){this.registerModule("GlobalEventEmitter",this.GlobalEventEmitter),this.registerModule("Reporter",this.Reporter)}setupFetchAPI(r){var e,t;this._createResponseClass=Ys,this._createRequestClass=Js,this._RequestClass=(e=b.Request)!=null?e:Js(r),this._ResponseClass=(t=b.Response)!=null?t:Ys(r),b.Request||(b.Request=this._RequestClass),b.Response||(b.Response=this._ResponseClass)}__internal__callNativeModule(r,e,t){let n=this.nativeApp.nativeModuleProxy[r];if(n){let o=n[e];o&&Function.prototype.apply.call(o,void 0,t)}}get nativeApp(){return this._nativeApp}set nativeApp(r){this._nativeApp=r}get params(){return this._params}set apiList(r){this._apiList=W(W({},this._apiList),r)}setupIntersectionApi(){let r=this;this._apiList.createIntersectionObserver=function(e,t){let{componentId:n=""}=e;return r._intersectionObserverManager.createIntersectionObserver(n,t)},this.lynx.createIntersectionObserver=this._apiList.createIntersectionObserver}onIntersectionObserverEvent(r,e,t){let n=this._intersectionObserverManager.getObserver(r);n&&n.invokeCallback(e,t)}reportError(r){return this.lynx.reportError(r)}handleError(r,e,t){qe(r,this.nativeApp,{originError:e,getSourceMapRelease:this.getSourceMapRelease,errorLevel:t})}handleUserError(r,e,t,n){let{message:o,name:i,stack:a}=r||{};o||({message:o,name:i,stack:a}=new Error(JSON.stringify(r)));let u=new Ke(n?"".concat(n," ").concat(i,": ").concat(o):"".concat(i,": ").concat(o),a);u.cause=e,this.handleError(u,r,t)}handleInternalError(r,e){let{message:t,name:n,stack:o}=r||{};t||({message:t,name:n,stack:o}=new Error(JSON.stringify(r)));let i=new xt("".concat(n,": ").concat(t),o);i.cause=e,this.handleError(i,r)}getBoolEnv(r){let e=this.nativeApp.getEnv(r);return(e==null?void 0:e.toLowerCase())==="true"}_$executeInit(r,{path:e,entryName:t}){let n;if(r&&r.init)n=r.init.bind(r);else if(b.initBundle)n=b.initBundle.bind(b.initBundle),delete b.initBundle;else throw new Ke("load failed. path:".concat(e,",entryName:").concat(t));try{nativeConsole.profile("running ".concat(e," init"));let o=n({tt:this});return _BaseApp._$factoryCache[e]=n,o}finally{nativeConsole.profileEnd()}}_$executeJSON(r,{path:e}){let t=JSON.parse(r),n=()=>t;return _BaseApp._$factoryCache[e]=n,t}requireModule(r,e){let t=_BaseApp._$factoryCache[r];if(t)return this._$executeInit({init:t},{path:r,entryName:e});if(r.split("?")[0].endsWith(".json")){let o=this.nativeApp.readScript(r,{dynamicComponentEntry:e!=null?e:Te});return this._$executeJSON(o,{path:r,entryName:e})}let n=this.nativeApp.loadScript(r,e);return this._$executeInit(n,{path:r,entryName:e})}requireModuleAsync(r,e){let t=_BaseApp._$factoryCache[r];if(t){e(null,this._$executeInit({init:t},{path:r}));return}if(r.split("?")[0].endsWith(".json")){let o=this.nativeApp.readScript(r),i=this._$executeJSON(o,{path:r});e(null,i);return}let n=new Error;this.nativeApp.loadScriptAsync(r,(o,i)=>{if(o)return n.message=o,e(n);try{return e(null,this._$executeInit(i,{path:r}))}catch(a){return e(a)}})}require(path,params){let that=this;if(typeof path!="string")throw new Error("require args must be a string");let entryName=params&&params.dynamicComponentEntry?params.dynamicComponentEntry:Te;that.modules[entryName]||(that.modules[entryName]={});let module=that.modules[entryName][path];if(!module){try{let tt=that,jsContent=that._nativeApp.readScript(path,{dynamicComponentEntry:entryName});eval(jsContent),module=that.modules[entryName][path]}catch(r){this.handleError(new Ke("eval user: ".concat(that._nativeApp.id," error: ").concat(r.message),r.stack),r)}if(!that.modules[entryName][path])throw new Error("module ".concat(path," in ").concat(entryName," is not defined in card: ").concat(that._nativeApp.id))}if(!module.hasRun){let{factory:r}=module,e={exports:{}},t;if(module.hasRun=!0,module.exports=e.exports,typeof r=="function"){let n=Gw.call(that,path),o=that;t=r(n,e,e.exports,that.Card.bind(o),that.setTimeout,that.setInterval,that.clearInterval,that.clearTimeout,that.NativeModules,that._apiList,that.sharedConsole,that.Component.bind(o),params==null?void 0:params.ReactLynx,that.nativeAppId,that.Behavior.bind(o),Bm,that.lynx,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,that.lynx.fetch,void 0,void 0,void 0,void 0,void 0,void 0,that.requestAnimationFrame,that.cancelAnimationFrame),module.exports=e.exports||t}}return module.exports}define(r,e,t){t=t||Te,this.modules[t]||(this.modules[t]={}),this.modules[t][r]={hasRun:!1,factory:e.bind(this)}}callFunction(r,e,t){try{let n=this.getJSModule(r);typeof n[e]=="function"&&n[e].apply(n,t)}catch(n){this.handleUserError(n,{by:"".concat(r,".").concat(e)})}}saveDynamicComponentExports(r,e){this.dynamicComponentExports[r]=e}getDynamicComponentExports(r){return this.dynamicComponentExports[r]}Component(...r){}Card(...r){}Behavior(...r){}wrapReport(r,e){let t=this;function n(o){return function(...a){try{return o.apply(this,a)}catch(u){t.handleUserError(u,{by:e})}}}return function(i,...a){return Function.prototype.apply.call(r,void 0,[n(i),...a])}}setupPromise(r,e){let t=Gm(r,(n,o)=>{try{o&&(o.stack||(o=new Error(JSON.stringify(o))),o.name="unhandled rejection",this.handleUserError(o))}catch(i){}},e);return this.resolvedPromise=t.resolve(),t}};H.kDefaultSourceMapURL="default";H.kGetSourceMapReleaseErrorName=Nm;H._$factoryCache={};function Bw(r){let e=r.match(/(.*)\/([^/]+)?$/);return e!=null&&e[1]?e[1]:"./"}function Gw(r){let e=this,t=Bw(r);return function(n){let o=[],i="".concat(t,"/").concat(n).split("/"),a=i.length;if(typeof n!="string")throw new Error("require args must be a string");for(let s=0;s<a;++s){let c=i[s];if(c!==""&&c!==".")if(c===".."){if(o.length===0)throw new Error("can't find module ".concat(n," in app: ").concat(e._nativeApp.id));o.pop()}else s+1<a&&i[s+1]===".."?s++:o.push(c)}let u=o.join("/");return u.endsWith(".js")||(u+=".js"),e.require(u)}}var Jm;Jm||(Jm={});var Ko;(function(r){r[r.NotCanceled=0]="NotCanceled",r[r.CanceledByEventHandler=1]="CanceledByEventHandler",r[r.CanceledByDefaultEventHandler=2]="CanceledByDefaultEventHandler",r[r.CanceledBeforeDispatch=3]="CanceledBeforeDispatch"})(Ko||(Ko={}));var j;(function(r){r[r.CoreContext=0]="CoreContext",r[r.DevTool=1]="DevTool",r[r.JSContext=2]="JSContext",r[r.UIContext=3]="UIContext"})(j||(j={}));var Ym;(function(r){r.EVENT_SET_SESSION_STORAGE="__SetSessionStorageItem",r.EVENT_GET_SESSION_STORAGE="__GetSessionStorageItem",r.EVENT_SUBSCRIBE_SESSION_STORAGE="__SubscribeSessionStorage",r.EVENT_UNSUBSCRIBE_SESSION_STORAGE="__UnSubscribeSessionStorage"})(Ym||(Ym={}));var Qm;(function(r){r[r.START=0]="START",r[r.PLAY=1]="PLAY",r[r.PAUSE=2]="PAUSE",r[r.CANCEL=3]="CANCEL",r[r.FINISH=4]="FINISH"})(Qm||(Qm={}));var pn=class r{constructor(e){this.effect=e,this.id="__lynx-inner-js-animation-"+r.count++}cancel(){this.effect.target.cancelAnimate(this)}pause(){this.effect.target.pauseAnimate(this)}play(){this.effect.target.playAnimate(this)}};pn.count=0;var Ho=class{constructor(e,t,n){this.target=e,this.keyframes=t,this.options=n}};var fn=class{constructor(e,t,n){this._root=e,this._idSelector="#"+t,this._lynx=n,this._element=void 0}ensureElement(){this._element||(this._element=this._lynx.createElement(this._root,this._idSelector))}animate(e,t){this.ensureElement();let n=new pn(new Ho(this,e,t));return this._element.animate(0,n.id,e,t),n}playAnimate(e){this._element.animate(1,e.id,void 0,void 0)}pauseAnimate(e){this._element.animate(2,e.id,void 0,void 0)}cancelAnimate(e){this._element.animate(3,e.id,void 0,void 0)}finishAnimate(e){this._element.animate(4,e.id,void 0,void 0)}setProperty(e,t){if(this.ensureElement(),typeof e=="string"&&typeof t=="string")this._element.setProperty({[e]:t});else if(typeof e=="object")this._element.setProperty(e);else throw new Error("setProperty's param must be string or object. While current type is ".concat(typeof e," and ").concat(typeof t,"."))}};var Je=fn;var ne=class r{constructor(e,t,n){this._component=e,this._taskQueue=t,this._native_proxy=n,this._fire_immediately=!1,this._root_unique_id=void 0}static fromQuery(e,t){return new r(t!=null?t:e._component,e._taskQueue.slice(),e._native_proxy)}static newEmptyQuery(e,t){return new r(t!=null?t:"",[],e)}commitTask(e){let t=r.fromQuery(this,this._component);if(t._taskQueue.push(e),this._fire_immediately){t.exec();return}return t}in(e){return e.createSelectorQuery(this)}select(e){return new Vt(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectAll(e){return new Vt(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!1})}selectReactRef(e){if(this._taskQueue.length){let t="selectReactRef() should be called before any other selector query methods";nativeConsole.warn(t);let n=new Error(t);qe(new Uo(t,n.stack),this._native_proxy.nativeApp);return}return this._fire_immediately=!0,new Vt(this,{type:1,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectRoot(){return this.select("")}selectUniqueID(e){return new Vt(this,{type:2,identifier:e.toString(),component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}exec(){for(let e=0;e<this._taskQueue.length;++e)this._taskQueue[e](this._native_proxy)}setRoot(e){return this._root_unique_id=Number(e),this}},Vt=class{constructor(e,t){this._nodeSelectToken=t,this._selectorQuery=e}invoke(e){let t,n=o=>{var a;let i=u=>{u.code===0?e.success&&e.success(u.data):e.fail&&e.fail(u)};if(!this._nodeSelectToken.first_only){i({code:5,data:"selectAll not supported for invoke method"});return}o.nativeApp.invokeUIMethod(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,e.method,(a=e.params)!=null?a:{},i,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(n)}path(e){let t=n=>{let o=i=>{e&&e(i.data,i.status)};n.nativeApp.getPathInfo(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,o,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}fields(e,t){let n=o=>{let i=u=>{if(e.query){let s=c=>{c.query=ne.newEmptyQuery(o),c.query.setRoot(c.unique_id.toString()),e.unique_id||delete c.unique_id};if(this._nodeSelectToken.first_only){let c=u.data;c&&s(c)}else for(let c of u.data)s(c)}t&&t(u.data,u.status)},a=[];for(let u in e){if(u=="query"&&e[u]==!0&&!e.unique_id){a.push("unique_id");continue}e[u]&&a.push(u)}o.nativeApp.getFields(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,a,i,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(n)}setNativeProps(e){let t=n=>{n.nativeApp.setNativeProps(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,e,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}};Vt.nodePool={};var ct=class r{constructor(e,t,n,o){var i,a,u;this.getNativeApp=e,this.getApp=t,this.Promise=n,this.getNativeLynx=o,this.setTimeout=this.getApp().wrapReport(this.getNativeApp().setTimeout,"setTimeout Error"),this.setInterval=this.getApp().wrapReport(this.getNativeApp().setInterval,"setInterval Error"),this.clearInterval=this.getNativeApp().clearInterval,this.clearTimeout=this.getNativeApp().clearTimeout,this.resumeExposure=this.getApp()._apiList.resumeExposure,this.requireModule=(s,c)=>{if(this.requireModule.cache[s])return this.requireModule.cache[s];let p=this.getApp().requireModule(s,c);return this.requireModule.cache[s]=p,p},this.requireModuleAsync=(s,c)=>{if(c!=null||(c=p=>{p&&this.getApp().handleUserError(p)}),this.requireModuleAsync.cache[s]){c(null,this.requireModuleAsync.cache[s]);return}this.getApp().requireModuleAsync(s,(p,f)=>{p||(this.requireModuleAsync.cache[s]=f),c(p,f)})},this.createElement=(s,c)=>this.getNativeLynx().createElement(s,c),this.getElementById=s=>new Je("",s,this),this.reportError=(s,c)=>{let p;if(Do(s))p=s;else{let v;typeof s!="string"?v=JSON.stringify(s):v=s,p=new Error(v)}let{level:f="error"}=c||{},l=f==="warning"?2:1;this.getApp().handleUserError(p,void 0,l)},this.registerModule=(s,c)=>this.getApp().registerModule(s,c),this.getJSModule=s=>this.getApp().getJSModule(s),this.getTextInfo=this.getApp()._apiList.getTextInfo,this.addFont=(s,c)=>{if(!q(s))throw new Error("The first argument must be object type");if(!he(s["font-family"])||!he(s.src))throw new Error("The font value must have font-family and src");if(!Z(c))throw new Error("The second argument must be function type");this.getNativeLynx().addFont(s,c)},this.stopExposure=this.getApp()._apiList.stopExposure,this.setObserverFrameRate=this.getApp()._apiList.setObserverFrameRate,this.performance=this.getApp().performance,this.beforePublishEvent=this.getApp()._aopManager._beforePublishEvent,this.setSessionStorageItem=(s,c)=>{this.dispatchSessionStorageEvent({type:"__SetSessionStorageItem",data:{key:s,value:c}})},this.getSessionStorageItem=(s,c)=>{this.getNativeApp().getSessionStorageItem(s,c)},this.subscribeSessionStorage=(s,c)=>{let p=r.__registerSharedDataCounter++;return this.getNativeApp().subscribeSessionStorage(s,p,c),p},this.unsubscribeSessionStorage=(s,c)=>{this.dispatchSessionStorageEvent({type:"__UnSubscribeSessionStorage",data:{key:s,listenerId:c}})},this.getDevtool=this.getNativeLynx().getDevtool,this.getCoreContext=this.getNativeLynx().getCoreContext,this.getJSContext=this.getNativeLynx().getJSContext,this.getUIContext=this.getNativeLynx().getUIContext,this.getCustomSectionSync=this.getNativeLynx().getCustomSectionSync,this.accessibilityAnnounce=(i=this.getNativeApp().nativeModuleProxy.LynxAccessibilityModule)==null?void 0:i.accessibilityAnnounce,this.requestResourcePrefetch=(a=this.getNativeApp().nativeModuleProxy.LynxResourceModule)==null?void 0:a.requestResourcePrefetch,this.cancelResourcePrefetch=(u=this.getNativeApp().nativeModuleProxy.LynxResourceModule)==null?void 0:u.cancelResourcePrefetch,this.setSharedData=(s,c)=>{b.sharedData[s]=c;let p={};p[s]=c,b.shareDataSubject.notifyDataChange(p)},this.getSharedData=s=>b.sharedData[s],this.registerSharedDataObserver=s=>b.shareDataSubject.registerObserver(s),this.removeSharedDataObserver=s=>b.shareDataSubject.removeObserver(s),this.triggerLepusGlobalEvent=(s,c)=>this.getNativeApp().triggerLepusGlobalEvent(s,c),this.reload=(s,c)=>{this.getNativeLynx().reload(s,c)},this.fetchDynamicComponent=(s,c,p,f)=>this.getNativeLynx().fetchDynamicComponent(s,c,p,f),this.QueryComponent=(s,c)=>{let p=()=>{c({code:0,data:{url:s,sync:!0,error_message:"",mode:"cache"},detail:{schema:s,cache:!1,errMsg:""}})};if(this.getApp().loadedDynamicComponentsSet.has(s)){p();return}let f=l=>{l.__hasReady===!0?(b.loadDynamicComponent(this.getApp(),s),p()):c(l)};this.getNativeLynx().QueryComponent(s,f)},this.loadDynamicComponent=(s,c,p={})=>new this.Promise((f,l)=>{let v=[],y;if(Array.isArray(s)?(v=s,y=c):typeof c=="string"?(v=[s],y=c):(y=s,p=c),this.getApp().loadedDynamicComponentsSet.has(y)){f({code:0,data:{url:y,sync:!1,error_message:"",mode:"normal"},detail:{schema:y,cache:!1,errMsg:""}});return}this.getNativeLynx().fetchDynamicComponent(y,p,h=>{h&&h.code==0?f(h):l(h)},v)}),this.fetch=(s,c)=>new this.Promise((p,f)=>{let l=new(this.getApp())._RequestClass(s,c),v=l.signal;if(v.aborted)return f(v.reason);v.addEventListener("abort",h=>{f(v.reason)});let y={method:l.method,url:l.url,origin:this.getNativeApp().__pageUrl,headers:Object.fromEntries(l.headers.entries()),body:l._bodyData.arrayBuffer,lynx:l.lynxExtension};this.getApp().NativeModules.LynxFetchModule.fetch(y,h=>{v.aborted||p(new(this.getApp())._ResponseClass(h.body,h))},h=>{v.aborted||f(new TypeError(h.message))})}),this.createSelectorQuery=()=>ne.newEmptyQuery({nativeApp:this.getNativeApp(),lynx:this}),this.requestAnimationFrame=s=>this.getNativeApp().requestAnimationFrame(s),this.cancelAnimationFrame=s=>this.getNativeApp().cancelAnimationFrame(s),this.__addReporterCustomInfo=s=>{this.getNativeApp().__addReporterCustomInfo(s)},this.init(void 0)}rebind(e){this.init(e)}init(e){if(e)this.getApp=e,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{};else{let t={};this.requireModule.cache=t,this.requireModuleAsync.cache=t,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{},this._switches={}}}dispatchSessionStorageEvent(e){var t=this.getCoreContext().dispatchEvent(e);t!=Ko.NotCanceled&&this.getJSContext().dispatchEvent(e)}};ct.__registerSharedDataCounter=0;var zm;(function(r){r[r.ID_SELECTOR=0]="ID_SELECTOR",r[r.REF_ID=1]="REF_ID",r[r.UNIQUE_ID=2]="UNIQUE_ID"})(zm||(zm={}));var Xm;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.UNKNOWN=1]="UNKNOWN",r[r.NODE_NOT_FOUND=2]="NODE_NOT_FOUND",r[r.METHOD_NOT_FOUND=3]="METHOD_NOT_FOUND",r[r.PARAM_INVALID=4]="PARAM_INVALID",r[r.SELECTOR_NOT_SUPPORTED=5]="SELECTOR_NOT_SUPPORTED",r[r.NO_UI_FOR_NODE=6]="NO_UI_FOR_NODE"})(Xm||(Xm={}));var Pe=class r{constructor(e,t,n,o,i){this._selectorName=n,o&&o.length>0?this._ancestorSelectorNames=[...o]:this._ancestorSelectorNames=[],this._rootComponentId=t,this._proxy=e,this._isCallByRefId=i}getNodeRef(e){return new r(this._proxy,this._rootComponentId,e,[...this._ancestorSelectorNames,this._selectorName],this._isCallByRefId)}invoke(e){let t;this._proxy.nativeLynxUIModule.invokeUIMethod(this._rootComponentId,[...this._ancestorSelectorNames,this._selectorName],e.method,Object.assign({_isCallByRefId:this._isCallByRefId},e.params),n=>{n.code===0?e.success&&e.success(n.data):e.fail&&e.fail(n)})}scrollIntoView(e=!0){let t={};if(typeof e=="boolean")e?t={behavior:"auto",block:"start",inline:"nearest"}:t={behavior:"auto",block:"end",inline:"nearest"};else if(typeof e=="object")t=e;else throw new Error("scrollIntoView only support boolean or object");this.invoke({method:"scrollIntoView",params:{scrollIntoViewOptions:t},fail(n){nativeConsole.error("NodeRef.scrollIntoView failed","ErrorCode: ".concat(n.code))}})}};var Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn=new Uint8Array(256);for(let r=0;r<Er.length;r++)dn[Er.charCodeAt(r)]=r;function Zm(r){var e=new Uint8Array(r),t,n=e.length,o="";for(t=0;t<n;t+=3)o+=Er[e[t]>>2],o+=Er[(e[t]&3)<<4|e[t+1]>>4],o+=Er[(e[t+1]&15)<<2|e[t+2]>>6],o+=Er[e[t+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o}function eg(r){let e=r.length*.75,t=r.length,n,o=0,i,a,u,s;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);let c=new ArrayBuffer(e),p=new Uint8Array(c);for(n=0;n<t;n+=4)i=dn[r.charCodeAt(n)],a=dn[r.charCodeAt(n+1)],u=dn[r.charCodeAt(n+2)],s=dn[r.charCodeAt(n+3)],p[o++]=i<<2|a>>4,p[o++]=(a&15)<<4|u>>2,p[o++]=(u&3)<<6|s&63;return c}var hn=class{transferSingletonData(e,t){e.nativeApp=this.nativeApp,e.sharedConsole=this.sharedConsole,e.dynamicComponentExports=this.dynamicComponentExports,e.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,e._intersectionObserverManager=this.intersectionObserverManager,e._exposureManager=this.exposureManager,e._textInfoManager=this.textInfoManager,this.globalEventEmitter.setCallNativeModule(t),e.GlobalEventEmitter=this.globalEventEmitter,e._aopManager=this.aopManager,e.performance=this.performance,e.modules=this.modules,e._lazyCallableModules=this.lazyCallableModules,e.lynx=this.lynx,this.lynx.rebind(()=>e),e._apiList=this.apiList,this.Reporter.rebind(()=>e),e.Reporter=this.Reporter,e.resolvedPromise=this.resolvedPromise}},xr=class extends H{constructor(e,t){super(e,void 0),this.fillSingletonData();try{t.srcName&&(delete this.lynx.requireModule.cache[t.srcName],delete H._$factoryCache[t.srcName],this.lynx.requireModule(t.srcName,Te),this.dataTypeSet.add("undefined"))}catch(n){this.handleUserError(n)}}createLynx(e,t){let n=He.create(e);return new ct(()=>this.nativeApp,()=>this,t,()=>n)}fillSingletonData(){this.singletonData=new hn,this.singletonData.nativeApp=this._nativeApp,this.singletonData.sharedConsole=this.sharedConsole,this.singletonData.dynamicComponentExports=this.dynamicComponentExports,this.singletonData.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,this.singletonData.intersectionObserverManager=this._intersectionObserverManager,this.singletonData.exposureManager=this._exposureManager,this.singletonData.textInfoManager=this._textInfoManager,this.singletonData.globalEventEmitter=this.GlobalEventEmitter,this.singletonData.aopManager=this._aopManager,this.singletonData.performance=this.performance,this.singletonData.modules=this.modules,this.singletonData.lazyCallableModules=this._lazyCallableModules,this.singletonData.lynx=this.lynx,this.singletonData.apiList=this._apiList,this.singletonData.Reporter=this.Reporter,this.singletonData.resolvedPromise=this.resolvedPromise}};var Jo=class extends H{createLynx(e,t){let n=He.create(e);return new ct(()=>this.nativeApp,()=>this,t,()=>n)}};function sB(nativeApp,params,lynx){let{id}=nativeApp,{cardType}=params;ee("load card native app id: ".concat(id));let loadSuccess=!0,tt;try{if(cardType=="standalone"?tt=new xr({nativeApp,params,lynx},params):tt=new Jo({nativeApp,params,lynx}),b.currentAppId=id,b.multiApps[id]=tt,cardType==="standalone")return nativeApp.setCard(tt),!0;if(ee("load card native app load app-service.js params.bundleSupportLoadScript ".concat(params.bundleSupportLoadScript)),loadSuccess=!0,params.bundleSupportLoadScript)try{delete tt.lynx.requireModule.cache[xe],delete H._$factoryCache[xe],tt.lynx.requireModule(xe,Te),tt.lynx._switches.allowUndefinedInNativeDataTypeSet&&tt.dataTypeSet.add("undefined")}catch(r){loadSuccess=!1,tt.handleUserError(r,void 0,void 0,"loadCard failed")}else{nativeApp.featureCount(30);let jsContent=nativeApp.readScript(xe);eval(jsContent),ee("load card load app-service.js eval success")}nativeApp.setCard(tt)}catch(r){Zs(nativeApp,r),loadSuccess=!1}return loadSuccess}function Qs(r){ee("destroy ".concat(r)),b.multiApps[r].destroy(),delete b.multiApps[r]}function zs(r){ee("callDestroyLifetimeFun ".concat(r)),b.multiApps[r].callDestroyLifetimeFun()}function Xs(r,e){if(r.loadedDynamicComponentsSet.has(e))return r.getDynamicComponentExports(e);let t=b.globDynamicComponentEntry;b.globDynamicComponentEntry=e;try{delete r.lynx.requireModule.cache[xe],delete H._$factoryCache[xe];let n=r.lynx.requireModule(xe,e);return r.saveDynamicComponentExports(e,n),r.loadedDynamicComponentsSet.add(e),n}catch(n){r.handleUserError(n)}finally{b.globDynamicComponentEntry=t}}function Zs(r,e,t){let{message:n,name:o,stack:i}=e||{};n||({message:n,name:o,stack:i}=new Error(JSON.stringify(e)));let a=new xt("loadCard failed ".concat(o,": ").concat(n),i);a.cause=t,qe(a,r,{originError:e,getSourceMapRelease:u=>{if(!r.__GetSourceMapRelease(u))return r.__GetSourceMapRelease(H.kDefaultSourceMapURL)}})}var ae=function(){function r(p,f){return f!=null&&p instanceof f}let e;try{e=Map}catch(p){e=function(){}}let t;try{t=Set}catch(p){t=function(){}}let n;try{n=Promise}catch(p){n=function(){}}function o(p,f,l,v,y){typeof f=="object"&&(l=f.depth,v=f.prototype,y=f.includeNonEnumerable,f=f.circular);let h=[],m=[],g=typeof Buffer<"u";typeof f>"u"&&(f=!0),typeof l>"u"&&(l=1/0);function S(E,O){if(E===null)return null;if(O===0)return E;let C,$;if(typeof E!="object")return E;if(r(E,e))C=new e;else if(r(E,t))C=new t;else if(r(E,n))C=new n(function(P,M){E.then(function(G){P(S(G,O-1))},function(G){M(S(G,O-1))})});else if(o.__isArray(E))C=[];else if(o.__isRegExp(E))C=new RegExp(E.source,c(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(o.__isDate(E))C=new Date(E.getTime());else{if(g&&Buffer.isBuffer(E))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(E.length):C=new Buffer(E.length),E.copy(C),C;r(E,Error)?C=Object.create(E):typeof v>"u"?($=Object.getPrototypeOf(E),C=Object.create($)):(C=Object.create(v),$=v)}if(f){let P=h.indexOf(E);if(P!==-1)return m[P];h.push(E),m.push(C)}r(E,e)&&E.forEach(function(P,M){let G=S(M,O-1),X=S(P,O-1);C.set(G,X)}),r(E,t)&&E.forEach(function(P){let M=S(P,O-1);C.add(M)});for(let P in E){let M;$&&(M=Object.getOwnPropertyDescriptor($,P)),!(M&&M.set==null)&&(C[P]=S(E[P],O-1))}if(Object.getOwnPropertySymbols){let P=Object.getOwnPropertySymbols(E);for(let M=0;M<P.length;M++){let G=P[M],X=Object.getOwnPropertyDescriptor(E,G);X&&!X.enumerable&&!y||(C[G]=S(E[G],O-1),X.enumerable||Object.defineProperty(C,G,{enumerable:!1}))}}if(y){let P=Object.getOwnPropertyNames(E);for(let M=0;M<P.length;M++){let G=P[M],X=Object.getOwnPropertyDescriptor(E,G);X!=null&&X.enumerable||(C[G]=S(E[G],O-1),Object.defineProperty(C,G,{enumerable:!1}))}}return C}return S(p,l)}o.clonePrototype=function(f){if(f===null)return null;let l=function(){};return l.prototype=f,new l};function i(p){return Object.prototype.toString.call(p)}o.__objToStr=i;function a(p){return typeof p=="object"&&i(p)==="[object Date]"}o.__isDate=a;function u(p){return typeof p=="object"&&i(p)==="[object Array]"}o.__isArray=u;function s(p){return typeof p=="object"&&i(p)==="[object RegExp]"}o.__isRegExp=s;function c(p){let f="";return p.global&&(f+="g"),p.ignoreCase&&(f+="i"),p.multiline&&(f+="m"),f}return o.__getRegExpFlags=c,o}();var Vw=1,Ww=1,Yo={};function tg(){return String(Vw++)}function rg(r){return Yo[r]||(Yo[r]=String(Ww++)),Yo[r]}var Kw=["onLoad","onShow","onHide","onReady","onDestroy","onError","onFirstScreen"],eu={},Hw=function(){};for(let r of Kw)eu[r]=Hw;var br=["created","attached","ready","moved","detached"],De="__Card__",ng="__card_config_",Qo="theme",Sr="onThemeChanged";var lt="$$shouldComponentUpdate",At="$$jsStateVersion",$e="$$nativeStateVersion",zo="$$renderError",Xo="JS_RENDER_ERROR",og="LEPUS_RENDER_ERROR",ig="0";function Jw(r,e){let t=e._reactAppInstance._getComponent(r);for(;t&&typeof t.parentId=="string";){if(t.parentId===ig)return;if(t=e._reactAppInstance._getComponent(t.parentId),t.$hasDerivedErrorFunction)return t}}function Yw(r){var e,t;return((e=r==null?void 0:r.state)==null?void 0:e[zo])===Xo||((t=r==null?void 0:r.state)==null?void 0:t[zo])===og}function ag(r,e,t){let n={message:r==null?void 0:r.message,stack:r==null?void 0:r.stack,name:Xo},o=Jw(e,t);if(o){if(Yw(o))return;if(o.$hasDerivedErrorFunction){let i=o.$class.getDerivedStateFromError(n);if(q(i)){let a=Sn(W({},i),{[zo]:Xo});o.setState(a)}}o.$catchError=n,t.$throwError=n}else throw r}function tu(r){if(L(r)!=="string"){let a="path should be string";throw nativeConsole.error("TypeError",a),new Oe(a)}let e=!1,t=!1,n=r.length,o=[],i="";for(let a=0,u=0;u<n;u++){let s=r[u];if(s==="\\")u+1<n&&(r[u+1]==="."||r[u+1]==="["||r[u+1]==="]")?(i+=r[u+1],u++):i+="\\";else if(s===".")i&&(o.push(i),i="");else if(s==="["){if(t)throw nativeConsole.error("DataPathError","Path can not have nested []: ".concat(r)),new Oe("Path can not has nested []: ".concat(r));if(i&&(o.push(i),i=""),o.length===0)throw nativeConsole.error("DataPathError","Path can not start with []: ".concat(r)),new Oe("Path can not start with []: ".concat(r));t=!0,e=!1}else if(s==="]"){if(!e)throw nativeConsole.error("DataPathError","Must have number in []: ".concat(r)),new Oe("Must have number in []: ".concat(r));t=!1,o.push(a),a=0,i=""}else if(t){if(s<"0"||s>"9")throw nativeConsole.error("DataPathError","Only number 0-9 could inside []: ".concat(r)),new Oe("Only number 0-9 could inside []: ".concat(r));e=!0,a=10*a+s.charCodeAt(0)-48}else i+=s}if(t)throw nativeConsole.error("DataPathError","[] should appear in pair: ".concat(r)),new Oe("[] should appear in pair: ".concat(r));if(i&&o.push(i),o.length===0)throw nativeConsole.error("DataPathError","Path can not be empty"),new Oe("Path can not be empty");return o}function sg(r,e){let t={},n;for(var o=tu(e),i=r,a=0;a<o.length;a++){let u=L(i);if(+(o[a]===o[a]&&o[a]%1===0)){if(u!=="array"&&u!=="object")throw nativeConsole.error("DataPathError, Expected Array or Object but get ".concat(u,". key: ").concat(e)),new Oe("DataPathError, Expected Array but get ".concat(u,". key: ").concat(e))}else if(u!=="object")throw nativeConsole.error("DataPathError, Expected Object but get ".concat(u,". key: ").concat(e)),new Oe("DataPathError, Expected Object but get ".concat(u,". key: ").concat(e));n=o[a],t=i,i=i[o[a]]}return{obj:t,key:n}}var pt=class r{constructor(e){this._queue=[];this.componentId="";this.getSourceMapRelease=e=>this.getApp().getSourceMapRelease(e);let{type:t,componentId:n="",resolvedPromise:o,app:i}=e!=null?e:{};this.getApp=()=>i,this._type=t,this.componentId=n,this.resolvedPromise=o,this._$pendingUpdate=null,this._microTaskPending=!1}get __sourcemap__release__(){return this.getApp().getSourceMapRelease(H.kDefaultSourceMapURL)}nextTick(e){this.resolvedPromise.then(e)}updateData(e,t=this.data,n=!1){for(let o in e){let{obj:i,key:a}=sg(t,o);i&&(i[a]=n?e[o]:ae(e[o]))}}static mergePendingUpdate(e){if(_t(e)){let t=[];e.map(({callback:a})=>{Z(a)&&t.push(a)});let n,[o,i]=e.reduce(([a,u],{state:s,updateDataType:c})=>{for(let p in s)s.hasOwnProperty(p)&&p!==lt&&(u[p]=s[p]);return u[lt]!==!0&&(u[lt]=s[lt]==null),a|=c,[a,u]},[0,{}]);return i&&i[lt]===!0&&delete i[lt],{data:i,callbacks:t,stackTraces:n,updateDataType:o}}return r.mergePendingUpdate([e])}dataQueueUpdate(e,t,n,o){Z(n)&&(n={callback:n}),un(o)||(n.enableFixBatchedUpdateOrder=o);let i,{_queue:a}=e,{enableFixBatchedUpdateOrder:u,updateDataType:s,updateToNative:c=e._nativeApp.batchedUpdateData.bind(e._nativeApp),callback:p}=n,f={state:t,updateDataType:s,stackTrace:i,callback:p};Po(this._$pendingUpdate)?this._$pendingUpdate=f:_t(this._$pendingUpdate)?this._$pendingUpdate.push(f):this._$pendingUpdate=[this._$pendingUpdate,f],a.includes(this)||a.push(this),e._microTaskPending||(e._microTaskPending=!0,this.nextTick(()=>{let l,v=[];e._microTaskPending=!1;let y=h=>{if(h._$pendingUpdate===null)return;let{callbacks:m,stackTraces:g,data:S,updateDataType:E}=r.mergePendingUpdate(h._$pendingUpdate);h._$pendingUpdate=null;let O=this.getApp().lynx.performance._initializeAndStartPipeline();this.getApp().lynx.performance._checkAndBindTimingFlag(O,S);let C={type:h._type,componentId:h.componentId,data:S,updateDataType:E,stackTraces:g,pipelineOptions:O};m.length>0&&(C.callback=Qw.bind(h,m)),v.push(C)};if(u)e._queue=[],a.forEach(y);else for(;l=a.pop();)y(l);c(v)}))}triggerWorkletFunction(e,t,n,o){var i;try{this.getApp()._nativeApp.triggerWorkletFunction((i=this.componentId)!=null?i:"",e,t,n,o)}catch(a){this.getApp().handleInternalError(a)}}};function Qw(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)r[e]()}var ug=50,nu=10,Xw=1e4,ru=class r extends pt{constructor(t={}){super();this.prevProps={};this.prevState={};this.nextProps={};this.nextState={};this.$init=!1;this.$cardInit=!1;this.$prefix="";this.componentPath="";this.entryName="";this.globalProps=null;this._asyncSetStateMicroTaskPending=!1;this.$jsStateVersion=0;this.$nativeStateVersion=0;this.$componentState=0;this.$isInCtor=!0;this.parentId="";this.$catchError=null;this.$throwError=null;this.$isUpdatingState=!1;this.$nestedUpdateCount=0;this.$startDetectNestedUpdateTimestamp=0;this.$hasNestedUpdate=!1;this.state={},this.props=t,this.prevProps={},this.prevState={},this.$prefix=tg(),this.setComponentConfig(this.constructor),this.$refs=[],this.$pureData={},this._stateQueue=[],this._uiModule=this._nativeApp.nativeModuleProxy.LynxUIMethodModule}static call(t,...n){return Reflect.construct(r,n,Object.getPrototypeOf(t).constructor)}static apply(t,n){return Reflect.construct(r,n,Object.getPrototypeOf(t).constructor)}get _reactAppInstance(){return this.getApp()}get nativeApp(){return this._nativeApp}executeJSRender(){this.clearRef();let t=this._createData();return this.bindRef(),t}handleExceptionInJS(t){ag(t,this.componentId,this)}bindRef(){!this.$refs||this.$refs.length<1||this.$refs.forEach(t=>{this.bindComponent(t)})}bindComponent(t){var i;let n=null;if(t.type==="native"){let a=this.getApp().lynx;((i=a._switches.useSelectorQueryAsReactRef)!=null?i:new ut(a.targetSdkVersion).gte(Lm))?n=this.createSelectorQuery().selectReactRef(t.refId):n=this.getNodeRef(t.refId,!0)}else t.type==="com"&&he(this.$pureData[t.refId])&&(n=this._reactAppInstance._getComponent(this.$pureData[t.refId]));let o=typeof t.ref;q(n)&&(o==="function"?t.ref.call(this,n):o==="object"&&"current"in t.ref&&(t.ref.current=n,t.ref.id=this.componentId))}bindSingleRef(t){q(t)&&this.bindComponent(t)}clearRef(){Array.isArray(this.$refs)&&this.$refs.length>0&&this.$refs.forEach(t=>{if(typeof t.ref=="function")try{t.ref.call(this,null)}catch(n){}}),this.$refs=[]}clearRefToThis(){if(!this.$componentIdContainsRefToThis)return;let t=this.$componentIdContainsRefToThis.componentId=="card"?this._reactAppInstance.appInstance:this._reactAppInstance._getComponent(this.$componentIdContainsRefToThis.componentId);if(t){if(!t.$refs.includes(this.$componentIdContainsRefToThis.refItem)){this.$componentIdContainsRefToThis=null;return}try{this.$componentIdContainsRefToThis.refItem.ref.call(t,null)}catch(n){}delete t.$pureData[this.$componentIdContainsRefToThis.refItem.refId],this.$componentIdContainsRefToThis=null}}updateTheme(t,n=!1){let o=this;try{let i=L(t);if(i!=="object")throw new Error("updateTheme's first param must be object, you pass ".concat(i));let a={};n?Object.assign(a,t):Object.assign(a,o.theme,t),Object.keys(a).forEach(u=>{a[u]||delete a[u]}),o._nativeApp.updateData({__card_config_:{theme:a}},1),o[Qo]=a,typeof o[Sr]=="function"&&o[Sr](a)}catch(i){this.getApp().handleUserError(i)}}setStateByPath(t,n,o){typeof t=="string"?t={[t]:n}:typeof n=="function"&&(o=n),this.setState(t,o)}setState(t,n){var a;if(nativeConsole.profile("ReactComponent::setState::"+this._type=="card"?"card":this.componentPath),this._type==="card"&&this.$componentState===2){nativeConsole.profileEnd();return}if(this.$isInCtor){let{initNativeStateVersion:u}=this.$class.__config;nativeConsole.alog("has setState in Ctor, change $nativeStateVersion from ".concat(this.$nativeStateVersion," to ").concat(u)),un(u)||(this.$nativeStateVersion=u)}if(this.$nestedUpdateCount>ug&&!this.$hasNestedUpdate&&(this.$nestedUpdateCount=0,Date.now()-this.$startDetectNestedUpdateTimestamp<Xw*(ug-nu))){this.$hasNestedUpdate=!0,this.$startDetectNestedUpdateTimestamp=0;let u="Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentDidUpdate. ReactLynx limits the number of nested updates to prevent infinite loops.";nativeConsole.warn(u);let s=new Error(u);qe(new Ke(u,s.stack),this._nativeApp,{originError:s,getSourceMapRelease:this.getSourceMapRelease,errorCode:20100,errorLevel:No.Warn})}this.$isUpdatingState=!0;let o=this,i=null;try{let u=L(t);if(u==="function")i=t(o.state,o.props);else if(u==="object")i=t;else throw new Error("setState's first param must be object/function, you pass ".concat(u));let s=L(n);if(n&&s!=="function")throw new Error("setState's second param must be function, you pass ".concat(s));(a=this._reactAppInstance.lynx._switches)!=null&&a.asyncSetState?this.setStateInternalAsync(i,n):this.setStateInternal(i,n,{updateDataType:1})}catch(u){this.getApp().handleInternalError(u)}finally{nativeConsole.profileEnd()}}setStateInternalAsync(t,n){this._stateQueue.push({state:t,callback:n}),this._asyncSetStateMicroTaskPending||(this._asyncSetStateMicroTaskPending=!0,this._reactAppInstance.resolvedPromise.then(()=>{this._asyncSetStateMicroTaskPending=!1;let o={},i=[];this._stateQueue.forEach(({state:u,callback:s})=>{Object.assign(o,u),i.push(s)}),this._stateQueue=[];let a=()=>{i.forEach(u=>{te("at setState/async",this,u).bind(this)()})};this.setStateInternal(o,a,{updateDataType:1})}))}setStateInternal(t,n,o={}){let i=this;try{this.nextProps=this.props,Z(this.shouldComponentUpdate)?this.nextState=ae(this.state):this.nextState=this.state,super.updateData(t,this.nextState,!0);let a=null,u={};i.$hasDerivedFunction&&(a=i.$class.getDerivedStateFromProps(i.nextProps,i.nextState),u=this.getApp().diffData(this.nextState,a),super.updateData(a||{},i.nextState,!0));let s=!0;if(Z(this.shouldComponentUpdate)&&(s=i.shouldComponentUpdate(this.nextProps,this.nextState)),this.state=this.nextState,!s){let l=Object.assign({},t,u);Object.keys(l).length&&(l[lt]=!1,this.dataQueueUpdate(i,l,{callback:te("at setState/dataQueueUpdate",i,n).bind(i),updateDataType:o.updateDataType}));return}let c=i.executeJSRender();if(i.$throwError)return;let p=this.getApp().diffData(this.state,c);i.state=Object.assign(i.state,c);let f=Object.assign({},t,u,p);Object.keys(f).length&&this.dataQueueUpdate(i,f,{callback:te("at setState/dataQueueUpdate",i,n).bind(i),updateDataType:o.updateDataType})}catch(a){this.getApp().handleUserError(a)}}updateDataToNative(t,n,o=!1){(t&&Object.keys(t).length||o)&&(o&&(n|=8),this.dataQueueUpdate(this,t,{updateDataType:n}))}dataQueueUpdate(t,n,o){var u;let i=(u=this._reactAppInstance.lynx._switches)==null?void 0:u.enableFixBatchedUpdateOrder;t=i?this._reactAppInstance.appInstance||this:this,o.enableFixBatchedUpdateOrder=i,this.$jsStateVersion+=1;let a={[At]:this.$jsStateVersion,[$e]:this.$nativeStateVersion};Object.assign(n,a),super.dataQueueUpdate(t,n,o)}nextTick(t){var n;if(!((n=this._reactAppInstance.lynx._switches)!=null&&n.enableReactBatchedUpdate)&&(b.SystemInfo||{}).platform==="iOS"){t();return}this._reactAppInstance.resolvedPromise.then(t)}registerModule(t,n){this._reactAppInstance.registerModule(t,n)}get $hasDidUpdateLifecycleV2(){return this.$alwaysCheckLifecycleFunction?this.componentDidUpdate!==r.prototype.componentDidUpdate:this.$hasDidUpdateLifecycle}get $hasDidCatchLifecycleV2(){return this.$alwaysCheckLifecycleFunction?this.componentDidCatch!==r.prototype.componentDidCatch:this.$hasDidCatchLifecycle}setComponentConfig(t){var i,a;this.$class=t,this.$hasDerivedFunction=Z(t.getDerivedStateFromProps),this.$alwaysCheckLifecycleFunction=new ut(((a=(i=this.getApp())==null?void 0:i.lynx)==null?void 0:a.targetSdkVersion)||"1.4").gte(jm),this.$hasDidUpdateLifecycle=this.componentDidUpdate!==r.prototype.componentDidUpdate,this.$hasDerivedErrorFunction=Z(t.getDerivedStateFromError),this.$hasDidCatchLifecycle=this.componentDidCatch!==r.prototype.componentDidCatch;let n=t.__config,o=n.appInstance.lynx;this._type=n.$type,this._nativeApp=n.appInstance.nativeApp,this.getApp=()=>n.appInstance,this.componentId=n.componentId,o._switches.enableGetJSModuleInLoadCard=!0,this.setGlobalProps(o,n.initData),this.GlobalEventEmitter=this._reactAppInstance.GlobalEventEmitter}getJSModule(t){return this._reactAppInstance.getJSModule(t)}getNodeRef(t,n){return new Pe({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._reactAppInstance.lynx._switches.disableNodeRefWarningWhenFailed},this._type==="component"?this.componentId:"",t,[],n)}getNodeRefFromRoot(t){return new Pe({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._reactAppInstance.lynx._switches.disableNodeRefWarningWhenFailed},"",t)}createSelectorQuery(t){return t?ne.fromQuery(t,this.componentId):ne.newEmptyQuery({nativeApp:this._nativeApp,lynx:this._reactAppInstance.lynx},this.componentId)}getPathFromTarget(t,n){this.createSelectorQuery().selectUniqueID(t.uid).path(n).exec()}getElementById(t){return new Je(this.componentId?this.componentId:"card",t,this._reactAppInstance.lynx)}selectComponent(t,n){let o=this,i=L(n);if(n&&i!=="function")throw new Error("selectComponent's second param must be function, you pass ".concat(i));let a=u=>{Array.isArray(u)&&n(this._reactAppInstance.getComponent(u[0]))};this._nativeApp.selectComponent(this.componentId,t,!0,te("at component selectComponent",o,a).bind(o))}addGlobalEventListener(t,n,o){this.getJSModule("GlobalEventEmitter").addListener(t,n,o)}setSharedData(t,n){b.sharedData[t]=n}getSharedData(t){return b.sharedData[t]}setGlobalProps(t,n){t&&!t.__globalProps&&n&&n.__globalProps&&(t.__globalProps=n.__globalProps)}triggerEvent(t,n={},o={}){let i=this;try{let{componentId:a}=i;i._nativeApp.triggerComponentEvent(t,{eventDetail:n,eventOption:o,componentId:a})}catch(a){this.getApp().handleInternalError(a)}}componentDidCatch(t){}componentDidMount(){}componentWillUnmount(){}componentDidUpdate(t,n,o){}componentDidShow(){}componentDidHide(){}},Zo=ru;var ou=class{constructor(){this._map={}}set(e={},t){this._map[t]=e}getProps(e){return this._map[e]}deleteProps(e){delete this._map[e]}clear(){this._map={}}},cg=ou;function Wt(r){return r&&r.$_isFunctionComponent}var ei,iu,au,Ye;function ti(){return iu}function lg(r,e){return typeof e=="function"?e(r):e}function pg(r){typeof r._cleanup=="function"&&r._cleanup()}function Zw(r){r._cleanup=r._value()}function fg(r,e){return!r||r.length!==e.length||e.some((t,n)=>t!==r[n])}function su(r){let e=ti(),t=e.__hooks||(e.__hooks={_list:[],_pendingEffects:[]});return r>=t._list.length&&t._list.push({_type:Ye}),Ye=0,t._list[r]}function eN(r,e){iu=r,au=e||{}}function tN(r){ei=0,iu=r}function rN(r){let e=r.__hooks;e&&(e._pendingEffects.forEach(pg),e._pendingEffects.forEach(Zw),e._pendingEffects=[])}function nN(r){if(r&&r.__hooks)try{r.__hooks._list.forEach(pg)}catch(e){au.catchError(e)}}function oN(r,e){Ye=3;let t=ti(),n=su(ei++);!au._skipEffects&&fg(n._args,e)&&(n._value=r,n._args=e,t.__hooks._pendingEffects.push(n))}function dg(r,e,t){Ye===0&&(Ye=2);let n=ti(),o=su(ei++);return o._reducer=r,o._component||(o._value=[t?t(e):lg(void 0,e),i=>{let a=o._reducer(o._value[0],i);o._value[0]!==a&&(o._value=[a,o._value[1]],o._component.setHookState())}],o._component=n),o._value}function iN(r){return Ye=1,dg(lg,r,null)}function uu(r,e){Ye===0&&(Ye=4);let t=su(ei++);return fg(t._args,e)&&(t._value=r(),t._args=e,t._factory=r),t._value}function aN(r,e){return Ye=5,uu(()=>r,e)}function sN(r){return Ye=6,uu(()=>({current:r,id:null}),[])}function uN(){return ti()}function cN(r,e,t=!1){if(!r||!r.$_hookStateKeys||typeof e!="object")return;let n=r.$_hookStateKeys;n.length&&Object.keys(e).filter(o=>n.includes(o)).forEach(o=>{let i=null;if(t&&Et(e[o]))return;let a=n.findIndex(u=>u===o);a!=-1&&(i=(r.__hooks&&r.__hooks._list?r.__hooks._list.filter(s=>s._type===1||s._type===2):[])[a],i&&(i._value[0]=e[o]))})}var re={useState:iN,useReducer:dg,useEffect:oN,useMemo:uu,useCallback:aN,useRef:sN,mountHooks:eN,cleanUpHooks:nN,executeEffects:rN,resetHooks:tN,syncInsHookState:cN,useInstance:uN};var cu=class extends Zo{executeJSRender(){let e=this;return re.resetHooks(e),e._createData()}setHookState(){this.batching||(this.batching=!0,this._reactAppInstance.resolvedPromise.then(()=>{this.batching=!1,this.setHookStateInternal()}))}setHookStateInternal(){let e=this;try{let t=e.executeJSRender();if(e.$throwError)return;let n=this.getApp().diffData(this.state,t);e.state=Object.assign(e.state,t),Object.keys(n).length&&this.updateDataToNative(n,4)}catch(t){this.getApp().handleInternalError(t)}}},hg=cu;function vg(r,e){return r===e||r!==r&&e!==e}var Ar=(r,e,t)=>{if(r===e)return!0;let n=L(r),o=L(e);if(t||(t=new WeakMap),n===o)if(n==="array"){if(r.length!==e.length)return!1;if(t.has(r)&&t.has(e))return t.get(r)===e;t.set(r,e),t.set(e,r);let i=!0;return r.some((a,u)=>(i=Ar(a,e[u],t),!i)),t.delete(r),t.delete(e),i}else if(n==="object"){let i=Object.keys(r);if(i.length!==Object.keys(e).length)return!1;if(t.has(r)&&t.has(e))return t.get(r)===e;t.set(r,e),t.set(e,r);let a=!0;return i.some(u=>(a=Ar(r[u],e[u],t),!a)),t.delete(r),t.delete(e),a}else return n==="date"?vg(+r,+e):n==="regExp"?r.toString()===e.toString():vg(r,e);return!1},yg=(r,e)=>{let t={};if(q(e)){let n=new Set(r);Object.keys(e).forEach(o=>{n.has(o)||(t[o]=e[o])})}return t};var yn=class r{constructor(e,t,n,o){this._url=e,this._name=t,this._workerId=n,this._nativeApp=o}static createWorker(e){return(t,n)=>{let o=e.createWorker(t,n);return new r(t,n,o,e)}}postMessage(e){this._nativeApp.postMessage(this._workerId,e)}onMessage(e){this._nativeApp.onMessage(this._workerId,e)}onException(e){this._nativeApp.onException(this._workerId,e)}onTerminate(e){this._nativeApp.onTerminate(this._workerId,e)}terminate(){this._nativeApp.terminate(this._workerId)}};var ri=class extends ct{constructor(t,n,o,i){super(t,n,o,i);this.getNativeApp=t;this.getApp=n;this.Promise=o;this.getNativeLynx=i;this.nativeDataChanged=!1;this.getComponentContext=(t,n,o)=>this.getNativeLynx().getComponentContext(t,n,o);this.getJSModule=t=>{var n;if(!this.getApp().appInstance){if(new ut(this.targetSdkVersion||"1.4").gte(Mm))return this.getApp().getJSModule(t);if((n=this._switches)!=null&&n.enableGetJSModuleInLoadCard)return this.getApp().getJSModule(t);if(0)try{}catch(a){}}return this.getApp().getJSModule(t)};this.createWorker=yn.createWorker(this.getNativeApp());this.getI18nResource=this.getNativeLynx().getI18nResource;this.initSub(void 0)}rebind(t){super.rebind(t),this.initSub(t)}initSub(t){}setupCanvasInJS(){let t=this.getApp().CanvasModule;t&&t.setupCanvas()&&this.getApp().setupCanvasEnv()}};var we=class extends H{constructor(t,n){let{nativeApp:o,params:i}=t;super(t,n);this.componentEventBatch={};this.$isErrorHandling=!1;this.reserveKey=new Set(["__globalProps","SystemInfo"]);this.dataTypeSet=new Set(["string","number","array","object","boolean","null","function"]);this.contextProxyTypeToMethod={[j.CoreContext]:()=>this.lynx.getCoreContext(),[j.DevTool]:()=>this.lynx.getDevtool(),[j.JSContext]:()=>this.lynx.getJSContext(),[j.UIContext]:()=>this.lynx.getUIContext()};this.removeInternalEventListenersCallbacks=[];this.diffData=(t,n,o)=>{let i={};if(t===n)return i;if(q(n)){let a=q(t),u=Object.keys(n);u.length&&(o&&o.length?o:u).forEach(c=>{let p=n[c];this.dataTypeSet.has(L(p))&&(a&&Ar(t[c],p)||(i[c]=p))})}return i};this.filterReactComponentData=t=>{let n={};return q(t)&&Object.keys(t).forEach(o=>{let i=t[o],a=L(i);this.dataTypeSet.has(a)&&!this.reserveKey.has(o)&&(n[o]=i)}),n};this.hasJSOnlyData=t=>q(t)?Object.keys(t).some(n=>{let o=t[n],i=L(o);return!this.dataTypeSet.has(i)}):!1;this.__removeInternalEventListeners=()=>{this.removeInternalEventListenersCallbacks.forEach(t=>{t()})};this.BDLynxModule=o.nativeModuleProxy.BDLynxModule,this.CanvasModule=o.nativeModuleProxy.CanvasNativeModule,b["installNapiModulesOnRT"+this.nativeAppId]&&b["installNapiModulesOnRT"+this.nativeAppId](this.lynx),this.CanvasModule&&this.CanvasModule.enableCanvasOptimization()&&this.setupCanvasEnv(),this.addInternalEventListeners()}set appInstance(t){this._appInstance=t}get appInstance(){return this._appInstance}destroy(){super.destroy(),this.__removeInternalEventListeners(),this._canvasEngine&&(this._canvasEngine.destroy(),this._canvasEngine=void 0)}setupCanvasEnv(){if(this._canvasEngine)return;let t=b["napiLoaderOnRT"+this.nativeAppId],n=t.load("krypton_environment");if(n){let o=n.setupKryptonEngine();o&&(this._canvasEngine=new o({loader:t,promise:this.lynx.Promise,timerFunctions:{setTimeout:this.setTimeout,clearTimeout:this.clearTimeout,setInterval:this.setInterval,clearInterval:this.clearInterval},featureReporter:i=>{this._nativeApp.featureCount(i)}}),this._canvasEngine.registerSyncWaitFeature(mr.TypescriptHeliumCreateCanvasWait),this._canvasEngine.append(this.lynx))}}saveComponentEventBatch(t,n,o){this.componentEventBatch[t]||(this.componentEventBatch[t]=[]),this.componentEventBatch[t].push({eventName:n,data:o})}processCardConfig(t){let n=this.appInstance;try{if(typeof t=="string"&&(t=JSON.parse(t)),t&&typeof t=="object"){let o=t[ng];if(q(o)){let{theme:i}=o;q(i)&&(n[Qo]=i,typeof n[Sr]=="function"&&n[Sr](i))}}}catch(o){this.handleUserError(o)}}onAppError(t,n){this.handleInternalError(n)}onHMRUpdate(t){}updateGlobalProps(t){let n=this;try{if(!n.appInstance)return;Object.keys(t).forEach(i=>{let a=t[i];this.lynx.__globalProps[i]=a}),this.onGlobalPropsChanged(t)}catch(o){this.handleUserError(o)}}onGlobalPropsChanged(t){let n=this.appInstance;typeof n.onGlobalPropsChanged=="function"&&n.onGlobalPropsChanged.call(n,t)}OnLifecycleEvent(t){}onNativeAppReady(){}onAppFirstScreen(){}onAppEnterBackground(){}onAppEnterForeground(){}addInternalEventListener(t,n,o){this.contextProxyTypeToMethod[t]().addEventListener(n,o),this.removeInternalEventListenersCallbacks.push(()=>{this.contextProxyTypeToMethod[t]().removeEventListener(n,o)})}forceGcJSIObjectWrapper(){this.lynx.getJSContext().dispatchEvent({type:"__ForceGcJSIObjectWrapper",data:void 0})}addInternalEventListeners(){this.addInternalEventListener(j.CoreContext,"__OnNativeAppReady",()=>{this.onNativeAppReady()}),this.addInternalEventListener(j.CoreContext,"__NotifyGlobalPropsUpdated",t=>{this.updateGlobalProps(t.data)}),this.addInternalEventListener(j.CoreContext,"__OnLifecycleEvent",t=>{this.OnLifecycleEvent(t.data)}),this.addInternalEventListener(j.CoreContext,"__OnAppFirstScreen",()=>{this.onAppFirstScreen()}),this.addInternalEventListener(j.CoreContext,"__OnDynamicJSSourcePrepared",t=>{b.loadDynamicComponent(this,t.data)}),this.addInternalEventListener(j.CoreContext,"__OnAppEnterForeground",()=>{this.onAppEnterForeground()}),this.addInternalEventListener(j.CoreContext,"__OnAppEnterBackground",()=>{this.onAppEnterBackground()})}createLynx(t,n){let o=He.create(t);return new ri(()=>this.nativeApp,()=>this,n,()=>o)}};var mn=class extends we{constructor(e,t){super(e,t);let{params:n}=e;this._componentMap={},this._dynamicComponentMap={},this._componentInstance={},this._reactLynx={},this.rlynxVersion=n==null?void 0:n.rlynxVersion,this.globalErrorEvents=[],this._propsMap=new cg,this._reactLynx.propsMap=this._propsMap,this._reactLynx.genPropsId=rg,this._reactLynx.ReactComponent=Zo,this._reactLynx.createRef=()=>({current:null,id:null}),this._getComponent=this.getComponent,this.lynx.onError=o=>this.subscribeGlobalError(o),this.lynx.nativeDataChanged=!1,re.mountHooks(this,{catchError:o=>{this.handleInternalError(o)}}),this._reactLynx.ReactFcComponent=hg,this._reactLynx.useReducer=re.useReducer,this._reactLynx.useState=re.useState,this._reactLynx.useEffect=re.useEffect,this._reactLynx.useMemo=re.useMemo,this._reactLynx.useCallback=re.useCallback,this._reactLynx.useInstance=re.useInstance,this._reactLynx.useRef=re.useRef,this._reactLynx.createRef=o=>({current:o,id:null}),this.sendToDevtool("start"),this.GlobalEventEmitter.addListener("OnReactDevtoolMessage",o=>{this.handleDevtoolMessage(o)},this)}subscribeGlobalError(e){this.globalErrorEvents.push(e)}publishGlobalError(...e){this.globalErrorEvents&&this.globalErrorEvents.length>0&&this.globalErrorEvents.forEach(t=>{t(...e)})}handleError(e,t,n){super.handleError(e,t,n),!this.$isErrorHandling&&(this.$isErrorHandling=!0,this.publishGlobalError(e,e.message,e.stack),this.dispatchError(e.message||e.stack),this.$isErrorHandling=!1)}Card(e,t){let n=this;this._cardComponentClass=e;try{let{initData:o,updateData:i,initConfig:a}=n._params||{};if(e.__config={$type:"card",appInstance:n,initData:o,componentId:""},n.appInstance=new e(e.defaultProps),n.appInstance.$isInCtor=!1,o&&typeof o=="object"&&n.initCardData(o),i&&typeof i=="object")try{let u=n.appInstance;Object.keys(i).forEach(s=>{u.state[s]=i[s]}),Wt(u)&&re.syncInsHookState(u,i),this.lynx.nativeDataChanged=!0}catch(u){this.handleInternalError(u)}a&&typeof a=="object"&&n.processCardConfig(a)}catch(o){this.handleInternalError(o)}}Component(e,t){let{globDynamicComponentEntry:n,globComponentRegistPath:o}=b;n||(n=De),this._componentMap[n]||(this._componentMap[n]={}),this._componentMap[n][o]=e}initCardData(e){let t=this;try{let n=t.appInstance;Object.keys(e).forEach(o=>{$t(n.state,o)||(n.state[o]=e[o])})}catch(n){this.handleInternalError(n)}}onReactCardRender(e,t,n){let i=this.appInstance;if(!i){ee("onReactCardRender execution stopped because card creation failed");return}typeof e=="string"&&(e=JSON.parse(e));let a=this.processVersionsAndCheckForConflict(e,i);if(i.$cardInit){this.lynx.nativeDataChanged=!0;try{e&&typeof e=="object"&&Object.keys(e).forEach(v=>{Et(e[v])||(i.state[v]=e[v]),Wt(i)&&re.syncInsHookState(i,e,!0)});let u=0;if(a){this.flushNative(i,32);return}if(!t)return;let s={},c={};i.$hasDerivedFunction&&!i.$shouldIgnoreLepusDataProcessor&&(s=i.$class.getDerivedStateFromProps(i.props||{},i.state)||{},c=this.diffData(i.state,s),i.state=Object.assign(i.state,s));let p=i.executeJSRender()||{},f=this.diffData(i.state,p);i.state=Object.assign(i.state,p);let l=Object.assign(c,f);Object.keys(c).length>0&&(u|=16),Object.keys(f).length>0&&(u|=4),Object.keys(l).length&&i.updateDataToNative(l,u)}catch(u){this.handleInternalError(u)}}else try{i.$cardInit=!0,this.flushNative(i,2,n)}catch(u){this.handleInternalError(u)}}onReactComponentCreated(e,t,n,o,i,a,u){var Ct,Qe;nativeConsole.profile("onReactComponentCreated::"+e),e.startsWith("/")&&(e=e.substr(1)),(Ct=this._supportConstructorUpdateData)!=null||(this._supportConstructorUpdateData=new ut(this.lynx.targetSdkVersion).gte(Um));let s=a?this._componentMap[a][e]:this._componentMap[De][e];if(!s){nativeConsole.warn("Create component path:".concat(e,", entryName:").concat(a,", is undefined.Find previous errors or red screens to resolve the issue.")),nativeConsole.profileEnd();return}s.defaultProps=s.defaultProps||{};let c=(n?this._propsMap.getProps(n.propsId):null)||{},p=Object.keys(s.defaultProps),f=Object.keys(c),l=[...p];f.forEach(D=>{l.includes(D)||l.push(D)});let v={};Object.keys(s.defaultProps).filter(D=>{f.includes(D)&&c[D]===null?v[D]=null:v[D]=s.defaultProps[D]});let y=vr(n,c);y=vr(v,y,!0),s.__config={$type:"component",appInstance:this,__sourcemap__release__:this.__sourcemap__release__,componentId:t,initNativeStateVersion:o[$e]};let h=new s(y);h.$isInCtor=!1,o&&typeof o=="object"&&$e in o&&(h.$nativeStateVersion=o[$e]),h.componentPath=e,h.entryName=a,this.setComponent(t,h,i);let m=0,g=[];Object.keys(h.state).forEach(D=>{(!$t(o,D)||(o[D]===null||o[D]===void 0)&&h.state[D]!==null&&h.state[D]!==void 0)&&g.push(D)}),g.length>0&&(m|=2);let S=!1;if(n.$$onlyPropsId)S=this.hasJSOnlyData(c);else{let D=Object.keys(n);S=l.filter(ve=>!D.includes(ve)||n[ve]===null).length>0}let E=this._supportConstructorUpdateData&&!h.$shouldIgnoreStateCheckInConstructor,O=null,C=null;if(h.$hasDerivedFunction&&(S||g.length||!h.$shouldIgnoreLepusDataProcessor||E)){if(O=h.$class.getDerivedStateFromProps(h.props,h.state),h.state=Object.assign(h.state,O||{}),E){(Qe=this._shouldReportErrorForCompatible)!=null||(this._shouldReportErrorForCompatible=new ut(this.lynx.targetSdkVersion).lte(Fm));let D=Object.keys(O||{});if(this._shouldReportErrorForCompatible&&O==null){let Kt="lifeCycle getDerivedStateFromProps of component: ${componentInstance.componentPath} returned null or undefined. When 2.9 <= targetSdkVersion <= 2.12, you need to ensure that it does not return null or undefined, or upgrade @byted-lynx/lynx-speedy to ^2.47.1.",x=new Error(Kt);this.handleUserError(x)}let ve=this.diffData(h.state,o,Object.keys(o).filter(Kt=>!D.includes(Kt)));delete ve[$e],delete ve[At],C=Object.keys(ve||{})}}else if(E){let D=this.diffData(h.state,o);delete D[$e],delete D[At],C=Object.keys(D||{})}else h.$hasDerivedFunction&&(h.state=vr(h.state,o,!0));let $=h.executeJSRender()||{};if(h.$throwError){nativeConsole.profileEnd();return}h.state=Object.assign(h.state,$),Object.keys($).length>0&&(m|=4);let P=this.diffData(o,O);Object.keys(P).length>0&&(m|=16),g.push.apply(g,[...Object.keys(P),...Object.keys($),...C||[]]);let M={};for(let D=0;D<g.length;D++){let ve=g[D];M[ve]=h.state[ve]}h.updateDataToNative(this.filterReactComponentData(M),m,u);let G=this.componentEventBatch[t];G&&(this.componentEventBatch[t]=void 0,Array.isArray(G)&&G.forEach(D=>{this.publicComponentEvent(t,D.eventName,D.data)}));let X=n["react-ref"]||c["react-ref"];he(X)&&this.bindComponentWithRefId(i,t,X),nativeConsole.profileEnd()}onReactComponentRender(e,t,n,o){var m;let i=this.getComponent(e);if(!i){ee("onReactComponentRender execution stopped because card creation failed");return}nativeConsole.profile("onReactComponentRender::"+i.componentPath);let a=wm(this._propsMap.getProps(t.propsId)),u;if((m=this.lynx._switches)!=null&&m.fixMergeOrder?u=vr(t,a):u=vr(a,t),Object.keys(u).forEach(g=>{i.props[g]=u[g]}),this.processVersionsAndCheckForConflict(n,i)){this.flushNative(i,32),nativeConsole.profileEnd();return}if(n&&typeof n=="object"&&Object.keys(n).forEach(g=>{Et(n[g])||(i.state[g]=n[g]),Wt(i)&&re.syncInsHookState(i,n,!0)}),!o){nativeConsole.profileEnd();return}let c=!1;if(t.$$onlyPropsId)c=this.hasJSOnlyData(a);else{let g=Object.keys(a),S=Object.keys(t);c=g.filter(E=>!S.includes(E)||t[E]===null).length>0}let p={},f={};i.$hasDerivedFunction&&(!i.$shouldIgnoreLepusDataProcessor||c)?(p=i.$class.getDerivedStateFromProps(i.props,i.state),f=this.diffData(i.state,p),i.state=Object.assign(i.state,p||{})):i.$hasDerivedFunction&&(i.state=Object.assign(i.state,n||{}));let l=i.executeJSRender()||{};if(i.$throwError){nativeConsole.profileEnd();return}let v={};(i.$shouldDiffState||q(l)&&Object.keys(l).length>0)&&(v=this.diffData(i.state,l)),i.state=Object.assign(i.state,l||{});let y=0;Object.keys(f).length>0&&(y|=16),Object.keys(v).length>0&&(y|=4);let h=Object.assign(f,v);Object.keys(h).length&&i.updateDataToNative(h,y),nativeConsole.profileEnd()}processVersionsAndCheckForConflict(e,t){let n=!1;return e&&typeof e=="object"&&($e in e&&(t.$nativeStateVersion=e[$e]),At in e&&e[At]<t.$jsStateVersion&&(n=!0),delete e[$e],delete e[At]),n}flushNative(e,t,n=!1){let o={};e.$hasDerivedFunction&&(o=e.$class.getDerivedStateFromProps(e.props,e.state)),e.state=Object.assign(e.state,o||{}),e.state=Object.assign(e.state,e.executeJSRender()||{}),!e.$throwError&&e.updateDataToNative(this.filterReactComponentData(e.state),t,n)}flushAnonStateToNative(e){}reactUpdateComponent(e){let t=e.$hasUseDidUpdateLifecycleParams||typeof e.$hasUseDidUpdateLifecycleParams>"u";if(!e.$init)e.$init=!0,e.$hasDidUpdateLifecycleV2&&t&&(e.prevProps=ae(e.props),e.prevState=ae(e.state)),e.componentDidMount(),e.$componentState=1;else if(e.$isUpdatingState=!1,e.$hasDidUpdateLifecycleV2){let n=t?ae(e.props):void 0,o=t?ae(e.state):void 0;e.componentDidUpdate(e.prevProps,e.prevState),e.prevProps=n,e.prevState=o,e.$isUpdatingState?(e.$nestedUpdateCount+=1,e.$nestedUpdateCount>nu&&e.$startDetectNestedUpdateTimestamp===0&&(e.$startDetectNestedUpdateTimestamp=Date.now())):e.$nestedUpdateCount=0}Wt(e)&&re.executeEffects(e),e.$catchError&&e.$hasDidCatchLifecycleV2&&(e.componentDidCatch(e.$catchError),e.$catchError=null)}onReactCardDidUpdate(){let e=this.appInstance;if(!e){ee("onReactCardDidUpdate execution stopped because card creation failed");return}nativeConsole.profile("onReactComponentDidUpdate::card"),this.reactUpdateComponent(e),nativeConsole.profileEnd(),this.lynx.nativeDataChanged=!1}onReactComponentDidUpdate(e){let t=this.getComponent(e);if(!t){ee("onReactComponentDidUpdate execution stopped because card creation failed");return}nativeConsole.profile("onReactComponentDidUpdate::"+t.componentPath),this.reactUpdateComponent(t),nativeConsole.profileEnd()}onReactComponentDidCatch(e,t){let n=this.getComponent(e);if(!n){ee("onReactComponentDidCatch execution stopped because card creation failed");return}nativeConsole.profile("onReactComponentDidCatch::"+n.componentPath),n.$hasDidCatchLifecycleV2&&n.componentDidCatch(t),nativeConsole.profileEnd()}onReactComponentUnmount(e){let t=this.getComponent(e);if(!t){ee("onReactComponentUnmount execution stopped because card creation failed");return}if(nativeConsole.profile("onReactComponentUnmount::"+t.componentPath),q(t.__childrenPropsIds))Object.keys(t.__childrenPropsIds).forEach(n=>{this._propsMap.deleteProps(n)}),t.__childrenPropsIds={};else{let n=t.props?t.props.propsId:null;n&&this._propsMap.deleteProps(n)}Wt(t)&&re.cleanUpHooks(t),t.componentWillUnmount(),t.clearRefToThis(),t.$componentState=2,delete this._componentInstance[e],nativeConsole.profileEnd()}setComponent(e,t,n){this._componentInstance[e]=t,t.parentId=n}getComponent(e){return this._componentInstance[e]}getComponentOptions(e,t){return t?this._dynamicComponentMap[t][e]:this._dynamicComponentMap[De][e]}callBeforePublishEvent(e){if(this._aopManager._beforePublishEvent.getEventsSize(e.type)!==0){let t=W({},e);try{this._aopManager._beforePublishEvent.emit(t.type,[t])}catch(n){this.handleUserError(n,{by:"callBeforePublishEvent",type:t.type})}}}publishEvent(e,t){let o=this.appInstance;try{if(this.callBeforePublishEvent(t),typeof o[e]=="function")return this.handlerEvent(o,e,t);throw new Error("Do not have ".concat(e," method in Card"))}catch(i){this.handleUserError(i,{handlerName:e})}}publicComponentEvent(e,t,n){let o=this,i=o.getComponent(e);if(!i){o.saveComponentEventBatch(e,t,n);return}try{if(this.callBeforePublishEvent(n),typeof i[t]=="function")return o.handlerEvent(i,t,n)}catch(a){this.handleUserError(a,{by:t,componentId:e})}}handlerEvent(e,t,n){let o=this,i="funPrivate",a=e,u=[],s=[],c={},p=n.type,f=n.currentTarget.dataset||{};n.preventDefault=()=>{},n.stopPropagation=()=>{},n.stopImmediatePropagation=()=>{},Object.keys(f).forEach(v=>{let y=v.toLocaleLowerCase();if(/^e/.test(y)&&(y=y.replace(/^e/,""),y.indexOf(p)>=0)){let h=y.replace(p,"");/^(a[a-z]|so)$/.test(h)&&(c[h]=f[v])}});let l=null;return"so"in c&&(a=c.so!=="this"?c.so:e,l=c.so!=="this"?c.so:null,delete c.so),q(c)&&(s=Object.keys(c).sort().map(v=>c[v])),t.indexOf(i)===-1?u=[...s,n]:u=[l,...s,n],e[t].apply(a,u)}callDestroyLifetimeFun(){try{Object.keys(this._componentInstance).forEach(t=>{this.onReactComponentUnmount(t)}),this.appInstance.componentWillUnmount()}catch(e){}}destroy(){try{Wt(this.appInstance)&&re.cleanUpHooks(this.appInstance),this.modules=null,this._params=null,this._componentMap=null,this._propsMap=null,this.appInstance=null,this.componentEventBatch=null,super.destroy()}catch(e){}}onAppEnterBackground(e){let t=this;try{t.appInstance&&Z(this.appInstance.componentDidHide)&&t.appInstance.componentDidHide(),this.GlobalEventEmitter.emit("onHide",e)}catch(n){this.handleUserError(n)}}onAppEnterForeground(e){let t=this;try{t.appInstance&&Z(this.appInstance.componentDidShow)&&t.appInstance.componentDidShow(),this.GlobalEventEmitter.emit("onShow",e)}catch(n){this.handleUserError(n)}}dispatchError(e){this.appInstance&&Z(this.appInstance.componentDidCatch)&&this.appInstance.componentDidCatch(e)}onAppReload(e){var t,n;(t=this.appInstance)==null||t.componentWillUnmount(),this.appInstance.$componentState=2,this._propsMap.clear(),(n=this.lynx._switches)!=null&&n.enableClearGlobalEventsInReload&&this.GlobalEventEmitter.removeAllListeners(),this._params.updateData=e,this.Card(this._cardComponentClass)}require(e,t){let n=t&&t.dynamicComponentEntry?t.dynamicComponentEntry:De;return super.require(e,{dynamicComponentEntry:n,ReactLynx:this._reactLynx})}define(e,t,n){super.define(e,t,n)}sendToDevtool(e){var n;let t=JSON.stringify(e);(n=this.NativeModules.DevtoolWebSocketModule)==null||n.postMessage(t,"ReactDevtool")}handleDevtoolMessage(e){var n,o;let t={};try{t=JSON.parse(e)}catch(i){this.handleInternalError(i,{message:e});return}if(t.type==="getInfo"){let i=this.getComponent(t.componentId.toString()),a=(n=i==null?void 0:i.state)!=null?n:{},u=(o=i==null?void 0:i.props)!=null?o:{};this.sendToDevtool({type:"info",state:a,props:u})}else if(t.type==="updateState"){let{componentId:i,path:a,value:u}=t;this.updateStateByPath(a,i,u)}}updateStateByPath(e,t,n){if(e.length===0)return;let o=e.shift(),i=this.getComponent(t);if(e.length!==0){let u=ae(i.state[o],!0),s=e.pop();e.unshift(u);let c=e.reduce((p,f)=>p[f]);c[s]=n,n=u}let a={};a[o]=n,i.setState(a)}bindComponentWithRefId(e,t,n){for(let i=this._componentInstance[e];i;i=this._getComponent(i.parentId)){let a=i.$refs.find(u=>u.refId===n);if(q(a)){this._componentInstance[t].$componentIdContainsRefToThis={componentId:i.componentId,refItem:a},i.$pureData[n]=t,i.bindSingleRef(a);return}}let o=this.appInstance.$refs.find(i=>i.refId===n);q(o)&&(this._componentInstance[t].$componentIdContainsRefToThis={componentId:"card",refItem:o},this.appInstance.$pureData[n]=t,this.appInstance.bindSingleRef(o))}OnLifecycleEvent(e){}addInternalEventListeners(){super.addInternalEventListeners(),this.addInternalEventListener(j.CoreContext,"__OnReactComponentRender",e=>{let[t,n,o,i]=e.data;this.onReactComponentRender(t,n,o,i)}),this.addInternalEventListener(j.CoreContext,"__OnReactComponentDidUpdate",e=>{let t=e.data;this.onReactComponentDidUpdate(t)}),this.addInternalEventListener(j.CoreContext,"__OnReactComponentDidCatch",e=>{let[t,n]=e.data;this.onReactComponentDidCatch(t,n)}),this.addInternalEventListener(j.CoreContext,"__OnReactCardDidUpdate",()=>{this.onReactCardDidUpdate()}),this.addInternalEventListener(j.CoreContext,"__OnReactComponentCreated",e=>{this.nativeApp.pauseGcSuppressionMode();try{let[t,n,o,i,a,u,s]=e.data;this.onReactComponentCreated(n,o,i,a,u,t===""?void 0:t,s)}finally{this.nativeApp.resumeGcSuppressionMode()}}),this.addInternalEventListener(j.CoreContext,"__OnReactCardRender",e=>{let[t,n,o]=e.data;this.onReactCardRender(t,n,o)}),this.addInternalEventListener(j.CoreContext,"__OnReactComponentUnmount",e=>{this.onReactComponentUnmount(e.data),this.forceGcJSIObjectWrapper()})}};function ni(r,e){let t="__lynx_timing_flag",n=["update_set_state_trigger","update_diff_vdom_start","update_diff_vdom_end"];e[t]&&n.forEach(o=>{r.markTiming(e[t],o)})}var oi="__lynx_data_version";var gn=class extends pt{get __proxy(){return this.getApp()}constructor(e,t,n,o){super({type:"card",resolvedPromise:n,app:o});let i=this;this.$parent=null,i.$children=[],i._queue=[],i._microTaskPending=!1,i._nativeApp=t,this._options=e;let f=e,{data:a={},theme:u={},methods:s={}}=f,c=fu(f,["data","theme","methods"]);i.data=W({},a),i.theme=W({},u),i.methods=W({},s),i._uiModule=this._nativeApp.nativeModuleProxy.LynxUIMethodModule;let p=Object.assign({},eu,c);Object.keys(s).forEach(function(l){typeof s[l]=="function"&&(i[l]=te("at Card methods: ".concat(l),i,s[l]).bind(i))}),Object.keys(p).forEach(l=>{typeof p[l]=="function"?i[l]=te("at Card ".concat(l),i,p[l]).bind(i):i[l]=ae(p[l])}),this.GlobalEventEmitter=o.GlobalEventEmitter,this.performance=o.performance}setData(e,t){var o,i;let n=this;if(this.cardState!=="destroyed")try{let a=L(e);if(a!=="object")throw new Error("setData's first param must be object, you pass ".concat(a));let u=L(t);if(t&&u!=="function")throw new Error("setData's second param must be function, you pass ".concat(u));let s=(o=n.getApp().lynx._switches)==null?void 0:o.enableLynxNodiff;s&&ni(n._nativeApp,e),super.updateData(e),super.dataQueueUpdate(n,e,{callback:te("at card setData/dataQueueUpdate",n,t).bind(n),enableFixBatchedUpdateOrder:(i=this.__proxy.lynx._switches)==null?void 0:i.enableFixBatchedUpdateOrder,updateDataType:1,updateToNative:s?this.__proxy.updateSignals.bind(this.__proxy):void 0})}catch(a){this.getApp().handleInternalError(a)}}getNodeRef(e){return new Pe({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this.__proxy.lynx._switches.disableNodeRefWarningWhenFailed},"",e)}createSelectorQuery(e){return e?ne.fromQuery(e,this.componentId):ne.newEmptyQuery({nativeApp:this._nativeApp,lynx:this.__proxy.lynx})}getElementById(e){return new Je("card",e,this.__proxy.lynx)}getRoot(){return new Je("card",void 0,this.__proxy.lynx)}selectComponent(e,t){let n=this,o=L(t);if(t&&o!=="function")throw new Error("selectComponent's second param must be function, you pass ".concat(o));let i=a=>{Array.isArray(a)&&t(this.__proxy.getComponent(a[0]))};this._nativeApp.selectComponent("card",e,!0,te("at card selectComponent",n,i).bind(n))}updateTheme(e,t=!1){let n=this;try{let o=L(e);if(o!=="object")throw new Error("updateTheme's first param must be object, you pass ".concat(o));let i={};t?Object.assign(i,e):Object.assign(i,n.theme,e),Object.keys(i).forEach(a=>{i[a]||delete i[a]}),n._nativeApp.updateData({__card_config_:{theme:i}},1)}catch(o){this.getApp().handleInternalError(o)}}registerModule(e,t){return this.__proxy.registerModule(e,t)}getJSModule(e){return this.__proxy.getJSModule(e)}addGlobalEventListener(e,t,n){this.getJSModule("GlobalEventEmitter").addListener(e,t,n)}setSharedData(e,t){b.sharedData[e]=t}getSharedData(e){return b.sharedData[e]}};function gg(r){return W({},r)}var _g=new Map;function pN(r){let e={created:[r.created],attached:[r.attached],ready:[r.ready],moved:[r.moved],detached:[r.detached]};Array.isArray(r.behaviors)&&Dm(r.behaviors,t=>{let n=_g.get(t);n&&br.forEach(o=>{typeof n[o]=="function"&&e[o].push(n[o])})}),br.forEach(t=>{r[t]=function(...n){e[t].forEach(o=>o.apply(this,n))}})}function Eg(r,e="Behavior"){let{created:t=st,attached:n=st,ready:o=st,moved:i=st,detached:a=st}=r||{};r=W({},r);let u=Object.assign(r,{created:t,attached:n,ready:o,moved:i,detached:a}),s=W({},u);return pN(s),s}function xg(r){try{if(q(r)){let e=Pm(),t=Object.keys(r).reduce(function(n,o){return br.includes(o)&&typeof r[o]=="function"&&(n[o]=r[o]),n},{});return _g.set(e,t),e}}catch(e){this.handleInternalError(e)}}var _n=class extends pt{constructor(e,t,n,o){super({type:"component",componentId:e,resolvedPromise:o,app:t});let i=this,a=ae(n);a=Eg(a);let u=a.methods||{},s=a.pageLifetimes||{},c=a.lifetimes||{};i.$parent=null,i.$children=[],i._initDataUpdated=!1,i._appInstance=t.appInstance,i._proxyInstance=t,i.componentId=e,i.behaviors=a.behaviors||[],i._nativeApp=t.nativeApp,i._lifetimes=c,i._pageLifetimes=s,i._uiModule=i._nativeApp.nativeModuleProxy.LynxUIMethodModule,this.GlobalEventEmitter=t.GlobalEventEmitter,q(a.data)||(a.data={}),q(a.properties)||(a.properties={});let p=a.data;i._jsInitData=W({},p);for(let f in a.properties)p[f]=a.properties[f].value;i.data=i.properties=p,i._properties=a.properties||{},Object.keys(u).forEach(f=>{typeof u[f]=="function"&&(i[f]=te("at component methods ".concat(f),i._appInstance,u[f]).bind(i))}),Object.keys(a).forEach(function(f){var l,v,y;typeof a[f]=="function"?i[f]=te("at component option ".concat(f),i._appInstance,a[f]).bind(i):(y=(v=(l=i._proxyInstance)==null?void 0:l.lynx)==null?void 0:v._switches)!=null&&y.enableCopyOptions&&!["data","properties","methods"].includes(f)&&(i[f]=ae(a[f]))})}updateInitData(){var c,p;if(this._initDataUpdated)return;let{componentId:e,_jsInitData:t,_nativeInitData:n={}}=this,o=this.getApp().lynx._switches.enableLynxNodiff,i=this.getApp().lynx.performance._initializeAndStartPipeline(),a=o?this._proxyInstance.updateSignal.bind(this._proxyInstance):this._nativeApp.updateComponentData;if(!((p=(c=this._appInstance.__proxy.lynx)==null?void 0:c._switches)!=null&&p.enableReduceInitDataCopy)){a(e,t,null,2,...o?["component",i]:[]),this._initDataUpdated=!0;return}let u=Array.isArray(n)?n:Object.keys(n).filter(f=>!Po(n[f])),s=yg(u,t);Object.keys(s).length>0&&a(e,s,null,2,...o?["component",i]:[]),this._initDataUpdated=!0}getNodeRef(e){return new Pe({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._proxyInstance.lynx._switches.disableNodeRefWarningWhenFailed},this.componentId,e)}getNodeRefFromRoot(e){return new Pe({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._proxyInstance.lynx._switches.disableNodeRefWarningWhenFailed},"",e)}createSelectorQuery(e){return e?ne.fromQuery(e,this.componentId):ne.newEmptyQuery({nativeApp:this._nativeApp,lynx:this._proxyInstance.lynx},this.componentId)}getPathFromTarget(e,t){this.createSelectorQuery().selectUniqueID(e.uid).path(t).exec()}getElementById(e){return new Je(this.componentId,e,this._proxyInstance.lynx)}selectComponent(e,t){let n=this,o=L(t);if(t&&o!=="function")throw new Error("selectComponent's second param must be function, you pass ".concat(o));let i=a=>{Array.isArray(a)&&t(this._proxyInstance.getComponent(a[0]))};this._nativeApp.selectComponent(this.componentId,e,!0,te("at component selectComponent",n,i).bind(n))}getJSModule(e){return this._proxyInstance.getJSModule(e)}setData(e,t){var o,i;let n=this;try{let a=L(e);if(a!=="object")throw new Error("setData's first param must be object, you pass ".concat(a));let u=L(t);if(t&&u!=="function")throw new Error("setData's second param must be function, you pass ".concat(u));n._initDataUpdated||this.updateInitData();let s=(o=n.getApp().lynx._switches)==null?void 0:o.enableLynxNodiff;s&&ni(n._nativeApp,e),super.updateData(e,this.data),super.dataQueueUpdate(n._appInstance,e,{callback:te("at Component setData",n._appInstance,t).bind(n),enableFixBatchedUpdateOrder:(i=n._proxyInstance.lynx._switches)==null?void 0:i.enableFixBatchedUpdateOrder,updateDataType:1,updateToNative:s?this._proxyInstance.updateSignals.bind(this._proxyInstance):void 0})}catch(a){this.getApp().handleUserError(a,{componentId:this.componentId})}}triggerEvent(e,t={},n={}){let o=this;try{let{componentId:i}=o;o._nativeApp.triggerComponentEvent(e,{eventDetail:t,eventOption:n,componentId:i})}catch(i){this.getApp().handleInternalError(i,{componentId:this.componentId})}}};function bg(r,e,t,n,o){var c;let i=this,{initData:a,entryName:u,parentId:s}=o||{};try{if(!br.includes(e))return;if(e==="created"){n.startsWith("/")&&(n=n.substr(1));let l=i.getComponentOptions(n,u),v=null;if(q(l))try{v=new _n(t,i,l,r)}catch(h){throw new Error("create component error: ".concat(h))}else throw new Error("component: ".concat(n," is not exist!"));let y=(c=i.lynx._switches)!=null&&c.enableCardReuse?i.getEncodeInitData(u)[n]:a;if(q(y)?(v._nativeInitData=y,Object.keys(y).forEach(h=>{$t(v.data,h)||(v.data[h]=y[h])})):_t(y)&&(v._nativeInitData=y,v.data.__globalProps=i.lynx.__globalProps,v.data.SystemInfo=b.SystemInfo),he(s)){let h=null;s==="card"?h=i.appInstance:h=i.getComponent(s),h&&(v.$parent=h,h.$children.push(v))}i.setComponent(t,v)}let p=i.getComponent(t);if(e==="attached"&&!p._initDataUpdated){let l=!0;i.allRemoved&&(l=!i.allRemoved[n]),l&&p.updateInitData(),p._initDataUpdated=!0}if(!p)throw new Error("component instance: ".concat(t," is not exist"));dN(p,e);let f=(p._lifetimes||{})[e]||p[e];if(typeof f=="function"&&f(o),e==="detached"){let l=p.$parent,v=(l||{}).$children;if(Array.isArray(v)){let y=[];v.forEach(function(h){h.componentId!==t&&y.push(h)}),l.$children=y}p.$parent=null,this.detachComponent(t)}}catch(p){this.handleUserError(p,{action:e,componentId:t,route:n})}}function dN(r,e){e==="attached"?r.componentState="attached":e==="detached"?r.componentState="detached":e==="ready"?(r.componentState="ready",r.$_internal_shouldStopBatching=!0):e==="moved"?r.componentState="moved":e==="created"&&(r.componentState="created")}function ft(r,e={}){let n=this._componentInstance||{};Object.keys(n).forEach(function(o){let i=n[o],a=(i._pageLifetimes||{})[r];typeof a=="function"&&a.call(i,e)})}var En=class extends we{constructor(e,t){super(e,t),this._componentOpts={},this._componentInstance={},this._dataProcessor={},this._encodeInitData={},this._dataVersion=-1}setAllRemoved(e){this.allRemoved=e}handleError(e,t,n){super.handleError(e,t,n),!this.$isErrorHandling&&(this.$isErrorHandling=!0,this._appInstance&&Z(this._appInstance.onError)&&this._appInstance.onError(e.message||e.stack,t),this.$isErrorHandling=!1)}require(e,t){let n=b.globDynamicComponentEntry?b.globDynamicComponentEntry:De;return super.require(e,{dynamicComponentEntry:n,ReactLynx:b.TaroLynx})}define(e,t){super.define(e,t,b.globDynamicComponentEntry)}Card(e){var o;let t=this,{globComponentRegistPath:n}=b;this._cardPath=n,this._cardParams=e;try{let{initData:i,updateData:a,processorName:u="default",cacheData:s=[],isReload:c}=t._params||{};t._appInstance=new gn(e,t._nativeApp,this.resolvedPromise,t);let p=(o=t.lynx._switches)!=null&&o.enableCardReuse?t.getEncodeInitData()[n]:i;p&&typeof p=="object"&&t.initCardData(p),(t.enableJSDataProcessor()||a&&typeof a=="object")&&t.updateCardData(a,{processorName:u,cacheData:s,fromCard:!0,isReload:c}),t.onCardLoad()}catch(i){this.handleUserError(i)}finally{return e}}onCardLoad(){let e=this,{initConfig:t}=e._params||{};t&&typeof t=="object"&&e.processCardConfig(t),e._appInstance.cardState="loaded",e._appInstance.onLoad({}),ft.call(e,"onLoad")}Behavior(e){return xg.call(this,e)}Component(e){let{globDynamicComponentEntry:t,globComponentRegistPath:n}=b,o=gg(e);return t||(t=De),this._componentOpts[t]||(this._componentOpts[t]={}),this._componentOpts[t][n]=o,o}setComponent(e,t){this._componentInstance[e]=t}getComponent(e){return this._componentInstance[e]}detachComponent(e){delete this._componentInstance[e]}getComponentOptions(e,t){let n=null;try{n=t?this._componentOpts[t][e]:this._componentOpts[De][e]}catch(o){throw new Error("Component (".concat(e,") is not register. \n please use Component({...}) to register."))}return n}callDestroyLifetimeFun(){try{ft.call(this,"onDestroy"),this._appInstance.onDestroy()}catch(e){}}destroy(){try{this.modules=null,this._appInstance.cardState="destroyed",this._appInstance=null,this.resolvedPromise=null,super.destroy()}catch(e){}}callBeforePublishEvent(e){if(this._aopManager._beforePublishEvent.getEventsSize(e.type)!==0){let t=W({},e);try{this._aopManager._beforePublishEvent.emit(t.type,[t])}catch(n){this.handleUserError(n,{by:"callBeforePublishEvent",type:t.type})}}}publishEvent(e,t){let o=this._appInstance,i=o._options[e];try{if(this.callBeforePublishEvent(t),typeof o[e]=="function")return o[e](t);if(typeof i=="function")return i.call(o,t);throw new Error("Do not have ".concat(e," method in Card"))}catch(a){this.handleUserError(a,{handlerName:e})}}publicComponentEvent(e,t,n){let o=this,i=o.getComponent(e);if(!i||!i.$_internal_shouldStopBatching){o.saveComponentEventBatch(e,t,n);return}try{if(this.callBeforePublishEvent(n),typeof i[t]=="function")return i[t](n)}catch(a){this.handleUserError(a,{handlerName:t,componentId:e})}}onComponentActivity(e,t,n,o){bg.call(this,this.resolvedPromise,e,t,n,o);let i=this.getComponent(t);if(i&&i.$_internal_shouldStopBatching){let a=this.componentEventBatch[t];this.componentEventBatch[t]=void 0,Array.isArray(a)&&a.forEach(u=>{this.publicComponentEvent(t,u.eventName,u.data)})}}onComponentPropertiesChanged(e,t){let o=this.getComponent(e);try{let i=o.properties,a=[];q(t)&&(Object.keys(t).forEach(u=>{var f;let s=i[u],c=t[u],p=!1;(f=this.lynx._switches)!=null&&f.enableDeepDiffProperties?Ar(s,c)||(p=!0):s!==c&&(p=!0),p&&(o.data[u]=o.properties[u]=c,a.push([s,c,u]))}),a.length>0&&a.forEach(([u,s,c])=>{let p=o._properties[c]||{},{observer:f}=p;q(p)&&(he(f)&&(f=o[f]),typeof f=="function"&&f.call(o,s,u))}))}catch(i){this.handleUserError(i,{componentId:e})}}onComponentDatasetChanged(e,t){let o=this.getComponent(e);try{o.dataset=t}catch(i){this.handleUserError(i,{componentId:e})}}onComponentInstanceChanged(e,t){let o=this.getComponent(e);try{o.className=t.className,o.idSelector=t.id}catch(i){this.handleInternalError(i,{componentId:e})}}updateCardData(e,t){let n=this,{type:o=0,processorName:i="default",cacheData:a=[]}=t||{};n._updateData=e=n.processData(e,i,a);try{let u=n._appInstance;o==1&&(u.data={__globalProps:u.data.__globalProps},this._initData&&typeof this._initData=="object"&&Object.keys(this._initData).forEach(s=>{u.data[s]=this._initData[s]})),typeof e=="string"&&(e=JSON.parse(e)),e&&typeof e=="object"&&Object.keys(e).forEach(s=>{let c=e[s];u.data[s]=c}),this.onCardDataChanged(e,t)}catch(u){this.handleUserError(u)}}onCardDataChanged(e,t){var o;(o=this.lynx._switches)!=null&&o.enableLynxNodiff&&e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,oi)&&(this._dataVersion=e[oi],delete e[oi]);let n=this._appInstance;typeof n.onDataChanged=="function"&&n.onDataChanged.call(n,e)}initCardData(e){this._initData=e;let t=this;try{let n=t._appInstance;Object.keys(e).forEach(o=>{$t(n.data,o)||(n.data[o]=e[o])})}catch(n){this.handleInternalError(n)}}enableJSDataProcessor(){var e,t;return((e=this.lynx._switches)==null?void 0:e.enableLynxNodiff)&&((t=this.lynx._switches)==null?void 0:t.enableJSDataProcessor)}setDataProcessor(e,t="default"){this._dataProcessor[t]=e}processData(e,t,n){var o,i,a;if(this.enableJSDataProcessor()){let u={};n==null||n.reduce((s,c)=>Object.assign(s,this.processData(c.data,c.processorName||"default")),u);try{return Object.assign(u,(a=(i=(o=this._dataProcessor)[t||"default"])==null?void 0:i.call(o,e,{__globalProps:this.lynx.__globalProps,SystemInfo:b.SystemInfo}))!=null?a:e)}catch(s){return this.handleUserError(s),Object.assign(u,e)}}return e}setEncodeInitData(e){let t=this.getEntryName();this._encodeInitData[t]=e}getEncodeInitData(e){let t=e||this.getEntryName();return this._encodeInitData[t]||{}}getEntryName(){return b.globDynamicComponentEntry?b.globDynamicComponentEntry:De}onNativeAppReady(e){var o;let t=this,n=this.lynx.performance._initializeAndStartPipeline();try{let i=!0;if(t.allRemoved&&(i=!t.allRemoved["/"+this._cardPath]),i){let a=Object.assign({},this._initData,this._updateData),u=this.diffData(a,this._appInstance.data);Object.keys(u).length>0&&((o=this.lynx._switches)!=null&&o.enableLynxNodiff?t.updateSignal("0",u,()=>{},2,"card",n):t._nativeApp.updateData(u,2,()=>{}))}t._appInstance.cardState="ready",t._appInstance.onReady({}),ft.call(t,"onReady")}catch(i){this.handleUserError(i)}}updateLepusSignal(e,t=!0){let{componentId:n,data:o,callback:i,type:a,updateDataType:u,stackTraces:s,pipelineOptions:c}=e||{},p=[];for(let f in o)p.push([tu(f),o[f]]);this.nativeApp.callLepusMethod("updateSignal",{paths:p,componentId:a==="card"?"0":n,isFinished:t,updateDataType:u,dataVersion:a==="card"?this._dataVersion:void 0,pipelineOptions:c},i,n,s)}updateSignal(e,t,n,o,i,a){nativeConsole.profile("updateSignal");let u={componentId:e,data:t,callback:n,updateDataType:o,type:i||"component",pipelineOptions:a};this.updateLepusSignal(u),nativeConsole.profileEnd()}updateSignals(e){nativeConsole.profile("updateSignals");let t=e.length;e.forEach((n,o)=>{this.updateLepusSignal(n,o===t-1)}),nativeConsole.profileEnd()}onAppEnterBackground(e){let t=this;try{t._appInstance.onHide(),ft.call(t,"onHide")}catch(n){this.handleUserError(n)}}onAppEnterForeground(e){let t=this;try{t._appInstance.onShow(e),ft.call(t,"onShow")}catch(n){this.handleUserError(n)}}onAppFirstScreen(){let e=this;try{this._appInstance.onFirstScreen(),ft.call(e,"onFirstScreen")}catch(t){this.handleUserError(t)}}onAppReload(e,t){var n,o;ft.call(this,"onDestroy"),(n=this.appInstance)==null||n.onDestroy(),this.appInstance.cardState="destroyed",(o=this.lynx._switches)!=null&&o.enableClearGlobalEventsInReload&&this.GlobalEventEmitter.removeAllListeners(),this._params.updateData=e,this._params.processorName=(t==null?void 0:t.processorName)||"default",this._params.isReload=!0,b.globComponentRegistPath=this._cardPath,this.Card(this._cardParams),this._params.isReload=!1}OnLifecycleEvent(e){try{if(!_t(e))throw new Error("OnLifecycleEvent should get an array as argument, but get ".concat(L(e)));let[t,n,o]=e;_t(n)||(n=[n]),n.forEach(i=>{switch(i){case"created":case"attached":case"detached":case"ready":case"moved":this.onComponentActivity(i,t,o.path,o);break;case"datasetChanged":this.onComponentDatasetChanged(t,o.dataset);break;case"instanceChanged":this.onComponentInstanceChanged(t,o);break;case"propertiesChanged":this.onComponentPropertiesChanged(t,o.props);break;default:throw new Error("OnLifecycleEvent unknown event: ".concat(i))}})}catch(t){this.handleInternalError(t)}}addInternalEventListeners(){super.addInternalEventListeners(),this.addInternalEventListener(j.CoreContext,"__OnComponentActivity",e=>{let[t,n,o,i,a,u]=e.data,s;t==="created"&&u!==void 0&&(s={initData:u,entryName:a,parentId:o}),this.onComponentActivity(t,n,i,s),t==="detached"&&this.forceGcJSIObjectWrapper()}),this.addInternalEventListener(j.CoreContext,"__OnComponentSelectorChanged",e=>{let[t,n]=e.data;this.onComponentInstanceChanged(t,n)}),this.addInternalEventListener(j.CoreContext,"__OnComponentPropertiesChanged",e=>{let[t,n]=e.data;this.onComponentPropertiesChanged(t,n)}),this.addInternalEventListener(j.CoreContext,"__OnComponentDataSetChanged",e=>{let[t,n]=e.data;this.onComponentDatasetChanged(t,n)})}};var xn=class extends we{constructor(e,t){super(e,void 0),this.fillSingletonData();try{t.srcName&&(delete this.lynx.requireModule.cache[t.srcName],delete we._$factoryCache[t.srcName],this.lynx.requireModule(t.srcName,De),this.dataTypeSet.add("undefined"))}catch(n){this.handleUserError(n)}}fillSingletonData(){this.singletonData=new hn,this.singletonData.nativeApp=this._nativeApp,this.singletonData.sharedConsole=this.sharedConsole,this.singletonData.dynamicComponentExports=this.dynamicComponentExports,this.singletonData.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,this.singletonData.intersectionObserverManager=this._intersectionObserverManager,this.singletonData.exposureManager=this._exposureManager,this.singletonData.textInfoManager=this._textInfoManager,this.singletonData.globalEventEmitter=this.GlobalEventEmitter,this.singletonData.aopManager=this._aopManager,this.singletonData.performance=this.performance,this.singletonData.modules=this.modules,this.singletonData.lazyCallableModules=this._lazyCallableModules,this.singletonData.lynx=this.lynx,this.singletonData.apiList=this._apiList,this.singletonData.Reporter=this.Reporter,this.singletonData.resolvedPromise=this.resolvedPromise}};function Sg(nativeApp,params,lynx){var r,e,t,n;let{cardType}=params,tt,{id}=nativeApp;ee("load card native app id: ".concat(id," cardType ").concat(cardType));let loadSuccess=!0;try{if(cardType=="standalone"?tt=new xn({nativeApp,params,lynx},params):cardType==="tt"?tt=new En({nativeApp,params,lynx},(e=(r=b)==null?void 0:r.multiApps[id])==null?void 0:e.singletonData):tt=new mn({nativeApp,params,lynx},(n=(t=b)==null?void 0:t.multiApps[id])==null?void 0:n.singletonData),b.currentAppId=id,b.multiApps[id]=tt,cardType==="standalone")return nativeApp.setCard(tt),!0;let{BDLynxSDKCore}=b,{apiInit,registerNativeEvent}=BDLynxSDKCore||{};if(typeof apiInit=="function"){let o=apiInit.call(tt);tt.apiList=o}if(tt.registerModule("BDLynxAPIModule",new kt),typeof registerNativeEvent=="function"&&registerNativeEvent(tt.getJSModule("BDLynxAPIModule")),ee("load card native app load app-service.js params.bundleSupportLoadScript ".concat(params.bundleSupportLoadScript)),params.bundleSupportLoadScript)try{delete tt.lynx.requireModule.cache[xe],delete we._$factoryCache[xe],tt.lynx.requireModule(xe,Te),tt.lynx._switches.allowUndefinedInNativeDataTypeSet&&tt.dataTypeSet.add("undefined")}catch(o){loadSuccess=!1,tt.handleUserError(o,void 0,void 0,"loadCard failed")}else{nativeApp.featureCount(mr.TypescriptBundleSupportLoadScript);let jsContent=nativeApp.readScript(xe);eval(jsContent),ee("load card load app-service.js eval success")}nativeApp.setCard(tt)}catch(o){Zs(nativeApp,o),loadSuccess=!1}return loadSuccess}b.loadCard=Sg;b.destroyCard=Qs;b.callDestroyLifetimeFun=zs;b.loadDynamicComponent=Xs;b.__createEventEmitter=Bs;b.__lynxArrayBufferToBase64=Zm;b.__lynxBase64ToArrayBuffer=eg;b.LynxSDKCore={report:ks,reportInner:km,reportUser:te};b.Headers=Bt;b.AbortController=Vo;b.AbortSignal=Gt;b.URL=Wo;Hm(b);})();
